# Anki LinkMaster PDFJS - AI 开发指南
version: 1.0
description: 本文档描述了如何使用 AI 工具和自动化脚本来辅助 Anki LinkMaster PDFJS 项目的开发

ai_launcher:
  script_name: ai-launcher.ps1
  description: PowerShell 脚本用于自动化启动和管理项目的多个服务进程
  
  features:
    - 一键启动所有开发服务（npm dev、debug.py、app.py）
    - 进程管理和监控
    - 日志文件管理
    - 服务状态检查

  usage:
    start_all_services: .\ai-launcher.ps1 start
    stop_all_services: .\ai-launcher.ps1 stop
    check_status: .\ai-launcher.ps1 status
    view_logs: .\ai-launcher.ps1 logs
    start_with_wait_time: .\ai-launcher.ps1 start -WaitTime 15

  services:
    - name: npm dev server
      type: frontend
      port: 3000
      description: 前端开发服务器
    
    - name: debug.py
      type: debug
      port: 9222
      description: Python 调试控制台
    
    - name: app.py
      type: main
      description: 主应用程序

  log_files:
    npm_dev: logs/npm-dev.log
    debug: logs/debug.log
    app: logs/app.log

  notes:
    - 脚本会自动创建 logs 目录
    - 使用 UTF-8 编码处理日志输出
    - 会自动清理 ANSI 转义码，使日志更易读
    - 进程信息保存在 logs/process-info.json

ai_development_workflow:
  environment_preparation:
    prerequisites:
      - Node.js 和 npm
      - Python 3.x
      - PowerShell 5.0+
    
  startup:
    first_time: .\ai-launcher.ps1 start
    
  development:
    check_status: .\ai-launcher.ps1 status
    view_logs: .\ai-launcher.ps1 logs
    hot_reload: 修改代码后服务会自动重启
    
  shutdown:
    stop_services: .\ai-launcher.ps1 stop

troubleshooting:
  common_issues:
    - issue: 端口冲突
      solution: 检查 3000 和 9222 端口是否被占用
    
    - issue: 权限问题
      solution: 以管理员身份运行 PowerShell
    
    - issue: 编码问题
      solution: 确保系统区域设置支持 UTF-8

  manual_debugging:
    frontend: npm run dev
    debug_console: python debug.py --port 9222
    main_app: python app.py

best_practices:
  - 开发前总是先运行 .\ai-launcher.ps1 start
  - 开发结束后使用 .\ai-launcher.ps1 stop 清理进程
  - 定期检查日志文件以监控服务状态
  - 使用版本控制提交代码变更

contact:
  reference: 项目文档
  support: 开发团队