{
  "metadata": {
    "created_at": "2025-09-10T16:17:52+08:00",
    "source_solution": "AIforum/20250910155638-solution-001.json",
    "initiator": "agent-atomizer",
    "version": 1
  },
  "total-atom-task-count": 14,
  "atom-task-list": [
    {
      "id": "atom-001",
      "title": "审阅 solution 并确认范围",
      "short_description": "核对 solution 中 proposed_patch 与 files_changed，确认测试 PDF 路径和需修改文件清单。",
      "estimated_time_minutes": 30,
      "dependencies": []
    },
    {
      "id": "atom-002",
      "title": "创建工作分支并备份 app.py",
      "short_description": "创建 feat/cdp-collector 分支并备份 app.py 到 AItemp/ 目录。",
      "estimated_time_minutes": 20,
      "dependencies": ["atom-001"]
    },
    {
      "id": "atom-003",
      "title": "编写单元测试 (Mock WebSocket)",
      "short_description": "为 DevToolsLogCollector 编写单元测试，使用 mock/monkeypatch 验证日志写入（TDD：先写测试）。",
      "estimated_time_minutes": 45,
      "dependencies": ["atom-002"]
    },
    {
      "id": "atom-004",
      "title": "生成补丁并应用到分支",
      "short_description": "将 proposed_patch 保存为 diff 并应用到工作分支，确保语法正确并 commit。",
      "estimated_time_minutes": 45,
      "dependencies": ["atom-003"]
    },
    {
      "id": "atom-005",
      "title": "更新依赖：在 requirements 中加入 websockets",
      "short_description": "将 websockets>=11.0.0 添加到 src/backend/requirements.txt 并提交。",
      "estimated_time_minutes": 20,
      "dependencies": ["atom-004"]
    },
    {
      "id": "atom-006",
      "title": "创建虚拟环境并安装依赖",
      "short_description": "创建 .venv 并安装 requirements（包含 websockets），验证安装成功。",
      "estimated_time_minutes": 30,
      "dependencies": ["atom-005"]
    },
    {
      "id": "atom-007",
      "title": "运行单元测试并修复失败",
      "short_description": "运行 pytest，修复因补丁引入的失败，直至单元测试通过并提交修复。",
      "estimated_time_minutes": 60,
      "dependencies": ["atom-003", "atom-004", "atom-006"]
    },
    {
      "id": "atom-008",
      "title": "通过 ai-launcher 启动并检查日志生成",
      "short_description": "使用 .\\ai-launcher.ps1 启动服务并确认 logs/pdf-viewer.log 被创建（人工确认 UI）。",
      "estimated_time_minutes": 30,
      "dependencies": ["atom-006", "atom-004"]
    },
    {
      "id": "atom-009",
      "title": "加载测试 PDF 并验证日志条目",
      "short_description": "在 UI 中加载 test_files/test.pdf，监控 logs/pdf-viewer.log 并保存样例日志到 AIforum/ 目录（人工操作）。",
      "estimated_time_minutes": 45,
      "dependencies": ["atom-008"]
    },
    {
      "id": "atom-010",
      "title": "撰写运维文档：日志轮转与部署建议",
      "short_description": "创建 docs/ops/pdf-viewer-logging.md，包含 logrotate 与 Windows 任务计划示例及回滚建议。",
      "estimated_time_minutes": 30,
      "dependencies": ["atom-008"]
    },
    {
      "id": "atom-011",
      "title": "创建 PR 草稿与发布说明",
      "short_description": "Push 分支并创建 PR 草稿，包含变更摘要、测试步骤、sample_log_entries 与回滚说明。",
      "estimated_time_minutes": 30,
      "dependencies": ["atom-007", "atom-010"]
    },
    {
      "id": "atom-012",
      "title": "回滚演练与验证",
      "short_description": "执行 git 回滚操作并验证系统恢复到补丁前状态，确保日志文件可清理回退。",
      "estimated_time_minutes": 25,
      "dependencies": ["atom-004", "atom-006"]
    },
    {
      "id": "atom-013",
      "title": "汇总结果并提交完成报告",
      "short_description": "在 AIforum 中提交最终报告并调用 attempt_completion 报告已完成项。",
      "estimated_time_minutes": 15,
      "dependencies": ["atom-011"]
    },
    {
      "id": "atom-014",
      "title": "编写集成测试 (mock CDP http/ws)",
      "short_description": "编写集成测试模拟 CDP /json 与 WebSocket，验证 collector 能与 mock 服务交互并写日志。",
      "estimated_time_minutes": 70,
      "dependencies": ["atom-004", "atom-006"]
    }
  ]
}