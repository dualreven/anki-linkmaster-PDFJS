---
title: "原子任务汇总 (Atomic Task Summary) 模板"
author: "填写：姓名（例如：张三）"
file_version: "填写：模版版本号，例如 0.1"
input: "填写：至少应包含：[`AITASK/01-myproject/20250101010101-共识文档.md`](AITASK/01-myproject/20250101010101-共识文档.md:1)、[`AITASK/01-myproject/v1/20250101010101-架构说明.md`](AITASK/01-myproject/v1/20250101010101-架构说明.md:1)、[`AITASK/01-myproject/v1/20250101010101-规范说明.md`](AITASK/01-myproject/v1/20250101010101-规范说明.md:1) 等。"
usage: "填写：本文件用途：供 Group-Job-Manager/Job-Executor 划分原子任务与生成测试用例使用。"
generated_time: "填写：生成时间，格式 YYYYMMDDhhmmss"
source_inputs: "填写：列出本次汇总所依据的源文件路径（相对路径，可点击），例如上面 input 中的文档"
---

# 原子任务汇总 (Atomic Task Summary) 模板

文档说明：
- 目的：为 Group-Job-Manager 和 Job-Executor 提供结构化的原子任务清单、依赖、测试映射与分组建议，便于自动化委派与测试生成。
- 目标读者：Task-Design-Manager、Group-Job-Manager、Job-Executor、Test-Designer。
- 使用场景：在 AITASK 流程中，由 Task-Design-Manager 基于共识/架构/规范文档生成，用于后续分组与执行。

## 1. 概要（Summary / 目标与范围）
- 填写要点：
  - 目标：明确本次原子任务汇总的目标（例如：拆解 XXX 功能，覆盖 YYY 场景）。
  - 范围：标注包含/不包含的子系统、版本（vX）和时间范围。
  - 读者与使用者：列出期望的使用者角色。

示例：
> 目标：将“文档上传与处理”功能拆解为可独立执行与测试的原子任务；范围：仅包含 v1 接口与后台处理，不包含前端 UI 优化。

## 2. 原子任务汇总表（Atomic Task Index）
- 表格列（必含）说明与示例：

| AtomicID | Title | Description | MacroID | DoD (Definition of Done) | Estimation | Priority | Dependencies | Owner | Expected Outputs |
|---|---|---|---|---|---:|---|---|---|---|
| 示例：AT-001 | 用户文件上传 | 实现用户通过 API 上传文件并入库 | MACRO-01 | 上传接口返回 200；文件持久化到 /data；单元+集成测试通过 | 2 人日 | P1 | 无 / AT-005 | dev-alice | `artifact: upload-log` |

列说明（建议填写方式）：
- AtomicID：唯一标识，格式示例 AT-001，便于追踪与引用。
- Title：简短一句话描述任务目标。
- Description：详细描述包括前置条件、输入/输出、失败边界条件。
- MacroID：所属宏任务或功能块 ID，便于聚合（示例：MACRO-01）。
- DoD：可验证的完成准则（必须包含可执行/可测试的验收条件）。示例："接口返回 200 且数据库存在记录，覆盖边界条件"。
- Estimation：估时，单位说明（人日/人小时，例如：2 人日）。建议同时记录不确定性范围。
- Priority：优先级（P0/P1/P2 等）。
- Dependencies：列出依赖的 AtomicID 或外部服务（使用相对路径引用规范或接口文档）。
- Owner：责任人或角色（例如 dev-alice / team-backend）。
- Expected Outputs：预期产物（例如：API 文档、日志、测试报告），建议使用相对路径或 artifact 标签。

示例行（可直接复制到表中）：
| AT-002 | 后台文件入库 | 后台服务消费上传消息并持久化文件 | MACRO-01 | 消息消费成功并写入数据库（可查询） | 1 人日 | P1 | AT-001 | dev-bob | `AITASK/01-myproject/v1/20250101010101-原子任务说明.md` |

## 3. 任务依赖图与顺序（Dependencies & Execution Order）
- 说明如何表示依赖：
  - 同组内依赖：使用表格或箭头（例如 AT-001 -> AT-002）。
  - 跨组依赖：在 Dependencies 列中引用 Task Group 路径或 AtomicID，并在文档底部绘制有向边示例。

依赖示例（表格）：
| From | To | Type | Notes |
|---|---|---|---|
| AT-001 | AT-002 | 顺序 | 上传完成后触发后台消费 |
| AT-003 | AT-005 | 并发可选 | 若外部接口不可用则降级处理 |

有向边示例（文本）：
- AT-001 -> AT-002 -> AT-003

可选：在实际产物中附带 mermaid 图示例（若支持），并在此处写明 mermaid 语法位置。

## 4. 接口/契约引用（Contract References）
- 说明：对于依赖外部接口或模块的原子任务，必须在 Dependencies 或独立列中引用对应的规范或接口文档路径。
- 引用示例：[`AITASK/01-myproject/v1/任务组/20250101010101-API用例说明.md`](AITASK/01-myproject/v1/任务组/20250101010101-API用例说明.md:1)
- 填写建议：使用相对路径并包含文档版本（vX）与时间戳，便于溯源。

## 5. 测试要点与对应 Test-Designer 输入（Test Points）
- 说明：为每个 Atomic Task 指定至少一个可映射到 Test-Designer 的测试要点（用于生成单元/集成/契约测试）。
- 映射模板（任务ID → 测试要点）：
| AtomicID | Test Point (简述) | Test-Designer Input Path |
|---|---|---|
| AT-001 | 上传成功；文件哈希一致 | `tests/inputs/AT-001-testcase.json` |

示例映射：
- AT-001 → 上传接口在 200/400/500 下的行为；必要时列出边界输入与模拟外部依赖。

## 6. 估时与资源（Estimation & Resources）
- 估时方法：采用类似 Planning Poker 或 T-Shirt Size，再转换为人日/人小时记录。
- 资源标注示例字段：DevHours, QAHours, OpsHours；或角色列表（开发/测试/运维）。

估时与资源表格示例：
| AtomicID | Estimation (人日) | DevHours | QAHours | OpsHours | Roles |
|---|---:|---:|---:|---:|---|
| AT-002 | 1 | 6 | 2 | 0 | backend, qa |

## 7. 任务组分配建议（Grouping Suggestions）
- 建议规则：
  - 按功能域或 MacroID 聚合。
  - 小组内尽量保持互补的技能集（例如：1 后端 + 1 测试）。
  - 控制每组任务总估时以便可交付（例如：每组 ≤ 10 人日）。

任务组示例表：
| GroupID | Group Name | Included AtomicIDs | Suggested Owner | Target Estimation |
|---|---|---|---|---:|
| G-01 | 文件上传组 | AT-001, AT-002 | team-file | 3 人日 |

## 8. 风险/阻塞点（Risks & Blockers）
- 在任务行增加 Risk/Blocker 列或单独列出风险条目并标注优先级与缓解措施。
- 示例字段：RiskID, Description, Severity (High/Med/Low), BlockedBy, Mitigation.

风险示例表：
| RiskID | Affected AtomicID | Severity | BlockedBy | Mitigation |
|---|---|---|---|---|
| R-001 | AT-003 | High | 第三方 API | 备用 mock 服务；调整优先级 |

## 9. 输出/交付物（Outputs）
- 本汇总应产生或引用的文件（示例，均为相对路径）：
1. [`AITASK/01-myproject/v1/20250101010101-原子任务汇总.md`](AITASK/01-myproject/v1/20250101010101-原子任务汇总.md:1)
2. [`AITASK/01-myproject/v1/20250101010101-分组任务汇总.md`](AITASK/01-myproject/v1/20250101010101-分组任务汇总.md:1)
3. [`AITASK/01-myproject/v1/任务组/01/20250101010101-原子任务说明.md`](AITASK/01-myproject/v1/任务组/01/20250101010101-原子任务说明.md:1)
- 建议在 Outputs 中同时列出可用于 Job-Executor 与 Test-Designer 的 artifact 路径（例如 tests/inputs/）。

## 10. 未决项与决策点（Open Questions）
- 列表示例（需上游确认）：
  - 优先级策略是否采用 P0/P1/P2（建议选项：P0=必须、P1=重要、P2=可延后）。
  - 外部接口可用性窗口（建议：确认 SLA 或 mock 替代）。
- 建议的决策选项格式，便于自动转为 ask_followup_question：
```
问题：是否采用 P0/P1/P2 策略？
选项：
- P0/P1/P2（推荐）
- 使用数值优先级 1-5
```

## 11. 版本与作者记录（metadata 示例）
- 记录表格示例：
| Date (YYYYMMDD) | Version | Author | Notes |
|---|---|---|---|
| 20250827 | 0.1 | 张三 | 初始模板 |

## 12. 附录：如何从原子任务生成 Job-Executor 子任务（示例 new_task message）
- 说明：提供 new_task 的样板以便自动化创建 job-executor 子任务。
- 样板（请替换路径与 ID 为实际值）：
```
<new_task>
<mode>job-executor</mode>
<message>
为 Atomic Task: AT-001 创建 Job-Executor 子任务。
必需输入路径：
- 原子任务说明：[`AITASK/01-myproject/v1/任务组/01/20250101010101-原子任务说明.md`](AITASK/01-myproject/v1/任务组/01/20250101010101-原子任务说明.md:1)
- 测试输入模板：`tests/inputs/AT-001-testcase.json`
期望产物：
- [`AITASK/01-myproject/v1/任务组/01/20250101010101-执行记录-AT-001.md`](AITASK/01-myproject/v1/任务组/01/20250101010101-执行记录-AT-001.md:1)
</message>
</new_task>
```

## 13. 参考（带路径可点击并摘录要点）
- 必须引用的参考文档（路径为相对路径）并在此摘录要点：
1. [`docs/articles/AITASK项目工程文件目录结构.md`](docs/articles/AITASK项目工程文件目录结构.md:1)
   - 参考摘录：描述原子任务与分组目录的存放位置与命名规范（例如：`AITASK/[序号-项目名]/v[版本]/[YYYYMMDDhhmmss]-...`）。
2. [`docs/articles/开发流程设计.md`](docs/articles/开发流程设计.md:1)
   - 参考摘录：1.2 / 1.2.1（Task-Design-Manager 与 Test-Designer）职责说明，强调 DoD 与测试映射。
3. [`roo/system-prompt-task-design-manager`](roo/system-prompt-task-design-manager:1)
   - 参考摘录：Task-Design-Manager 在拆解任务时需提供可验证的 DoD 与 Test-Designer 输入。
4. [`roo/system-prompt-group-job-manager`](roo/system-prompt-group-job-manager:1)
   - 参考摘录：Group-Job-Manager 负责按组协调任务分配并生成分组交付清单。

---

# 原子任务示例（填表示例）
- 示例 1：
| AT-001 | 用户文件上传 | 接口返回 200 且 DB 有记录 | MACRO-01 | 上传成功且哈希匹配 | 2 人日 | P1 | - | dev-alice | `tests/outputs/AT-001-result.json` |
- 示例 2：
| AT-002 | 后台文件入库 | 消息消费并写入 DB，可查询 | MACRO-01 | 通过集成测试 | 1 人日 | P1 | AT-001 | dev-bob | `tests/outputs/AT-002-result.json` |
- 示例 3：
| AT-003 | 第三方 OCR 调用 | 可降级为本地 OCR | MACRO-02 | 异常场景有 fallback 流程 | 3 人日 | P2 | 第三方API | dev-cindy | `tests/outputs/AT-003-result.json` |

说明：
- 请复制本模板到 [`AITASK/序号-项目名/v版本/` ] 目录并按实际路径与时间戳命名输出文件。
- 真实产物示例文件名格式：`[YYYYMMDDhhmmss]-原子任务汇总.md`（例如：`20250827134500-原子任务汇总.md`）。

模板文件结束。