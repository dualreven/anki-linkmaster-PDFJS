---
title: "开发任务报告示例"
author: "张三 <zhangsan@example.com>"
file_version: "1.0"
input:
  atomic_task:
    - "AITASK/001-示例项目/atomic_tasks/任务说明.md"
  test_cases:
    - "AITASK/001-示例项目/tests/用例列表.md"
  api_cases:
    - "AITASK/001-示例项目/api/接口用例.md"
  architecture:
    - "docs/architecture/架构说明.md"
usage: "本文件由 Job-Executor / Code-Generator 作为运行输出与交付，用于交付实现说明、测试验证与产物位置等信息。"
generated_time: "YYYY-MM-DDThh:mm:ssZ"
source_inputs:
  - "原子任务说明: AITASK/.../atomic_tasks/任务说明.md"
---

# 开发任务报告 (Development Task Report)

> 注：本模板为标准化开发任务报告模板，所有示例路径均为相对路径并以可点击格式给出，便于追溯与复现。

## 文件头（YAML 元数据说明）

- `title`：报告标题（示例：开发任务报告示例），请填写为自然语言标题。
- `author`：作者与联系方式（示例：张三 <zhangsan@example.com>）。
- `file_version`：文档版本号（示例：1.0）。
- `input`：本次任务使用的输入文档路径集合，包含但不限于原子任务说明、测试用例、API 用例、架构说明等，示例字段如下：
  - `atomic_task`：原子任务说明路径列表，例如：[`AITASK/001-示例项目/atomic_tasks/任务说明.md`](AITASK/001-示例项目/atomic_tasks/任务说明.md:1)
  - `test_cases`：测试用例列表路径，例如：[`AITASK/001-示例项目/tests/用例列表.md`](AITASK/001-示例项目/tests/用例列表.md:1)
  - `api_cases`：API 用例路径，例如：[`AITASK/001-示例项目/api/接口用例.md`](AITASK/001-示例项目/api/接口用例.md:1)
  - `architecture`：架构说明路径，例如：[`docs/architecture/架构说明.md`](docs/architecture/架构说明.md:1)
- `usage`：说明本文件用途与交付对象（示例：作为 Job-Executor / Code-Generator 的运行输出与交付）。
- `generated_time`：由生成工具填入的 ISO 时间戳（示例：2025-08-27T15:00:00+08:00）。
- `source_inputs`：列出本次生成依赖的上游文档或数据快照路径。

---

## 1. 概要（Summary）

- 任务目标：简要一句话描述本次开发目的。
- AtomicID：示例：`AT-20250827-001`。
- 所属分组：示例：`功能/用户认证`。
- 负责人：姓名与联系方式。
- 开始时间 / 结束时间：格式 YYYY-MM-DD hh:mm。

示例：

- 任务目标：修复登录失败时的异常处理并增加日志链路。
- AtomicID：`AT-20250827-001`
- 所属分组：`功能/用户认证`
- 负责人：张三（zhangsan@example.com）
- 开始时间：2025-08-20 09:00 / 结束时间：2025-08-27 18:00

## 2. 实现概述（Implementation Overview）

- 主要变更：
  - 修复 login flow 中未捕获的 NullPointer 异常，增加 defensive check。
  - 优化缓存策略，减少重复数据库查询。
- 涉及模块/文件（相对路径，可点击）：
  - [`src/auth/login.py`](src/auth/login.py:1)
  - [`src/auth/session_manager.py`](src/auth/session_manager.py:1)
  - [`configs/auth.yaml`](configs/auth.yaml:1)
- 变更摘要（重要改动点，逐条列出）：
  - login.py：增加参数校验与 try/except，改动行范围示例（行号视具体文件而定）。
  - session_manager.py：将缓存过期从 5 分钟调整为 15 分钟，理由：减少 DB 负载。

## 3. 关键代码/配置说明（Key Code / Config）

- 关键实现文件：
  - [`src/auth/login.py`](src/auth/login.py:1)：处理登录主逻辑，关键函数 `authenticate_user()`。
  - [`src/auth/session_manager.py`](src/auth/session_manager.py:1)：会话与缓存管理。
- 重要配置项与变更理由：
  - [`configs/auth.yaml`](configs/auth.yaml:1)：
    - session.timeout: 由 300s 调整为 900s（原因：减少重新认证频次）。
- 运行/部署说明（示例命令）：

```bash
# 在开发环境构建并运行服务（示例）
python -m venv .venv
.venv\Scripts\Activate.ps1
pip install -r requirements.txt
python src/main.py --config configs/auth.yaml
```

## 4. 测试与验证（Testing & Verification）

- 执行的测试类型与结果摘要：
  - 单元测试：运行 `pytest tests/unit`，通过 120/120。
  - 集成测试：运行 `pytest tests/integration`，通过 45/46（详见失败项）。
  - 手工测试：登录/登出流程手工验证，全部关键场景通过。
- 覆盖率信息：
  - 测试覆盖率：总体 88%，变更文件覆盖率 92%。
- 主要测试日志与路径（相对路径）：
  - 单元测试日志：[`logs/test/unit-test.log`](logs/test/unit-test.log:1)
  - 集成测试日志：[`logs/test/integration-test.log`](logs/test/integration-test.log:1)
- 失败项说明与建议：
  - 集成测试 `test_session_expiry` 失败（1 项），原因定位为测试假设 cache TTL 环境差异；建议：在 CI 环境统一设置模拟时间或调整用例期望。

## 5. 静态检查与规范校验（Static Checks & Spec Validation）

- Lint / Type-check 结果摘要：
  - `flake8`：0 个错误（示例）。
  - `mypy`：无致命类型错误，若存在忽略项请说明。
- spec-verifier（项目专用校验器）运行结果：
  - 通过 / 未通过（填写结果），若存在违规项请说明严重度（高/中/低）与建议处理方式。
- 相关输出路径：
  - Lint 报告：[`reports/lint/flake8-report.txt`](reports/lint/flake8-report.txt:1)
  - Type-check 报告：[`reports/type/mypy.txt`](reports/type/mypy.txt:1)

## 6. 性能/行为影响评估（Performance / Behavior Impact）

- 性能基准摘要（如适用）：
  - 变更前 QPS：1000，变更后 QPS：980（预估），响应时间 p95：+5ms。
- 评估方法与数据路径：
  - 基准脚本：[`performance/bench/login_bench.py`](performance/bench/login_bench.py:1)
  - 基准结果：[`performance/results/login_bench_20250827.json`](performance/results/login_bench_20250827.json:1)

## 7. 回退方案（Rollback / Mitigation）

- 回退步骤（示例）：
  1. 在部署门禁触发时，立刻在发布系统执行回滚：将服务镜像标签回滚到上一个稳定版本（示例命令）。
  2. 恢复数据库或会话配置（如有），并通知相关负责人。
- 回退命令示例（Docker + kubectl）：

```bash
# 回滚到上一个镜像标签示例
kubectl set image deployment/auth-service auth-service=myrepo/auth-service:20250820-rc --namespace=prod
kubectl rollout status deployment/auth-service --namespace=prod
```

## 8. 产物与路径（Artifacts / Outputs）

- 构建产物与相对路径（示例）：
  - 可执行包 / 构建输出：[`dist/auth-service-1.2.3.tar.gz`](dist/auth-service-1.2.3.tar.gz:1)
  - Docker 镜像标签：`myrepo/auth-service:20250827-001`
  - 构建日志：[`logs/build/build-20250827.log`](logs/build/build-20250827.log:1)
  - 本开发任务报告（当前文件）：[`templates/开发任务报告.md`](templates/开发任务报告.md:1)

## 9. 未决项与建议（Open Items & Recommendations）

- 未决项：
  - 对第三方认证库版本升级的兼容性验证（负责人：李四）。
- 建议：
  - 将 session TTL 调整观察期再评估，建议负责人：张三。

## 10. 时间与工时记录（Time & Effort）

- 实际工时：32h
- 估时对比：估计 28h，超时 4h（说明原因）
- 参与人员列表：
  - 张三（负责实现）
  - 李四（测试）

## 11. 输出/交付物（Outputs）

- 示例交付路径策略（相对路径示例）：
  - [`AITASK/001-示例项目/v1.0/01/20250827-AT-20250827-001-开发任务报告.md`](AITASK/001-示例项目/v1.0/01/20250827-AT-20250827-001-开发任务报告.md:1)
  - 代码工件路径：[`AITASK/001-示例项目/v1.0/01/artifacts/`](AITASK/001-示例项目/v1.0/01/artifacts/:1)
  - 构建日志：[`AITASK/001-示例项目/v1.0/01/logs/build-20250827.log`](AITASK/001-示例项目/v1.0/01/logs/build-20250827.log:1)

## 12. 参考（带相对路径并摘录要点）

- [`docs/articles/开发流程设计.md`](docs/articles/开发流程设计.md:1)
  - 摘录要点：Job-Executor 负责生成最终交付物并进行规范校验，详见对应章节。
- [`kilocode/system-prompt-job-executor`](kilocode/system-prompt-job-executor:1)
  - 摘录要点：交互规范与生成器职责说明。
- [`kilocode/system-prompt-code-generator`](kilocode/system-prompt-code-generator:1)
  - 摘录要点：代码生成器约束与输出格式要求。

---

## 示例（短）

- 实现摘要示例：
  - 修复了登录流程空指针异常；涉及文件：[`src/auth/login.py`](src/auth/login.py:1)、[`src/auth/session_manager.py`](src/auth/session_manager.py:1)。

- 测试结果摘要示例：
  - 单元测试：120/120 通过；集成测试：45/46，通过率 97.8%，失败项 `test_session_expiry` 已在未决项中记录并指派负责人。

End.