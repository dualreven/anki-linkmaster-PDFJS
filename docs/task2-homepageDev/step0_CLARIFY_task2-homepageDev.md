# Anki LinkMaster PDFJS - task2-homepageDev 需求澄清文档

## 1. 背景与目标

### 背景
在 project_initialize 任务中，我们已经完成了应用程序的基础架构搭建，包括后端框架、PDF管理器和WebSocket服务器等核心模块。然而，在测试过程中发现，主页（PDF文件管理页面）的功能实现存在问题，特别是PDF文件导入功能无法正常工作。

### 目标
修复PDF主页的功能缺陷，使其能够正常地展示和管理PDF文件，重点解决无法导入PDF文件的问题。

## 2. 功能需求

### 2.1 PDF文件导入功能
- 用户应能够通过文件选择器选择本地PDF文件
- 选择文件后，系统应能够正确处理并将PDF文件添加到文件列表中
- 文件添加成功后，页面应实时更新显示新添加的PDF文件
- 支持批量导入PDF文件

### 2.2 PDF文件列表展示功能
- 正确展示系统中已存在的PDF文件列表
- 每个PDF文件应显示文件名、路径等基本信息
- 列表为空时显示适当的提示信息

### 2.3 PDF文件操作功能
- 支持打开PDF文件进行查看
- 支持从列表中删除PDF文件

## 3. 非功能需求

### 3.1 性能要求
- 文件选择和处理操作应具有良好的响应速度
- 页面更新应及时，无明显延迟

### 3.2 用户体验要求
- 操作流程应直观、简洁
- 对于错误情况，应提供明确的提示信息
- 文件选择器应只允许选择PDF文件类型

### 3.3 安全性要求
- 文件处理应遵循安全规范，避免潜在的安全风险
- 不应暴露本地文件系统的完整路径信息

## 4. 技术约束

### 4.1 前端技术栈
- HTML5 + CSS3 + JavaScript
- 已使用Vite作为前端构建工具
- 浏览器环境下的文件处理限制

### 4.2 后端技术栈
- Python 3.9+
- PyQt6框架
- WebSocket服务器实现
- PDF文件管理模块

### 4.3 现有代码架构
- 前端代码位于`src/frontend/pdf-home/`目录
- 后端代码位于`src/backend/`目录
- 使用WebSocket进行前后端实时通信

## 5. 未决问题

1. **文件上传机制**：在浏览器环境中，无法直接获取文件的完整本地路径。需要确定一种合适的文件上传机制，可能的方案包括：
   - 通过WebSocket发送文件内容
   - 使用HTML5 File API进行文件处理
   - 调整后端API设计以适应浏览器的安全限制

2. **错误处理流程**：当前系统的错误处理机制不完善，需要明确：
   - 前端如何捕获和显示后端返回的错误信息
   - 前后端错误代码和消息格式的统一规范

3. **文件存储策略**：需要明确PDF文件的存储位置和管理方式：
   - 是直接使用用户选择的文件路径，还是复制到应用程序指定目录
   - 文件元数据的存储格式和位置

4. **功能完整性**：需要确认是否还有其他主页相关的功能需要在本次任务中一并实现

请确认以上需求和问题，以便Align Agent能够高效展开对齐工作。