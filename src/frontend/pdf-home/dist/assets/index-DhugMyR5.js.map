{"version":3,"file":"index-DhugMyR5.js","sources":["../../../common/utils/logger.js","../../../common/event/event-bus.js","../../../../../node_modules/tabulator-tables/dist/js/tabulator_esm.js","../../table-wrapper.js","../../../common/event/event-constants.js","../../../common/error/error-handler.js","../../../common/utils/dom-utils.js","../../ui-manager.js","../../../common/pdf/pdf-manager.js","../../../common/ws/ws-client.js","../../index.js"],"sourcesContent":["/**\r\n * @file 日志记录器模块，提供分级、分类的日志记录功能。\r\n * @module Logger\r\n */\r\n\r\n/**\r\n * @enum {string}\r\n * @description 定义日志的严重性级别。\r\n */\r\nexport const LogLevel = {\r\n  DEBUG: \"debug\",\r\n  INFO: \"info\",\r\n  WARN: \"warn\",\r\n  ERROR: \"error\",\r\n};\r\n\r\n/**\r\n * @class Logger\r\n * @description 一个灵活的日志记录器，支持模块化、日志级别和上下文数据。\r\n *\r\n * @param {string} [moduleName=\"App\"] - 当前日志记录器实例所属的模块名。\r\n * @param {LogLevel} [initialLogLevel=LogLevel.INFO] - 该实例的初始日志级别。\r\n */\r\nexport class Logger {\r\n  #moduleName;\r\n  #logLevel;\r\n\r\n  constructor(moduleName = \"App\", initialLogLevel = LogLevel.INFO) {\r\n    this.#moduleName = moduleName;\r\n    this.#logLevel = initialLogLevel;\r\n  }\r\n\r\n  /**\r\n   * 设置当前日志实例的日志级别。\r\n   * @param {LogLevel} level - 新的日志级别。\r\n   */\r\n  setLogLevel(level) {\r\n    if (Object.values(LogLevel).includes(level)) {\r\n      this.#logLevel = level;\r\n    } else {\r\n      console.error(`[Logger] Invalid log level: ${level}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前日志实例的日志级别。\r\n   * @returns {LogLevel} 当前的日志级别。\r\n   */\r\n  getLogLevel() {\r\n    return this.#logLevel;\r\n  }\r\n\r\n  #log(level, message, ...args) {\r\n    const levelOrder = [LogLevel.DEBUG, LogLevel.INFO, LogLevel.WARN, LogLevel.ERROR];\r\n    if (levelOrder.indexOf(level) < levelOrder.indexOf(this.#logLevel)) {\r\n      return;\r\n    }\r\n\r\n    const timestamp = new Date().toISOString();\r\n    const prefix = `[${timestamp}] [${this.#moduleName}] [${level.toUpperCase()}]`;\r\n\r\n    const consoleMethod = console[level] || console.log;\r\n    \r\n    if (args.length > 0) {\r\n        // 序列化对象以便更好地查看内容\r\n        const serializedArgs = args.map(arg => this.#serializeArg(arg));\r\n        consoleMethod(prefix, message, ...serializedArgs);\r\n    } else {\r\n        consoleMethod(prefix, message);\r\n    }\r\n  }\r\n\r\n  #serializeArg(arg) {\r\n    if (arg === null || arg === undefined) {\r\n      return arg;\r\n    }\r\n    \r\n    if (typeof arg === 'string' || typeof arg === 'number' || typeof arg === 'boolean') {\r\n      return arg;\r\n    }\r\n    \r\n    if (arg instanceof Error) {\r\n      return {\r\n        name: arg.name,\r\n        message: arg.message,\r\n        stack: arg.stack\r\n      };\r\n    }\r\n    \r\n    if (typeof arg === 'object') {\r\n      try {\r\n        return this.#deepSerialize(arg, 3);\r\n      } catch (e) {\r\n        return `[Object serialization failed: ${e.message}]`;\r\n      }\r\n    }\r\n    \r\n    return arg;\r\n  }\r\n\r\n  #deepSerialize(obj, maxDepth, seen = new Set()) {\r\n    if (maxDepth <= 0) {\r\n      return '[Max depth reached]';\r\n    }\r\n    \r\n    if (obj === null || obj === undefined) {\r\n      return obj;\r\n    }\r\n    \r\n    if (typeof obj !== 'object') {\r\n      return obj;\r\n    }\r\n    \r\n    if (seen.has(obj)) {\r\n      return '[Circular reference]';\r\n    }\r\n    \r\n    seen.add(obj);\r\n    \r\n    if (Array.isArray(obj)) {\r\n      const result = obj.slice(0, 10).map(item => this.#deepSerialize(item, maxDepth - 1, seen));\r\n      if (obj.length > 10) {\r\n        result.push(`[... and ${obj.length - 10} more items]`);\r\n      }\r\n      seen.delete(obj);\r\n      return result;\r\n    }\r\n    \r\n    const result = {};\r\n    const keys = Object.keys(obj).slice(0, 20);\r\n    \r\n    for (const key of keys) {\r\n      try {\r\n        result[key] = this.#deepSerialize(obj[key], maxDepth - 1, seen);\r\n      } catch (e) {\r\n        result[key] = `[Error serializing: ${e.message}]`;\r\n      }\r\n    }\r\n    \r\n    const totalKeys = Object.keys(obj).length;\r\n    if (totalKeys > 20) {\r\n      result['...'] = `[and ${totalKeys - 20} more properties]`;\r\n    }\r\n    \r\n    seen.delete(obj);\r\n    return result;\r\n  }\r\n\r\n  debug(message, ...args) {\r\n    this.#log(LogLevel.DEBUG, message, ...args);\r\n  }\r\n\r\n  info(message, ...args) {\r\n    this.#log(LogLevel.INFO, message, ...args);\r\n  }\r\n\r\n  warn(message, ...args) {\r\n    this.#log(LogLevel.WARN, message, ...args);\r\n  }\r\n\r\n  error(message, ...args) {\r\n    this.#log(LogLevel.ERROR, message, ...args);\r\n  }\r\n\r\n  event(eventName, action, data = {}) {\r\n    const serializedData = this.#serializeForMessage(data);\r\n    this.info(`Event [${eventName}]: ${action} ${serializedData}`);\r\n  }\r\n\r\n  #serializeForMessage(obj) {\r\n    if (obj === null || obj === undefined) {\r\n      return String(obj);\r\n    }\r\n    \r\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean') {\r\n      return String(obj);\r\n    }\r\n    \r\n    if (typeof obj === 'object') {\r\n      try {\r\n        return this.#safeStringify(obj, 3);\r\n      } catch (e) {\r\n        return `[Object: ${e.message}]`;\r\n      }\r\n    }\r\n    \r\n    return String(obj);\r\n  }\r\n\r\n  #safeStringify(obj, maxDepth = 3) {\r\n    const seen = new WeakSet();\r\n    \r\n    const replacer = (key, value) => {\r\n      if (key.startsWith('_') || key.startsWith('#')) {\r\n        return '[Internal Property]';\r\n      }\r\n      \r\n      if (value instanceof Error) {\r\n        return {\r\n          name: value.name,\r\n          message: value.message\r\n        };\r\n      }\r\n      \r\n      if (typeof value === 'object' && value !== null) {\r\n        if (seen.has(value)) {\r\n          return '[Circular Reference]';\r\n        }\r\n        seen.add(value);\r\n      }\r\n      \r\n      return value;\r\n    };\r\n    \r\n    try {\r\n      const result = JSON.stringify(obj, replacer, 2);\r\n      return result;\r\n    } catch (e) {\r\n      return `[Serialization Error: ${e.message}]`;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Logger;\r\n","/**\r\n\r\n * 事件总线模块 (moved)\r\n\r\n */\r\n\r\nimport { Logger, LogLevel } from \"../utils/logger.js\";\r\n\r\nclass EventNameValidator {\r\n  static validate(event) {\r\n    if (typeof event !== \"string\" || !event) return false;\r\n\r\n    const parts = event.split(\":\");\r\n\r\n    return parts.length === 3 && parts.every((p) => p.length > 0);\r\n  }\r\n\r\n  static getValidationError(event) {\r\n    if (typeof event !== \"string\" || !event)\r\n      return `事件名称必须是非空字符串，但收到了：${event}`;\r\n\r\n    const parts = event.split(\":\");\r\n\r\n    if (parts.length !== 3)\r\n      return `事件名称 '${event}' 格式不正确，应为 {module}:{action}:{status}`;\r\n\r\n    if (parts.some((p) => p.length === 0))\r\n      return `事件名称 '${event}' 的各个部分不能为空`;\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nexport class EventBus {\r\n  #events = {};\r\n\r\n  #enableValidation = true;\r\n\r\n  #logger;\r\n\r\n  #nextSubscriberId = 1;\r\n\r\n  constructor(options = {}) {\r\n    this.#enableValidation = options.enableValidation !== false;\r\n\r\n    this.#logger = new Logger(\"EventBus\");\r\n\r\n    if (options.logLevel) this.#logger.setLogLevel(options.logLevel);\r\n\r\n    this.#logger.info(\r\n      `事件总线已初始化，验证模式: ${this.#enableValidation}, 日志级别: ${\r\n        options.logLevel || \"INFO\"\r\n      }`\r\n    );\r\n  }\r\n\r\n  #inferActorId() {\r\n    try {\r\n      const err = new Error();\r\n      const stack = err.stack || \"\";\r\n      const lines = stack\r\n        .split(\"\\n\")\r\n        .map((l) => l.trim())\r\n        .filter(Boolean);\r\n      for (let i = 1; i < lines.length; i++) {\r\n        const line = lines[i];\r\n        if (!/event-bus\\.js|EventBus\\./i.test(line)) {\r\n          const m =\r\n            line.match(/at\\s+(.*)\\s+\\((.*):(\\d+):(\\d+)\\)$/) ||\r\n            line.match(/at\\s+(.*):(\\d+):(\\d+)$/);\r\n          if (m) {\r\n            const func = m[1];\r\n            const file = m[2] || m[1];\r\n            const lineNo = m[3] || m[2];\r\n            return `${func}:${lineNo}`;\r\n          }\r\n          return line;\r\n        }\r\n      }\r\n      return null;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  on(event, callback, options = {}) {\r\n    if (this.#enableValidation) {\r\n      const error = EventNameValidator.getValidationError(event);\r\n\r\n      if (error) {\r\n        this.#logger.error(`事件订阅失败: ${error}, 事件名: ${event}`);\r\n\r\n        throw new Error(`无效的事件名称: ${error}`);\r\n      }\r\n    }\r\n\r\n    if (!this.#events[event]) this.#events[event] = new Map();\r\n\r\n    const subscriberId =\r\n      options.subscriberId ||\r\n      this.#inferActorId() ||\r\n      `sub_${this.#nextSubscriberId++}`;\r\n\r\n    this.#events[event].set(subscriberId, callback);\r\n\r\n    this.#logger.event(`${event}`, `订阅`, {\r\n      subscriberId,\r\n      actorId: this.#inferActorId(),\r\n    });\r\n\r\n    return () => this.off(event, subscriberId);\r\n  }\r\n\r\n  off(event, callbackOrId) {\r\n    const subscribers = this.#events[event];\r\n    if (!subscribers) return;\r\n    let removedId = null;\r\n    if (typeof callbackOrId === \"function\") {\r\n      for (const [id, cb] of subscribers.entries()) {\r\n        if (cb === callbackOrId) {\r\n          subscribers.delete(id);\r\n          removedId = id;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      if (subscribers.has(callbackOrId)) {\r\n        subscribers.delete(callbackOrId);\r\n        removedId = callbackOrId;\r\n      }\r\n    }\r\n    if (removedId !== null) {\r\n      if (subscribers.size === 0) delete this.#events[event];\r\n      this.#logger.event(`${event} (取消订阅 by ${removedId})`);\r\n    }\r\n  }\r\n\r\n  emit(event, data, options = {}) {\r\n    if (this.#enableValidation) {\r\n      const error = EventNameValidator.getValidationError(event);\r\n\r\n      if (error) {\r\n        this.#logger.error(`事件发布被阻止: ${error}`, { event, data });\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    const subscribers = this.#events[event];\r\n\r\n    if (subscribers && subscribers.size > 0) {\r\n      const actorId = options.actorId || this.#inferActorId();\r\n\r\n      this.#logger.event(`${event} (发布 by ${actorId || \"unknown\"})`, \"发布\", {\r\n        actorId,\r\n        subscriberCount: subscribers.size,\r\n        data,\r\n      });\r\n\r\n      for (const [id, callback] of subscribers.entries()) {\r\n        try {\r\n          callback(data);\r\n        } catch (err) {\r\n          this.#logger.error(`事件回调执行出错: ${err.message}`, {\r\n            event,\r\n            subscriberId: id,\r\n            actorId,\r\n            error: err,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  once(event, callback, options = {}) {\r\n    const onceWrapper = (data) => {\r\n      this.off(event, onceWrapper);\r\n      callback(data);\r\n    };\r\n\r\n    return this.on(event, onceWrapper, options);\r\n  }\r\n\r\n  destroy() {\r\n    this.#logger.info(\"正在销毁事件总线，清除所有订阅...\");\r\n    this.#events = {};\r\n    this.#logger.info(\"事件总线已销毁。\");\r\n  }\r\n}\r\n\r\nexport default new EventBus({ enableValidation: true });\r\n","/* Tabulator v5.6.1 (c) Oliver Folkerd 2024 */\nclass CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption,  convert){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption,  convert);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}\n\nclass Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic retrieveNestedData(separator, field, data){\n\t\tvar structure = separator ? field.split(separator) : [field],\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdata = data[structure[i]];\n\n\t\t\toutput = data;\n\n\t\t\tif(!data){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else {\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}\n\nclass Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else {\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else {\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tif((y + this.element.offsetHeight) > Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0)) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight) + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n}\n\nclass Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else {\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else {\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nvar defaultAccessors = {};\n\nclass Accessor extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\n//load defaults\nAccessor.moduleName = \"accessor\";\nAccessor.accessors = defaultAccessors;\n\nvar defaultConfig = {\n\tmethod: \"GET\",\n};\n\nfunction generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nfunction urlBuilder(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}\n\nfunction defaultLoaderPromise(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nfunction generateParamsList$1(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList$1(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList$1(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nvar defaultContentTypeFormatters = {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList$1(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};\n\nclass Ajax extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(Object.assign({}, ajaxParams), params);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else {\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else {\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else {\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nAjax.moduleName = \"ajax\";\n\n//load defaults\nAjax.defaultConfig = defaultConfig;\nAjax.defaultURLGenerator = urlBuilder;\nAjax.defaultLoaderPromise = defaultLoaderPromise;\nAjax.contentTypeFormatters = defaultContentTypeFormatters;\n\nvar defaultPasteActions = {\n\treplace:function(data){\n\t\treturn this.table.setData(data);\n\t},\n\tupdate:function(data){\n\t\treturn this.table.updateOrAddData(data);\n\t},\n\tinsert:function(data){\n\t\treturn this.table.addData(data);\n\t},\n\trange:function(data){\n\t\tvar rows = [],\n\t\trange = this.table.modules.selectRange.activeRange,\n\t\tsingleCell = false,\n\t\tbounds, startCell, startRow, rowWidth, dataLength;\n\n\t\tdataLength = data.length;\n\t\t\n\t\tif(range){\n\t\t\tbounds = range.getBounds();\n\t\t\tstartCell = bounds.start;\n\t\t\t\n\t\t\tif(bounds.start === bounds.end){\n\t\t\t\tsingleCell = true;\n\t\t\t}\n\t\t\t\n\t\t\tif(startCell){\n\t\t\t\trows = this.table.rowManager.activeRows.slice();\n\t\t\t\tstartRow = rows.indexOf(startCell.row);\n\n\t\t\t\tif(singleCell){\n\t\t\t\t\trowWidth = data.length;\n\t\t\t\t}else {\n\t\t\t\t\trowWidth = (rows.indexOf(bounds.end.row) - startRow) + 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(startRow >-1){\n\t\t\t\t\tthis.table.blockRedraw();\n\t\t\t\t\t\n\t\t\t\t\trows = rows.slice(startRow, startRow + rowWidth);\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row, i) => {\n\t\t\t\t\t\trow.updateData(data[i % dataLength]);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.table.restoreRedraw();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n};\n\nvar defaultPasteParsers = {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\t\t\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\t\t\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\t\t\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\t\t\t\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else {\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\t\t\t\t\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else {\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\t\t\t\t\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\trows.push(row);\n\t\t\t});\n\t\t\t\n\t\t\treturn rows;\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t},\n\trange:function(clipboard){\n\t\tvar data = [],\n\t\trows = [],\n\t\trange = this.table.modules.selectRange.activeRange,\n\t\tsingleCell = false,\n\t\tbounds, startCell, colWidth, columnMap, startCol;\n\t\t\n\t\tif(range){\n\t\t\tbounds = range.getBounds();\n\t\t\tstartCell = bounds.start;\n\n\t\t\tif(bounds.start === bounds.end){\n\t\t\t\tsingleCell = true;\n\t\t\t}\n\t\t\t\n\t\t\tif(startCell){\n\t\t\t\t//get data from clipboard into array of columns and rows.\n\t\t\t\tclipboard = clipboard.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tclipboard.forEach(function(row){\n\t\t\t\t\tdata.push(row.split(\"\\t\"));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(data.length){\n\t\t\t\t\tcolumnMap = this.table.columnManager.getVisibleColumnsByIndex();\n\t\t\t\t\tstartCol = columnMap.indexOf(startCell.column);\n\n\t\t\t\t\tif(startCol > -1){\n\t\t\t\t\t\tif(singleCell){\n\t\t\t\t\t\t\tcolWidth = data[0].length;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tcolWidth = (columnMap.indexOf(bounds.end.column) - startCol) + 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcolumnMap = columnMap.slice(startCol, startCol + colWidth);\n\n\t\t\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\t\t\tvar row = {};\n\t\t\t\t\t\t\tvar itemLength = item.length;\n\n\t\t\t\t\t\t\tcolumnMap.forEach(function(col, i){\n\t\t\t\t\t\t\t\trow[col.field] = item[i % itemLength];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\trows.push(row);\t\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn rows;\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n};\n\nclass Clipboard extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\t\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPasteOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else {\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPasteOrigin(e){\n\t\tvar valid = true;\n\t\tvar blocked = this.confirm(\"clipboard-paste\", [e]);\n\n\t\tif(blocked || ![\"DIV\", \"SPAN\"].includes(e.target.tagName)){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nClipboard.moduleName = \"clipboard\";\n\n//load defaults\nClipboard.pasteActions = defaultPasteActions;\nClipboard.pasteParsers = defaultPasteParsers;\n\nclass CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\n//public cell object\nclass CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(transform){\n\t\treturn this._cell.row.getData(transform);\n\t}\n\tgetType(){\n\t\treturn \"cell\";\n\t}\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}\n\nclass Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else {\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\n//public column object\nclass ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column, position, ifVisible);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else {\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}\n\nvar defaultColumnOptions = {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};\n\nclass Column extends CoreFeature{\n\n\tconstructor(def, parent){\n\t\tsuper(parent.table);\n\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.isGroup = false;\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\n\t\tthis.mapDefinitions();\n\n\t\tthis.setField(this.definition.field);\n\n\t\tthis.modules = {}; //hold module variables;\n\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\n\t\tthis.visible = true; //default visible state\n\n\t\tthis.component = null;\n\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\n\t\t\tthis.isGroup = true;\n\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\n\t\t\tthis.checkColumnVisibility();\n\t\t}else {\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\n\t\tthis._initialize();\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn el;\n\t}\n\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\n\t\treturn el;\n\t}\n\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else {\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\n\t\tthis.element.appendChild(this.contentElement);\n\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else {\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\n\t\tthis.dispatch(\"column-layout\", this);\n\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else {\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\n\t\tthis.reinitializeWidth();\n\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\t\treturn contentElement;\n\t}\n\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\n\t\t}else {\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\n\t\treturn titleHolderElement;\n\t}\n\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdataObj = dataObj[structure[i]];\n\n\t\t\toutput = dataObj;\n\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else {\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\n\t\t\tcolumn.columnRendered();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\t\tthis.element.style.height = parentHeight + \"px\";\n\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else {\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else {\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\n\t\treturn this.definition;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\n\t\t\tthis.element.style.display = \"\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\n\t\t\tthis.element.style.display = \"none\";\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\n\t\twidth = Math.max(this.minWidth, width);\n\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\t\tthis.element.style.width = this.widthStyled;\n\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tthis.dispatch(\"column-width\", this);\n\t}\n\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else {\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\twidth = this.width;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dispatch(\"column-delete\", this);\n\n\t\t\tvar cellCount = this.cells.length;\n\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\t\tthis.dispatch(\"column-deleted\", this);\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\n\t\tthis.cells.push(cell);\n\n\t\treturn cell;\n\t}\n\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\n\t\tthis.fitToData(force);\n\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\n\t\tvar maxWidth = this.element.offsetWidth;\n\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateDefinition(updates){\n\t\tvar definition;\n\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n\n\tgetPosition(){\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex().indexOf(this) + 1;\n\t}\n}\n\nColumn.defaultOptionList = defaultColumnOptions;\n\n//public row object\nclass RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row, position, ifVisible);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}\n\nclass Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force, inFragment){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this, inFragment);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else {\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this, inFragment);\n\t\t}\n\t}\n\n\trendered(){\n\t\tthis.cells.forEach((cell) => {\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0,\n\t\tminHeight;\n\t\t\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else {\n\t\t\tminHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tvar height = cell.getHeight();\n\t\t\t\tif(height > maxHeight){\n\t\t\t\t\tmaxHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else {\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nvar defaultCalculations = {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"unique\":function(values, data, calcParams){\n\t\tvar unique = values.filter((value, index) => {\n\t\t\treturn (values || value === 0) && values.indexOf(value) === index;\n\t\t});\n\n\t\treturn unique.length;\n\t},\n};\n\nclass ColumnCalcs extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tif(!this.topInitialized){\n\n\t\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\t\tfragment.appendChild(this.topElement);\n\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [];\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\t\t\t\n\t\t\tif(this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs){\n\t\t\t\tif(row.modules.dataTree && row.modules.dataTree.open){\n\t\t\t\t\tvar children = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\t\tdata = data.concat(children);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else {\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nColumnCalcs.moduleName = \"columnCalcs\";\n\n//load defaults\nColumnCalcs.calculations = defaultCalculations;\n\nclass DataTree extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else {\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else {\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else {\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else {\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config && config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\toutput = output.concat(this.getTreeChildren(childRow, component, recurse));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nDataTree.moduleName = \"dataTree\";\n\nfunction csv(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n\nfunction json(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}\n\nfunction pdf(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\";\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tvar doc = new jspdf.jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else {\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n\nfunction xlsx(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tworkbook = XLSX.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\twriteOptions = options.writeOptions || {bookType:'xlsx', bookSST:true, compression},\n\toutput;\n\n\twriteOptions.type = 'binary';\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else {\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else {\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSX.write(workbook, writeOptions);\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}\n\nfunction html(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}\n\nfunction jsonLines (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}\n\nvar defaultDownloaders = {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};\n\nclass Download extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\tthis.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else {\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else {\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else {\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else {\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nDownload.moduleName = \"download\";\n\n//load defaults\nDownload.downloaders = defaultDownloaders;\n\nfunction maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else {\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}\n\n//input element\nfunction input(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//resizable text area element\nfunction textarea(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction number(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction range(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction date(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction time(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"HH:mm\");\n\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\n\tconsole.log(\"val\", cellValue);\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() == \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction datetime(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"HH:mm\");\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nclass Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = cell.getType() === \"header\";\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\tif(this.params.listItemFormatter){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.sortValuesList){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchFunc){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchingPlaceholder){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else {\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else {\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else {\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else {\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tthis._keyTab(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyTab(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else {\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else {\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else {\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else {\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else {\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n\t\t\t\t\toutput[val] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\t\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else {\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else {\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else {\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else {\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else {\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else {\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else {\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else {\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\t\t\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else {\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else {\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else {\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else {\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n}\n\nfunction select(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The select editor has been deprecated, please use the new list editor\");\n\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\nfunction list(cell, onRendered, success, cancel, editorParams){\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\nfunction autocomplete(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\");\n\n\teditorParams.autocomplete = true;\n\n\tvar list = new Edit(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\n//star rating\nfunction star(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else {\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}\n\n//draggable progress bar\nfunction progress(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}\n\n//checkbox\nfunction tickCross(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell.getType() === \"cell\"){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nvar defaultEditors = {\n\tinput:input,\n\ttextarea:textarea,\n\tnumber:number,\n\trange:range,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tselect:select,\n\tlist:list,\n\tautocomplete:autocomplete,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n};\n\nclass Edit$1 extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\t\n\t\tthis.editors = Edit$1.editors;\n\t\t\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableOption(\"editTriggerEvent\", \"focus\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\tthis.subscribe(\"clipboard-paste\", this.pasteBlocker.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\t\n\t\t\n\t\t// this.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\t// this.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Paste Negation //////////\n\t///////////////////////////////////\n\t\n\tpasteBlocker(e){\n\t\tif(this.currentCell){\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(!this.invalidEdit){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else {\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {}\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tswitch(typeof column.definition.editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[column.definition.editor]){\n\t\t\t\t\tconfig.editor = this.editors[column.definition.editor];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.editor = column.definition.editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(column.definition.editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\tconfig.editor = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tconfig.editor = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else {\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(this.options(\"editTriggerEvent\") === \"dblclick\"){\n\t\t\t\telement.addEventListener(\"dblclick\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\" || this.options(\"editTriggerEvent\") === \"click\"){\n\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\"){\n\t\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else {\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin || 0);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin || 0);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else {\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\t\t\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\teditFinished = false,\n\t\tcellEditor, component, params;\n\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\t\t\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\n\t\t\t\t\teditFinished = true;\n\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else {\n\t\t\t\t\teditFinished = true;\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\teditFinished = false;\n\t\t\t\t\t}, 10);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\t// editFinished = true;\n\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tself.cancelEdit();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\tthis.blur(element);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.blur(element);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\tthis.blur(element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.mouseClick = false;\n\t\t\tthis.blur(element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tblur(element){\n\t\tif(!this.confirm(\"edit-blur\", [element]) ){\n\t\t\telement.blur();\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nEdit$1.moduleName = \"edit\";\n\n//load defaults\nEdit$1.editors = defaultEditors;\n\nclass ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nclass ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nclass Export extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\n\t\tvar headers, body;\n\t\t\n\t\tif (range === 'range') {\n\t\t\tvar columns = this.table.modules.selectRange.selectedColumns();\n\t\t\theaders = this.config.columnHeaders !== false\n\t\t\t\t? this.headersToExportRows(this.generateColumnGroupHeaders(columns))\n\t\t\t\t: [];\n\t\t\tbody = this.bodyToExportRows(this.rowLookup(range), this.table.modules.selectRange.selectedColumns(true));\n\t\t} else {\n\t\t\theaders = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\t\t\tbody = this.bodyToExportRows(this.rowLookup(range));\n\t\t}\n\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [];\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tswitch(range){\n\t\t\t\tcase true:\n\t\t\t\tcase \"visible\":\n\t\t\t\t\trows = this.table.rowManager.getVisibleRows(false, true);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"all\":\n\t\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"selected\":\n\t\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"range\":\n\t\t\t\t\trows = this.table.modules.selectRange.selectedRows();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"active\":\n\t\t\t\tdefault:\n\t\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t\t}else {\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(columns){\n\t\tvar output = [];\n\t\t\n\t\tif (!columns) {\n\t\t\tcolumns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t}\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\t\t\n\t\treturn visProp !== false && (column.visible || (!column.visible && visProp));\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else {\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows, columns = []){\n\t\tvar exportRows = [];\n\t\t\n\t\tif (columns.length === 0) {\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\n\t\t\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else {\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else {\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\ttable =  this.table,\n\t\t\t\tindex = table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:function(){\n\t\t\t\t\t\treturn table;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else {\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else {\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\t\t\t\t\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nExport.moduleName = \"export\";\n\nvar defaultFilters = {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};\n\nclass Filter extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\t\tthis.registerTableOption(\"placeholderHeaderFilter\", false); //placeholder when header filter is empty\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.subscribe(\"placeholder\", this.generatePlaceholder.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\tgeneratePlaceholder(text){\n\t\tif(this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length){\n\t\t\treturn this.table.options.placeholderHeaderFilter;\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else {\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:() => {\n\t\t\t\t\t\treturn \"header\";\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else {\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else {\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else {\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else {\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nFilter.moduleName = \"filter\";\n\n//load defaults\nFilter.filters = defaultFilters;\n\nfunction plaintext(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction html$1(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}\n\nfunction textarea$1(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction money(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx, value;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\tvalue = integer + decimal;\n\t\n\tif(sign === true){\n\t\tvalue = \"(\" + value  + \")\";\n\t\treturn after ? value + symbol : symbol + value;\n\t}else {\n\t\treturn after ? sign + value + symbol : sign + symbol + value;\n\t}\n}\n\nfunction link(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\n\t\t\tvalue = Helpers.retrieveNestedData(this.table.options.nestedFieldSeparator, formatterParams.urlField, data);\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else {\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else {\n\t\treturn \"&nbsp;\";\n\t}\n}\n\nfunction image(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}\n\nfunction tickCross$1(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else {\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else {\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}\n\nfunction datetime$1(cell, formatterParams, onRendered){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else {\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction datetimediff (cell, formatterParams, onRendered) {\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else {\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction lookup (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}\n\nfunction star$1(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}\n\nfunction traffic(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}\n\nfunction progress$1(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}\n\nfunction color(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}\n\nfunction buttonTick(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}\n\nfunction buttonCross(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}\n\nfunction rownum(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\tvar table = cell.getTable();\n\n\trow.watchPosition((position) => {\n\t\tif (formatterParams.relativeToPage) {\n\t\t\tposition += table.modules.page.getPageSize() * (table.modules.page.getPage() - 1);\n\t\t}\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}\n\nfunction handle(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}\n\nfunction responsiveCollapse(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else {\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}\n\nfunction rowSelection(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else {\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}\n\nvar defaultFormatters = {\n\tplaintext:plaintext,\n\thtml:html$1,\n\ttextarea:textarea$1,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross$1,\n\tdatetime:datetime$1,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star$1,\n\ttraffic:traffic,\n\tprogress:progress$1,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\trownum:rownum,\n\thandle:handle,\n\tresponsiveCollapse:responsiveCollapse,\n\trowSelection:rowSelection,\n};\n\nclass Format extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tconfig.formatter = Format.formatters[formatter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.formatter = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn config;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.getFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetType:function(){\n\t\t\t\t\treturn \"header\";\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else {\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else {\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else {\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n\t//get formatter for cell\n\tgetFormatter(formatter){\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatter = Format.formatters[formatter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t//Custom formatter Function, do nothing\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatter;\n\t}\n}\n\nFormat.moduleName = \"format\";\n\n//load defaults\nFormat.formatters = defaultFormatters;\n\nclass FrozenColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-deleted\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-show\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\n\t\tthis.layout();\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else {\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else {\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else {\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen && element){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else {\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\telement.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\telement.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nFrozenColumns.moduleName = \"frozenColumns\";\n\nclass FrozenRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\t\t\n\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\tfragment.appendChild(this.topElement);\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\nFrozenRows.moduleName = \"frozenRows\";\n\n//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._group.groupManager.table.rowManager.scrollToRow(this._group, position, ifVisible);\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\tif(this.groupManager.table.options.groupToggleElement === \"arrow\"){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\t//allow click event to propagate before toggling visibility\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.toggleVisibility();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else {\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else {\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else {\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else {\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else {\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else {\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else {\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component, includeChildren){\n\t\tvar output = [];\n\t\t\n\t\tif(includeChildren && this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getRows(component, includeChildren));\n\t\t\t});\n\t\t}else {\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tvar rows = this.getRows(false, true);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else {\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else {\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\n\trendered(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nclass GroupRows extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else {\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else {\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else {\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else {\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else {\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else {\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else {\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}\n\nGroupRows.moduleName = \"groupRows\";\n\nvar defaultUndoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tvar after = (action.data.posFrom  - action.data.posTo) > 0;\n\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posFrom), after);\n\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nvar defaultRedoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posTo), action.data.after);\n\t\t\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nclass History extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else {\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Undo Error - No more history to undo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Redo Error - No more history to redo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nHistory.moduleName = \"history\";\n\n//load defaults\nHistory.undoers = defaultUndoers;\nHistory.redoers = defaultRedoers;\n\nclass HtmlTableImport extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else {\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else {\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nHtmlTableImport.moduleName = \"htmlTableImport\";\n\nfunction csvImporter(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}\n\nfunction json$1(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}\n\nfunction arrayImporter(input){\n\treturn input;\n}\n\nvar defaultImporters = {\n\tcsv:csvImporter,\n\tjson:json$1,\n\tarray:arrayImporter,\n};\n\nclass Import extends Module{\n    \n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t}\n    \n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\n\tlookupImporter(importFormat){\n\t\tvar importer;\n        \n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n        \n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else {\n\t\t\timporter = importFormat;\n\t\t}\n\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n        \n\t\treturn importer;\n\t}\n    \n\timportFromFile(importFormat, extension){\n\t\tvar importer = this.lookupImporter(importFormat);\n        \n\t\tif(importer){\n\t\t\treturn this.pickFile(extension)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n    \n\tpickFile(extensions){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n            \n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader();\n                \n\t\t\t\tswitch(this.table.options.importReader){\n\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t}\n                  \n\t\t\t\treader.onload = (e) => {\n\t\t\t\t\tresolve(reader.result);\n\t\t\t\t};\n                \n\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\treject();\n\t\t\t\t};\n\t\t\t});\n            \n\t\t\tinput.click();\n\t\t});\n\t}\n    \n\timportData(importer, fileContents){\n\t\tvar data = importer.call(this.table, fileContents);\n        \n\t\tif(data instanceof Promise){\n\t\t\treturn data;\n\t\t}else {\n\t\t\treturn data ? Promise.resolve(data) : Promise.reject();\n\t\t}\n\t}\n\n\tstructureData(parsedData){\n\t\tvar data = [];\n        \n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else {\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}else {\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = parsedData.shift();\n\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\n\t\t\treturn row;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tcolumns = this.table.getColumns();\n\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && parsedData[0][0]){\n\t\t\tif(columns[0].getDefinition().title === parsedData[0][0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n        \n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdata.push(row);\n\t\t});\n\n\t\treturn data;\n\t}\n    \n\tsetData(data){\n\t\treturn this.table.setData(data);\n\t}\n}\n\nImport.moduleName = \"import\";\n\n//load defaults\nImport.importers = defaultImporters;\n\nclass Interaction extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this));\n\t\tthis.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n\t}\n\n\tclearTouchWatchers(){\n\t\tvar types = Object.values(this.touchWatchers);\n\n\t\ttypes.forEach((type) => {\n\t\t\tfor(let key in type){\n\t\t\t\ttype[key] = null;\n\t\t\t}\n\t\t});\n\t}\n\t\t\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else {\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else {\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nInteraction.moduleName = \"interaction\";\n\nvar defaultBindings = {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tnavLeft:37,\n\tnavRight:39,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 67\"],\n\n\trangeJumpUp:[\"ctrl + 38\", \"meta + 38\"],\n\trangeJumpDown:[\"ctrl + 40\", \"meta + 40\"],\n\trangeJumpLeft:[\"ctrl + 37\", \"meta + 37\"],\n\trangeJumpRight:[\"ctrl + 39\", \"meta + 39\"],\n\trangeExpandUp:\"shift + 38\",\n\trangeExpandDown:\"shift + 40\",\n\trangeExpandLeft:\"shift + 37\",\n\trangeExpandRight:\"shift + 39\",\n\trangeExpandJumpUp:[\"ctrl + shift + 38\", \"meta + shift + 38\"],\n\trangeExpandJumpDown:[\"ctrl + shift + 40\", \"meta + shift + 40\"],\n\trangeExpandJumpLeft:[\"ctrl + shift + 37\", \"meta + shift + 37\"],\n\trangeExpandJumpRight:[\"ctrl + shift + 39\", \"meta + shift + 39\"],\n};\n\nvar defaultActions = {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n\n\trangeJumpLeft: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, false);\n\t},\n\trangeJumpRight: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, false);\n\t},\n\trangeJumpUp: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, false);\n\t},\n\trangeJumpDown: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, false);\n\t},\n\trangeExpandLeft: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", false, true);\n\t},\n\trangeExpandRight: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", false, true);\n\t},\n\trangeExpandUp: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", false, true);\n\t},\n\trangeExpandDown: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", false, true);\n\t},\n\trangeExpandJumpLeft: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, true);\n\t},\n\trangeExpandJumpRight: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, true);\n\t},\n\trangeExpandJumpUp: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, true);\n\t},\n\trangeExpandJumpDown: function(e){\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, true);\n\t},\n\n\tundo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard:function(e){\n\t\tif(!this.table.modules.edit.currentCell){\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t},\n};\n\nclass Keybindings extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nKeybindings.moduleName = \"keybindings\";\n\n//load defaults\nKeybindings.bindings = defaultBindings;\nKeybindings.actions = defaultActions;\n\nclass Menu extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tif(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t\tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t}\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else {\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else {\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatch(\"menu-closed\", menu, popup);\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatch(\"menu-opened\", menu, popup);\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nMenu.moduleName = \"menu\";\n\nclass MoveColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"alert-show\", this.abortMove.bind(this));\n\t\t}\n\t}\n\n\tabortMove(){\n\t\tclearTimeout(this.checkTimeout);\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\t\t\n\t\tif(!column.modules.frozen && !column.isGroup){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\t\t\t\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nMoveColumns.moduleName = \"moveColumn\";\n\nclass MoveRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else {\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else {\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else {\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else {\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else {\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else {\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}\n\nMoveRows.prototype.receivers = {\n\tinsert:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n};\n\nMoveRows.prototype.senders = {\n\tdelete:function(fromRow, toRow, toTable){\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.moduleName = \"moveRow\";\n\nvar defaultMutators = {};\n\nclass Mutator extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nMutator.moduleName = \"mutator\";\n\n//load defaults\nMutator.mutators = defaultMutators;\n\nfunction rows(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else {\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}\n\nfunction pages(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}\n\nvar defaultPageCounters = {\n\trows:rows,\n\tpages:pages,\n};\n\nclass Page extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else {\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else {\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else {\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else {\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else {\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else {\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else {\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else {\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else {\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else {\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else {\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\nPage.moduleName = \"page\";\n\n//load defaults\nPage.pageCounters = defaultPageCounters;\n\n// read persistance information from storage\nvar defaultReaders = {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n\n//write persistence information to storage\nvar defaultWriters = {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};\n\nclass Persistence extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\theaderFilter:this.table.options.persistence === true || this.table.options.persistence.headerFilter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters, headerFilters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t\tif(this.config.headerFilter){\n\t\t\theaderFilters = this.load(\"headerFilter\");\n\n\t\t\tif(!headerFilters === false){\n\t\t\t\tthis.table.options.initialHeaderFilter = headerFilters;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout, true));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols, mergeAllNew){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(mergeAllNew){\n\t\t\t\t\tkeys = Object.keys(column);\n\t\t\t\t}else if(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else {\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"headerFilter\":\n\t\t\t\tdata = this.table.modules.filter.getHeaderFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else {\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nPersistence.moduleName = \"persistence\";\n\nPersistence.moduleInitOrder = -10;\n\n//load defaults\nPersistence.readers = defaultReaders;\nPersistence.writers = defaultWriters;\n\nclass Popup$1 extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else {\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}\n\nPopup$1.moduleName = \"popup\";\n\nclass Print extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else {\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else {\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nPrint.moduleName = \"print\";\n\nclass ReactiveData extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}\n\nReactiveData.moduleName = \"reactiveData\";\n\nclass ResizeColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else {\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t\tcell.modules.resize.handleEl.style[\"z-index\"] = 11;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this;\n\t\t\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tfunction mouseMove(e){\n\t\t\tvar x = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX,\n\t\t\tstartDiff = x - self.startX,\n\t\t\tmoveDiff = x - self.latestX,\n\t\t\tblockedBefore, blockedAfter;\n\t\t\t\n\t\t\tself.latestX = x;\n\t\t\t\n\t\t\tif(self.table.rtl){\n\t\t\t\tstartDiff = -startDiff;\n\t\t\t\tmoveDiff = -moveDiff;\n\t\t\t}\n\t\t\t\n\t\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tcolumn.setWidth(self.startWidth + startDiff);\n\t\t\t\n\t\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tif(moveDiff < 0){\n\t\t\t\tself.nextColumn = self.initialNextColumn;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.options.resizableColumnFit && self.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\t\tlet colWidth = self.nextColumn.getWidth();\n\t\t\t\t\n\t\t\t\tif(moveDiff > 0){\n\t\t\t\t\tif(colWidth <= self.nextColumn.minWidth){\n\t\t\t\t\t\tself.nextColumn = self.nextColumn.nextColumn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(self.nextColumn){\n\t\t\t\t\tself.nextColumn.setWidth(self.nextColumn.getWidth() - moveDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tif(!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeColumns.moduleName = \"resizeColumns\";\n\nclass ResizeRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this;\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t\t}\n\n\t\tfunction mouseUp(e){\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeRows.moduleName = \"resizeRows\";\n\nclass ResizeTable extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nResizeTable.moduleName = \"resizeTable\";\n\nclass ResponsiveLayout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else {\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach(function(item){\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\tthis.langBind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else {\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t}, this);\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nResponsiveLayout.moduleName = \"responsiveLayout\";\n\nclass SelectRow extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectableRows\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectableRowsPersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableRowsCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tif(this.table.options.selectableRows === \"highlight\" && this.table.options.selectableRange){\n\t\t\tthis.table.options.selectableRows = false;\n\t\t}\n\n\t\tif(this.table.options.selectableRows !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectableRows && !this.table.options.selectableRowsPersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheck(\"selectable\", \"selectableRows\", true);\n\t\tthis.deprecationCheck(\"selectableRollingSelection\", \"selectableRowsRollingSelection\", true);\n\t\tthis.deprecationCheck(\"selectableRangeMode\", \"selectableRowsRangeMode\", true);\n\t\tthis.deprecationCheck(\"selectablePersistence\", \"selectableRowsPersistence\", true);\n\t\tthis.deprecationCheck(\"selectableCheck\", \"selectableRowsCheck\", true);\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tselectable = self.checkRowSelectability(row),\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\n\t\telement.classList.toggle(\"tabulator-selectable\", selectable);\n\t\telement.classList.toggle(\"tabulator-unselectable\", !selectable);\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\t\t\t\n\t\t\tif(self.table.options.selectableRows && self.table.options.selectableRows != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else {\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectableRows !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectableRows){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else {\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectableRows !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectableRows){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectableRows);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else {\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row && row.type === \"row\"){\n\t\t\treturn this.table.options.selectableRowsCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else {\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._selectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(false, changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, false, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectableRows) && this.table.options.selectableRows !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectableRows){\n\t\t\t\tif(this.table.options.selectableRowsRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = Object.assign([], this.selectedRows);\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._deselectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(silent, [], changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._deselectRow(rowMatch, silent, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex, element;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\n\t\t\t\telement = row.getElement();\n\t\t\t\t\n\t\t\t\tif(element){\n\t\t\t\t\telement.classList.remove(\"tabulator-selected\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent, undefined, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent, selected = [], deselected = []){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tif(!Array.isArray(selected)){\n\t\t\t\tselected = [selected];\n\t\t\t}\n\n\t\t\tselected = selected.map(row => row.getComponent());\n\n\t\t\tif(!Array.isArray(deselected)){\n\t\t\t\tdeselected = [deselected];\n\t\t\t}\n\n\t\t\tdeselected = deselected.map(row => row.getComponent());\n\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), selected, deselected);\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else {\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nSelectRow.moduleName = \"selectRow\";\n\n//sort numbers\nfunction number$1(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort strings\nfunction string(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort datetime\nfunction datetime$2(a, b, aRow, bRow, column, dir, params){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else {\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else {\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else {\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}\n\n//sort date\nfunction date$1(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime$2.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort times\nfunction time$1(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime$2.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort booleans\nfunction boolean(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}\n\n//sort if element contains any data\nfunction array(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tfunction calc(value){\n\t\tvar result;\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else {\n\t\treturn calc(b) - calc(a);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort if element contains any data\nfunction exists(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}\n\n//sort alpha numeric strings\nfunction alphanum(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else {\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\nvar defaultSorters = {\n\tnumber:number$1,\n\tstring:string,\n\tdate:date$1,\n\ttime:time$1,\n\tdatetime:datetime$2,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};\n\nclass Sort extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\t\t\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\t\t\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\t\t\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\t\t\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\t\t\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\t\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\t\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\t\t\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\t\t\n\t\tparams.sort = sorters;\n\t\t\n\t\treturn params;\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\t\t\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\t\t\n\t\tif(column.definition.headerSort !== false){\n\t\t\t\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\t\t\t\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\t\t\t\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\t\t\t\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\t\t\t\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t\n\t\t\tif(this.table.options.headerSortClickElement === \"icon\"){\n\t\t\t\tarrowEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\t\t\t\t\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\t\t\t\t\t\t\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else {\n\t\t\tthis.refreshData(true);\n\t\t}\n\t\t\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\t\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\t\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\t\t\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn sorters;\n\t}\n\t\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\t\t\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\t\t\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\t\t\t\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\t\t\t\n\t\t});\n\t\t\n\t\tself.sortList = newSortList;\n\t\t\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\t\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\t\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\t\t\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\t\t\t\n\t\t\tif(field){\n\t\t\t\t\n\t\t\t\tvalue = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Sort.sorters[sorter];\n\t}\n\t\n\t//work through sort list sorting data\n\tsort(data){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\t\t\n\t\tself.clearColumnHeaders();\n\t\t\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\t\t\t\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\t\t\t\t\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\t\t\t\t\t\n\t\t\t\t\tif(sortObj){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\t\t\t\t\t\t\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\t\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\t\t\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\t\t\t\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else {\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\t\t\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\t\t\t\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\t\t\t\t\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\t\t\t\t\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn result;\n\t\t});\n\t}\n\t\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\t\t\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\t\t\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\t\t\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\t\t\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\t\t\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nSort.moduleName = \"sort\";\n\n//load defaults\nSort.sorters = defaultSorters;\n\nclass RangeComponent {\n\tconstructor(range) {\n\t\tthis._range = range;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function (target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t} else {\n\t\t\t\t\treturn target._range.table.componentFunctionBinder.handle(\"range\", target._range, name);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tgetElement() {\n\t\treturn this._range.element;\n\t}\n\n\tgetData() {\n\t\treturn this._range.getData();\n\t}\n\n\tgetCells() {\n\t\treturn this._range.getCells(true);\n\t}\n\n\tgetStructuredCells() {\n\t\treturn this._range.getStructuredCells();\n\t}\n\n\tgetRows() {\n\t\treturn this._range.getRows().map((row) => row.getComponent());\n\t}\n\n\tgetColumns() {\n\t\treturn this._range.getColumns().map((column) => column.getComponent());\n\t}\n\t\n\tgetBounds() {\n\t\treturn this._range.getBounds();\n\t}\n\n\tgetTopEdge() {\n\t\treturn this._range.top;\n\t}\n\n\tgetBottomEdge() {\n\t\treturn this._range.bottom;\n\t}\n\n\tgetLeftEdge() {\n\t\treturn this._range.left;\n\t}\n\n\tgetRightEdge() {\n\t\treturn this._range.right;\n\t}\n\n\tsetBounds(start, end){\n\t\tif(this._range.destroyedGuard(\"setBounds\")){\n\t\t\tthis._range.setBounds(start ? start._cell : start, end ? end._cell : end);\n\t\t}\n\t}\n\n\tsetStartBound(start){\n\t\tif(this._range.destroyedGuard(\"setStartBound\")){\n\t\t\tthis._range.setEndBound(start ? start._cell : start);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tsetEndBound(end){\n\t\tif(this._range.destroyedGuard(\"setEndBound\")){\n\t\t\tthis._range.setEndBound(end ? end._cell : end);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tclearValues(){\n\t\tif(this._range.destroyedGuard(\"clearValues\")){\n\t\t\tthis._range.clearValues();\n\t\t}\n\t}\n\n\tremove(){\n\t\tif(this._range.destroyedGuard(\"remove\")){\n\t\t\tthis._range.destroy(true);\n\t\t}\n\t}\n}\n\nclass Range extends CoreFeature{\n\tconstructor(table, rangeManager, start, end) {\n\t\tsuper(table);\n\t\t\n\t\tthis.rangeManager = rangeManager;\n\t\tthis.element = null;\n\t\tthis.initialized = false;\n\t\tthis.initializing = {\n\t\t\tstart:false,\n\t\t\tend:false,\n\t\t};\n\t\tthis.destroyed = false;\n\t\t\n\t\tthis.top = 0;\n\t\tthis.bottom = 0;\n\t\tthis.left = 0;\n\t\tthis.right = 0;\n\t\t\n\t\tthis.table = table;\n\t\tthis.start = {row:0, col:0};\n\t\tthis.end = {row:0, col:0};\n\n\t\tif(this.rangeManager.rowHeader){\n\t\t\tthis.left = 1;\n\t\t\tthis.right = 1;\n\t\t\tthis.start.col = 1;\n\t\t\tthis.end.col = 1;\n\t\t}\n\t\t\n\t\tthis.initElement();\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.initBounds(start, end);\n\t\t});\n\t}\n\t\n\tinitElement(){\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-range\");\n\t}\n\t\n\tinitBounds(start, end){\n\t\tthis._updateMinMax();\n\t\t\n\t\tif(start){\n\t\t\tthis.setBounds(start, end || start);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Boundary Setup    ///////\n\t///////////////////////////////////\n\t\n\tsetStart(row, col) {\n\t\tif(this.start.row !== row || this.start.col !== col){\n\t\t\tthis.start.row = row;\n\t\t\tthis.start.col = col;\n\t\t\t\n\t\t\tthis.initializing.start = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetEnd(row, col) {\n\t\tif(this.end.row !== row || this.end.col !== col){\n\t\t\tthis.end.row = row;\n\t\t\tthis.end.col = col;\n\t\t\t\n\t\t\tthis.initializing.end = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetBounds(start, end, visibleRows){\n\t\tif(start){\n\t\t\tthis.setStartBound(start);\n\t\t}\n\t\t\n\t\tthis.setEndBound(end || start);\n\t\tthis.rangeManager.layoutElement(visibleRows);\n\t}\n\t\n\tsetStartBound(element){\n\t\tvar row, col;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tthis.setStart(0, element.getPosition() - 1);\n\t\t\t}\n\t\t}else {\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\t\n\t\t\tif (element.column === this.rangeManager.rowHeader) {\n\t\t\t\tthis.setStart(row, 1);\n\t\t\t} else {\n\t\t\t\tthis.setStart(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tsetEndBound(element){\n\t\tvar rowsCount = this._getTableRows().length,\n\t\trow, col, isRowHeader;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tif (this.rangeManager.selecting === \"column\") {\n\t\t\t\t\tthis.setEnd(rowsCount - 1, element.getPosition() - 1);\n\t\t\t\t} else if (this.rangeManager.selecting === \"cell\") {\n\t\t\t\t\tthis.setEnd(0, element.getPosition() - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\tisRowHeader = element.column === this.rangeManager.rowHeader;\n\t\t\t\n\t\t\tif (this.rangeManager.selecting === \"row\") {\n\t\t\t\tthis.setEnd(row, this._getTableColumns().length - 1);\n\t\t\t} else if (this.rangeManager.selecting !== \"row\" && isRowHeader) {\n\t\t\t\tthis.setEnd(row, 0);\n\t\t\t} else if (this.rangeManager.selecting === \"column\") {\n\t\t\t\tthis.setEnd(rowsCount - 1, col);\n\t\t\t} else {\n\t\t\t\tthis.setEnd(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_updateMinMax() {\n\t\tthis.top = Math.min(this.start.row, this.end.row);\n\t\tthis.bottom = Math.max(this.start.row, this.end.row);\n\t\tthis.left = Math.min(this.start.col, this.end.col);\n\t\tthis.right = Math.max(this.start.col, this.end.col);\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeChanged\", this.getComponent());\n\t\t}else {\n\t\t\tif(this.initializing.start && this.initializing.end){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.dispatchExternal(\"rangeAdded\", this.getComponent());\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_getTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\t_getTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Rendering      ///////\n\t///////////////////////////////////\n\t\n\tlayout() {\n\t\tvar _vDomTop = this.table.rowManager.renderer.vDomTop,\n\t\t_vDomBottom = this.table.rowManager.renderer.vDomBottom,\n\t\t_vDomLeft = this.table.columnManager.renderer.leftCol,\n\t\t_vDomRight = this.table.columnManager.renderer.rightCol,\t\t\n\t\ttop, bottom, left, right, topLeftCell, bottomRightCell;\n\t\t\n\t\tif (_vDomTop == null) {\n\t\t\t_vDomTop = 0;\n\t\t}\n\t\t\n\t\tif (_vDomBottom == null) {\n\t\t\t_vDomBottom = Infinity;\n\t\t}\n\t\t\n\t\tif (_vDomLeft == null) {\n\t\t\t_vDomLeft = 0;\n\t\t}\n\t\t\n\t\tif (_vDomRight == null) {\n\t\t\t_vDomRight = Infinity;\n\t\t}\n\t\t\n\t\tif (this.overlaps(_vDomLeft, _vDomTop, _vDomRight, _vDomBottom)) {\n\t\t\ttop = Math.max(this.top, _vDomTop);\n\t\t\tbottom = Math.min(this.bottom, _vDomBottom);\n\t\t\tleft = Math.max(this.left, _vDomLeft);\n\t\t\tright = Math.min(this.right, _vDomRight);\n\t\t\t\n\t\t\ttopLeftCell = this.rangeManager.getCell(top, left);\n\t\t\tbottomRightCell = this.rangeManager.getCell(bottom, right);\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-range-active\");\n\t\t\t// this.element.classList.toggle(\"tabulator-range-active\", this === this.rangeManager.activeRange);\n\t\t\t\n\t\t\tthis.element.style.left = topLeftCell.row.getElement().offsetLeft + topLeftCell.getElement().offsetLeft + \"px\";\n\t\t\tthis.element.style.top = topLeftCell.row.getElement().offsetTop + \"px\";\n\t\t\tthis.element.style.width = bottomRightCell.getElement().offsetLeft + bottomRightCell.getElement().offsetWidth - topLeftCell.getElement().offsetLeft + \"px\";\n\t\t\tthis.element.style.height = bottomRightCell.row.getElement().offsetTop + bottomRightCell.row.getElement().offsetHeight - topLeftCell.row.getElement().offsetTop + \"px\";\n\t\t}\n\t}\n\t\n\tatTopLeft(cell) {\n\t\treturn cell.row.position - 1 === this.top && cell.column.getPosition() - 1 === this.left;\n\t}\n\t\n\tatBottomRight(cell) {\n\t\treturn cell.row.position - 1 === this.bottom && cell.column.getPosition() - 1 === this.right;\n\t}\n\t\n\toccupies(cell) {\n\t\treturn this.occupiesRow(cell.row) && this.occupiesColumn(cell.column);\n\t}\n\t\n\toccupiesRow(row) {\n\t\treturn this.top <= row.position - 1 && row.position - 1 <= this.bottom;\n\t}\n\t\n\toccupiesColumn(col) {\n\t\treturn this.left <= col.getPosition() - 1 && col.getPosition() - 1 <= this.right;\n\t}\n\t\n\toverlaps(left, top, right, bottom) {\n\t\tif ((this.left > right || left > this.right) || (this.top > bottom || top > this.bottom)){\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\tgetData() {\n\t\tvar data = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tvar rowData = row.getData(),\n\t\t\tresult = {};\n\t\t\t\n\t\t\tcolumns.forEach((column) => {\n\t\t\t\tresult[column.field] = rowData[column.field];\n\t\t\t});\n\t\t\t\n\t\t\tdata.push(result);\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetCells(structured, component) {\n\t\tvar cells = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\tif (structured) {\n\t\t\tcells = rows.map((row) => {\n\t\t\t\tvar arr = [];\n\t\t\t\t\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tarr.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn arr;\n\t\t\t});\n\t\t} else {\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tcells.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn cells;\n\t}\n\t\n\tgetStructuredCells() {\n\t\treturn this.getCells(true, true);\n\t}\n\t\n\tgetRows() {\n\t\treturn this._getTableRows().slice(this.top, this.bottom + 1);\n\t}\n\t\n\tgetColumns() {\n\t\treturn this._getTableColumns().slice(this.left, this.right + 1);\n\t}\n\t\n\tclearValues(){\n\t\tvar cells = this.getCells();\n\t\tvar clearValue = this.table.options.selectableRangeClearCellsValue;\n\t\t\n\t\tthis.table.blockRedraw();\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tcell.setValue(clearValue);\n\t\t});\n\t\t\n\t\tthis.table.restoreRedraw();\n\t\t\n\t}\n\t\n\tgetBounds(component){\n\t\tvar cells = this.getCells(false, component),\n\t\toutput = {\n\t\t\tstart:null,\n\t\t\tend:null,\n\t\t};\n\t\t\n\t\tif(cells.length){\n\t\t\toutput.start = cells[0];\n\t\t\toutput.end = cells[cells.length - 1];\n\t\t}else {\n\t\t\tconsole.warn(\"No bounds defined on range\");\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponent() {\n\t\tif (!this.component) {\n\t\t\tthis.component = new RangeComponent(this);\n\t\t}\n\t\treturn this.component;\n\t}\n\t\n\tdestroy(notify) {\n\t\tthis.destroyed = true;\n\t\t\n\t\tthis.element.remove();\n\t\t\n\t\tif(notify){\n\t\t\tthis.rangeManager.rangeRemoved(this);\n\t\t}\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeRemoved\", this.getComponent());\n\t\t}\n\t}\n\t\n\tdestroyedGuard(func){\n\t\tif(this.destroyed){\n\t\t\tconsole.warn(\"You cannot call the \"  + func + \" function on a destroyed range\");\n\t\t}\n\t\t\n\t\treturn !this.destroyed;\n\t}\n}\n\nclass SelectRange extends Module {\n\tconstructor(table) {\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = \"cell\";\n\t\tthis.mousedown = false;\n\t\tthis.ranges = [];\n\t\tthis.overlay = null;\n\t\tthis.rowHeader = null;\n\t\tthis.layoutChangeTimeout = null;\n\t\tthis.columnSelection = false;\n\t\tthis.rowSelection = false;\n\t\tthis.maxRanges = 0;\n\t\tthis.activeRange = false;\n\t\tthis.blockKeydown = false;\n\t\t\n\t\tthis.keyDownEvent = this._handleKeyDown.bind(this);\n\t\tthis.mouseUpEvent = this._handleMouseUp.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"selectableRange\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeColumns\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeRows\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeClearCells\", false); //allow clearing of active range\n\t\tthis.registerTableOption(\"selectableRangeClearCellsValue\", undefined); //value for cleared active range\n\n\t\tthis.registerTableFunction(\"getRangesData\", this.getRangesData.bind(this));\n\t\tthis.registerTableFunction(\"getRanges\", this.getRanges.bind(this));\n\t\tthis.registerTableFunction(\"addRange\", this.addRangeFromComponent.bind(this));\n\n\t\tthis.registerComponentFunction(\"cell\", \"getRanges\", this.cellGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getRanges\", this.rowGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getRanges\", this.colGetRanges.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////    Initialization   ///////\n\t///////////////////////////////////\n\t\n\tinitialize() {\n\t\tif (this.options(\"selectableRange\")) {\t\t\n\t\t\tif(!this.options(\"selectableRows\")){\n\t\t\t\t\n\t\t\t\tthis.maxRanges = this.options(\"selectableRange\");\n\t\t\t\t\n\t\t\t\tthis.initializeTable();\n\t\t\t\tthis.initializeWatchers();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"SelectRange functionality cannot be used in conjunction with row selection\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tinitializeTable() {\t\t\n\t\tthis.overlay = document.createElement(\"div\");\n\t\tthis.overlay.classList.add(\"tabulator-range-overlay\");\n\t\t\n\t\tthis.rangeContainer = document.createElement(\"div\");\n\t\tthis.rangeContainer.classList.add(\"tabulator-range-container\");\n\t\t\n\t\tthis.activeRangeCellElement = document.createElement(\"div\");\n\t\tthis.activeRangeCellElement.classList.add(\"tabulator-range-cell-active\");\n\t\t\n\t\tthis.overlay.appendChild(this.rangeContainer);\n\t\tthis.overlay.appendChild(this.activeRangeCellElement);\n\t\t\n\t\tthis.table.rowManager.element.addEventListener(\"keydown\", this.keyDownEvent);\n\t\t\n\t\tthis.resetRanges();\n\t\t\n\t\tthis.table.rowManager.element.appendChild(this.overlay);\n\t\tthis.table.columnManager.element.setAttribute(\"tabindex\", 0);\n\t\tthis.table.element.classList.add(\"tabulator-ranges\");\n\t}\n\t\n\tinitializeWatchers() {\n\t\tthis.columnSelection = this.options(\"selectableRangeColumns\");\n\t\tthis.rowSelection = this.options(\"selectableRangeRows\");\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-mousedown\", this.handleColumnMouseDown.bind(this));\n\t\tthis.subscribe(\"column-mousemove\", this.handleColumnMouseMove.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.handleColumnResized.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.updateHeaderColumn.bind(this));\n\n\t\tthis.subscribe(\"cell-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.renderCell.bind(this));\n\t\tthis.subscribe(\"cell-mousedown\", this.handleCellMouseDown.bind(this));\n\t\tthis.subscribe(\"cell-mousemove\", this.handleCellMouseMove.bind(this));\n\t\tthis.subscribe(\"cell-click\", this.handleCellClick.bind(this));\n\t\tthis.subscribe(\"cell-editing\", this.handleEditingCell.bind(this));\n\t\t\n\t\tthis.subscribe(\"page-changed\", this.redraw.bind(this));\n\n\t\tthis.subscribe(\"scroll-vertical\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.layoutChange.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-destroy\", this.tableDestroyed.bind(this));\n\t\tthis.subscribe(\"data-processed\", this.resetRanges.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-layout\", this.layoutElement.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.redraw.bind(this));\n\t\tthis.subscribe(\"table-destroy\", this.tableDestroyed.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-editor-clear\", this.finishEditingCell.bind(this));\n\t\tthis.subscribe(\"edit-blur\", this.restoreFocus.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.keyNavigate.bind(this, \"up\"));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.keyNavigate.bind(this, \"down\"));\n\t\tthis.subscribe(\"keybinding-nav-range\", this.keyNavigateRange.bind(this));\n\t}\n\t\n\t\n\tinitializeColumn(column) {\n\t\tif(this.columnSelection && column.definition.headerSort && this.options(\"headerSortClickElement\") !== \"icon\"){\n\t\t\tconsole.warn(\"Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'.\");\n\t\t}\n\t\t\n\t\tif (column.modules.edit) ;\n\t}\n\t\n\tupdateHeaderColumn(){\n\t\tif(this.rowSelection){\n\t\t\tthis.rowHeader = this.table.columnManager.getVisibleColumnsByIndex()[0];\n\t\t\t\n\t\t\tif(this.rowHeader){\n\t\t\t\tthis.rowHeader.definition.cssClass = this.rowHeader.definition.cssClass + \" tabulator-range-row-header\";\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.headerSort){\n\t\t\t\t\tconsole.warn(\"Using column headerSort with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.editor){\n\t\t\t\t\tconsole.warn(\"Using column editor with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Table Functions   ///////\n\t///////////////////////////////////\n\t\n\tgetRanges(){\n\t\treturn this.ranges.map((range) => range.getComponent());\n\t}\n\t\n\tgetRangesData() {\n\t\treturn this.ranges.map((range) => range.getData());\n\t}\n\t\n\taddRangeFromComponent(start, end){\n\t\tstart = start ? start._cell : null;\n\t\tend = end ? end._cell : null;\n\t\t\n\t\treturn this.addRange(start, end);\n\t}\n\t\n\t///////////////////////////////////\n\t/////// Component Functions ///////\n\t///////////////////////////////////\n\t\n\tcellGetRanges(cell){\n\t\tvar ranges = [];\n\t\t\n\t\tif (cell.column === this.rowHeader) {\n\t\t\tranges = this.ranges.filter((range) => range.occupiesRow(cell.row));\n\t\t} else {\n\t\t\tranges = this.ranges.filter((range) => range.occupies(cell));\n\t\t}\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\trowGetRanges(row){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesRow(row));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\tcolGetRanges(col){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesColumn(col));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Event Handlers /////////\n\t///////////////////////////////////\n\t\n\t_handleMouseUp(e){\n\t\tthis.mousedown = false;\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t}\n\t\n\t_handleKeyDown(e) {\n\t\tif (!this.blockKeydown && (!this.table.modules.edit || (this.table.modules.edit && !this.table.modules.edit.currentCell))) {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t// is editing a cell?\n\t\t\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.table.modules.edit.editCell(this.getActiveCell());\n\t\t\t\t\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tif ((e.key === \"Backspace\" || e.key === \"Delete\") && this.options(\"selectableRangeClearCells\")) {\n\t\t\t\tif(this.activeRange){\n\t\t\t\t\tthis.activeRange.clearValues();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeFocus(cell){\n\t\tvar range;\n\t\t\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\t\n\trestoreFocus(element){\n\t\tthis.table.rowManager.element.focus();\n\t\t\n\t\treturn true;\n\t}\n\t\n\t///////////////////////////////////\n\t////// Column Functionality ///////\n\t///////////////////////////////////\n\t\n\thandleColumnResized(column) {\n\t\tvar selected;\n\t\t\n\t\tif (this.selecting !== \"column\" && this.selecting !== \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tselected = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (!selected) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.ranges.forEach((range) => {\n\t\t\tvar selectedColumns = range.getColumns(true);\n\t\t\t\n\t\t\tselectedColumns.forEach((selectedColumn) => {\n\t\t\t\tif (selectedColumn !== column) {\n\t\t\t\t\tselectedColumn.setWidth(column.width);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\thandleColumnMouseDown(event, column) {\n\t\tif (event.button === 2 && (this.selecting === \"column\" || this.selecting === \"all\") && this.activeRange.occupiesColumn(column)) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, column);\n\t}\n\t\n\thandleColumnMouseMove(e, column) {\n\t\tif (column === this.rowHeader || !this.mousedown || this.selecting === 'all') {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, column, true);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Cell Functionality ///////\n\t///////////////////////////////////\n\t\n\trenderCell(cell) {\n\t\tvar el = cell.getElement(),\n\t\trangeIdx = this.ranges.findIndex((range) => range.occupies(cell));\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", rangeIdx !== -1);\n\t\tel.classList.toggle(\"tabulator-range-only-cell-selected\", this.ranges.length === 1 && this.ranges[0].atTopLeft(cell) &&\tthis.ranges[0].atBottomRight(cell));\n\t\t\n\t\tel.dataset.range = rangeIdx;\n\t}\n\t\n\thandleCellMouseDown(event, cell) {\n\t\tif (event.button === 2 && (this.activeRange.occupies(cell) || ((this.selecting === \"row\" || this.selecting === \"all\") && this.activeRange.occupiesRow(cell.row)))) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, cell);\n\t}\n\t\n\thandleCellMouseMove(e, cell) {\n\t\tif (!this.mousedown || this.selecting === \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, cell, true);\n\t}\n\t\n\thandleCellClick(e, cell){\n\t\tthis.initializeFocus(cell);\n\t}\n\t\n\thandleEditingCell(cell) {\n\t\tif(this.activeRange){\n\t\t\tthis.activeRange.setBounds(cell);\n\t\t}\n\t}\n\t\n\tfinishEditingCell() {\n\t\tthis.blockKeydown = true;\n\t\tthis.table.rowManager.element.focus();\n\n\t\tsetTimeout(() => {\n\t\t\tthis.blockKeydown = false;\n\t\t}, 10);\n\t}\n\t\n\t///////////////////////////////////\n\t///////     Navigation      ///////\n\t///////////////////////////////////\n\t\n\tkeyNavigate(dir, e){\n\t\tif(this.navigate(false, false, dir)){\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\tkeyNavigateRange(e, dir, jump, expand){\n\t\tif(this.navigate(jump, expand, dir)){\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\tnavigate(jump, expand, dir) {\n\t\tvar moved = false,\n\t\trange, rangeEdge, nextRow, nextCol, row, column;\n\t\t\n\t\t// Don't navigate while editing\n\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t// If there are more than 1 range, use the active range and destroy the others\n\t\tif (this.ranges.length > 1) {\n\t\t\tthis.ranges = this.ranges.filter((range) => {\n\t\t\t\tif (range === this.activeRange) {\n\t\t\t\t\trange.setEnd(range.start.row, range.start.col);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\trange.destroy();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\t\n\t\trange = this.activeRange;\n\t\t\n\t\trangeEdge = expand ? range.end : range.start;\n\t\tnextRow = rangeEdge.row;\n\t\tnextCol = rangeEdge.col;\n\t\t\n\t\tif(jump){\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = this.findJumpCellLeft(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = this.findJumpCellRight(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = this.findJumpCellUp(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = this.findJumpCellDown(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}else {\n\t\t\tif(expand){\n\t\t\t\tif ((this.selecting === 'row' && (dir === 'left' || dir === 'right')) || (this.selecting === 'column' && (dir === 'up' || dir === 'down'))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = Math.max(nextCol - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = Math.min(nextCol + 1, this.getTableColumns().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = Math.max(nextRow - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = Math.min(nextRow + 1, this.getTableRows().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tmoved = nextCol !== rangeEdge.col || nextRow !== rangeEdge.row;\n\t\t\n\t\tif(!expand){\n\t\t\trange.setStart(nextRow, nextCol);\n\t\t}\n\t\t\n\t\trange.setEnd(nextRow, nextCol);\n\t\t\n\t\tif(!expand){\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\t\t\n\t\tif (moved) {\n\t\t\trow = this.getRowByRangePos(range.end.row);\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col);\n\t\t\t\n\t\t\tif ((dir === 'left' || dir === 'right') && column.getElement().parentNode === null) {\n\t\t\t\tcolumn.getComponent().scrollTo(undefined, false);\n\t\t\t} else if ((dir === 'up' || dir === 'down') && row.getElement().parentNode === null) {\n\t\t\t\trow.getComponent().scrollTo(undefined, false);\n\t\t\t} else {\n\t\t\t\t// Use faster autoScroll when the elements are on the DOM\n\t\t\t\tthis.autoScroll(range, row.getElement(), column.getElement());\n\t\t\t}\n\t\t\t\n\t\t\tthis.layoutElement();\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\trangeRemoved(removed){\n\t\tthis.ranges = this.ranges.filter((range) => range !== removed);\n\t\t\n\t\tif(this.activeRange === removed){\n\t\t\tif(this.ranges.length){\n\t\t\t\tthis.activeRange = this.ranges[this.ranges.length - 1];\n\t\t\t}else {\n\t\t\t\tthis.addRange();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.layoutElement();\n\t}\n\t\n\tfindJumpCell(cells, reverse, emptyStart, emptySide){\n\t\tvar nextCell;\n\t\t\n\t\tif(reverse){\n\t\t\tcells = cells.reverse();\n\t\t}\n\t\t\n\t\tfor(let currentCell of cells){\n\t\t\tlet currentValue = currentCell.getValue();\n\t\t\t\n\t\t\tif(emptyStart){\n\t\t\t\tnextCell = currentCell;\n\t\t\t\tif(currentValue){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(emptySide){\n\t\t\t\t\tnextCell = currentCell;\n\t\t\t\t\t\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tnextCell = currentCell;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindJumpCellLeft(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcells = row.cells.filter((cell) => cell.column.visible),\n\t\tisStartingCellEmpty = !cells[colPos].getValue(),\n\t\tisLeftOfStartingCellEmpty = cells[colPos] ? !cells[colPos].getValue() : false,\n\t\tjumpCol = colPos,\n\t\ttargetCells = this.rowHeader ? cells.slice(1, colPos) : cells.slice(0, colPos),\n\t\tnextCell = this.findJumpCell(targetCells, true, isStartingCellEmpty, isLeftOfStartingCellEmpty);\n\t\t\n\t\tif(nextCell){\n\t\t\tjumpCol = nextCell.column.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn jumpCol;\n\t}\n\t\n\tfindJumpCellRight(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcells = row.cells.filter((cell) => cell.column.visible),\n\t\tisStartingCellEmpty = !cells[colPos].getValue(),\n\t\tisRightOfStartingCellEmpty = cells[colPos + 1] ? !cells[colPos + 1].getValue() : false,\n\t\tjumpCol = colPos,\n\t\tnextCell = this.findJumpCell(cells.slice(colPos + 1, cells.length), false, isStartingCellEmpty, isRightOfStartingCellEmpty);\n\t\t\n\t\tif(nextCell){\n\t\t\tjumpCol = nextCell.column.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn jumpCol;\n\t}\n\t\n\tfindJumpCellUp(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\tcells = column.cells.filter((cell) => this.table.rowManager.activeRows.includes(cell.row)),\n\t\tisStartingCellEmpty = !cells[rowPos].getValue(),\n\t\tisTopOfStartingCellEmpty = cells[rowPos - 1] ? !cells[rowPos - 1].getValue() : false,\n\t\tjumpRow = rowPos,\n\t\tnextCell = this.findJumpCell(cells.slice(0, jumpRow), true, isStartingCellEmpty, isTopOfStartingCellEmpty);\n\t\t\n\t\tif(nextCell){\n\t\t\tjumpRow = nextCell.row.position - 1;\n\t\t}\n\t\t\n\t\treturn jumpRow;\n\t}\n\t\n\tfindJumpCellDown(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\tcells = column.cells.filter((cell) => this.table.rowManager.activeRows.includes(cell.row)),\n\t\tisStartingCellEmpty = !cells[rowPos].getValue(),\n\t\tisBottomOfStartingCellEmpty = cells[rowPos + 1] ? !cells[rowPos + 1].getValue() : false,\n\t\tjumpRow = rowPos,\n\t\tnextCell = this.findJumpCell(cells.slice(jumpRow + 1, cells.length), false, isStartingCellEmpty, isBottomOfStartingCellEmpty);\n\t\t\n\t\tif(nextCell){\n\t\t\tjumpRow = nextCell.row.position - 1;\n\t\t}\n\t\t\n\t\treturn jumpRow;\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Selection      ///////\n\t///////////////////////////////////\n\tnewSelection(event, element) {\n\t\tvar range;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(!this.columnSelection){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (element === this.rowHeader) {\n\t\t\t\trange = this.resetRanges();\n\t\t\t\tthis.selecting = \"all\";\n\t\t\t\t\n\t\t\t\tvar topLeftCell, bottomRightCell = this.getCell(-1, -1);\n\n\t\t\t\tif(this.rowHeader){\n\t\t\t\t\ttopLeftCell = this.getCell(0, 1);\n\t\t\t\t}else {\n\t\t\t\t\ttopLeftCell = this.getCell(0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trange.setBounds(topLeftCell, bottomRightCell);\t\t\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.selecting = \"column\";\n\t\t\t}\n\t\t} else if (element.column === this.rowHeader) {\n\t\t\tthis.selecting = \"row\";\n\t\t} else {\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\t\t\n\t\tif (event.shiftKey) {\n\t\t\tthis.activeRange.setBounds(false, element);\n\t\t} else if (event.ctrlKey) {\n\t\t\tthis.addRange().setBounds(element);\n\t\t} else {\n\t\t\tthis.resetRanges().setBounds(element);\n\t\t}\n\t}\n\t\n\tautoScroll(range, row, column) {\n\t\tvar tableHolder = this.table.rowManager.element,\n\t\trowHeader, rect, view, withinHorizontalView, withinVerticalView;\n\n\t\tif (typeof row === 'undefined') {\n\t\t\trow = this.getRowByRangePos(range.end.row).getElement();\n\t\t}\n\t\t\n\t\tif (typeof column === 'undefined') {\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col).getElement();\n\t\t}\n\n\t\tif (this.rowHeader) {\n\t\t\trowHeader = this.rowHeader.getElement();\n\t\t}\n\t\t\n\t\trect = {\n\t\t\tleft: column.offsetLeft,\n\t\t\tright: column.offsetLeft + column.offsetWidth,\n\t\t\ttop: row.offsetTop,\n\t\t\tbottom: row.offsetTop + row.offsetHeight,\n\t\t};\n\t\t\n\t\tview = {\n\t\t\tleft: tableHolder.scrollLeft,\n\t\t\tright: Math.ceil(tableHolder.scrollLeft + tableHolder.clientWidth),\n\t\t\ttop: tableHolder.scrollTop,\n\t\t\tbottom:\ttableHolder.scrollTop +\ttableHolder.offsetHeight - this.table.rowManager.scrollbarWidth,\n\t\t};\n\n\t\tif (rowHeader) {\n\t\t\tview.left += rowHeader.offsetWidth;\n\t\t}\n\t\t\n\t\twithinHorizontalView = view.left < rect.left &&\trect.left < view.right && view.left < rect.right &&\trect.right < view.right;\n\t\t\n\t\twithinVerticalView = view.top < rect.top &&\trect.top < view.bottom && view.top < rect.bottom &&\trect.bottom < view.bottom;\n\t\t\n\t\tif (!withinHorizontalView) {\n\t\t\tif (rect.left < view.left) {\n\t\t\t\ttableHolder.scrollLeft = rect.left;\n\t\t\t\tif (rowHeader) {\n\t\t\t\t\ttableHolder.scrollLeft -= rowHeader.offsetWidth;\n\t\t\t\t}\n\t\t\t} else if (rect.right > view.right) {\n\t\t\t\ttableHolder.scrollLeft = rect.right - tableHolder.clientWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!withinVerticalView) {\n\t\t\tif (rect.top < view.top) {\n\t\t\t\ttableHolder.scrollTop = rect.top;\n\t\t\t} else if (rect.bottom > view.bottom) {\n\t\t\t\ttableHolder.scrollTop = rect.bottom - tableHolder.clientHeight;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////       Layout        ///////\n\t///////////////////////////////////\n\t\n\tlayoutChange(){\n\t\tthis.overlay.style.visibility = \"hidden\";\n\t\tclearTimeout(this.layoutChangeTimeout);\n\t\tthis.layoutChangeTimeout = setTimeout(this.layoutRanges.bind(this), 200);\n\t}\n\t\n\tredraw(force) {\n\t\tif (force) {\n\t\t\tthis.selecting = 'cell';\n\t\t\tthis.resetRanges();\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\t\n\tlayoutElement(visibleRows) {\n\t\tvar rows;\n\t\t\n\t\tif (visibleRows) {\n\t\t\trows = this.table.rowManager.getVisibleRows(true);\n\t\t} else {\n\t\t\trows = this.table.rowManager.getRows();\n\t\t}\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\") {\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\trow.cells.forEach((cell) => this.renderCell(cell));\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.getTableColumns().forEach((column) => {\n\t\t\tthis.layoutColumn(column);\n\t\t});\n\t\t\n\t\tthis.layoutRanges();\n\t}\n\t\n\tlayoutRow(row) {\n\t\tvar el = row.getElement(),\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesRow(row));\n\t\t\n\t\tif (this.selecting === \"row\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutColumn(column) {\n\t\tvar el = column.getElement(),\t\t\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (this.selecting === \"column\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutRanges() {\n\t\tvar activeCell;\n\t\t\n\t\tif (!this.table.initialized) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tactiveCell = this.getActiveCell();\n\t\t\n\t\tif (!activeCell) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRangeCellElement.style.left = activeCell.row.getElement().offsetLeft + activeCell.getElement().offsetLeft + \"px\";\n\t\tthis.activeRangeCellElement.style.top =\tactiveCell.row.getElement().offsetTop + \"px\";\n\t\tthis.activeRangeCellElement.style.width = activeCell.getElement().offsetLeft + activeCell.getElement().offsetWidth - activeCell.getElement().offsetLeft + \"px\";\n\t\tthis.activeRangeCellElement.style.height = activeCell.row.getElement().offsetTop + activeCell.row.getElement().offsetHeight - activeCell.row.getElement().offsetTop + \"px\";\n\t\t\n\t\tthis.ranges.forEach((range) => range.layout());\n\t\t\n\t\tthis.overlay.style.visibility = \"visible\";\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////  Helper Functions   ///////\n\t///////////////////////////////////\t\n\t\n\tgetCell(rowIdx, colIdx) {\n\t\tvar row;\n\t\t\n\t\tif (colIdx < 0) {\n\t\t\tcolIdx = this.getTableColumns().length + colIdx;\n\t\t\tif (colIdx < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (rowIdx < 0) {\n\t\t\trowIdx = this.getTableRows().length + rowIdx;\n\t\t}\n\t\t\n\t\trow = this.table.rowManager.getRowFromPosition(rowIdx + 1);\n\t\t\n\t\treturn row ? row.getCells(false, true).filter((cell) => cell.column.visible)[colIdx] : null;\n\t}\n\t\n\t\n\tgetActiveCell() {\n\t\treturn this.getCell(this.activeRange.start.row, this.activeRange.start.col);\n\t}\n\t\n\tgetRowByRangePos(pos) {\n\t\treturn this.getTableRows()[pos];\n\t}\n\t\n\tgetColumnByRangePos(pos) {\n\t\treturn this.getTableColumns()[pos];\n\t}\n\t\n\tgetTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\t\n\tgetTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\taddRange(start, end) {\n\t\tvar  range;\n\t\t\n\t\tif(this.maxRanges !== true && this.ranges.length >= this.maxRanges){\n\t\t\tthis.ranges.shift().destroy();\n\t\t}\n\t\t\n\t\trange = new Range(this.table, this, start, end);\n\t\t\n\t\tthis.activeRange = range;\n\t\tthis.ranges.push(range);\n\t\tthis.rangeContainer.appendChild(range.element);\n\t\t\n\t\treturn range;\n\t}\n\t\n\tresetRanges() {\n\t\tvar range, cell;\n\t\t\n\t\tthis.ranges.forEach((range) => range.destroy());\n\t\tthis.ranges = [];\n\t\t\n\t\trange = this.addRange();\n\t\t\n\t\tif(this.table.rowManager.activeRows.length){\n\t\t\tcell = this.table.rowManager.activeRows[0].cells[this.rowHeader ? 1 : 0];\n\n\t\t\tif(cell){\n\t\t\t\trange.setBounds(cell);\n\t\t\t\tthis.initializeFocus(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn range;\n\t}\n\t\n\ttableDestroyed(){\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t\tthis.table.rowManager.element.removeEventListener(\"keydown\", this.keyDownEvent);\n\t}\n\t\n\tselectedRows(component) {\n\t\treturn component ? this.activeRange.getRows().map((row) => row.getComponent()) : this.activeRange.getRows();\n\t}\n\t\n\tselectedColumns(component) {\n\t\treturn component ? this.activeRange.getColumns().map((col) => col.getComponent()) : this.activeRange.getColumns();\n\t}\n}\n\nSelectRange.moduleName = \"selectRange\";\n\nclass Tooltip extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\tthis.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else {\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nTooltip.moduleName = \"tooltip\";\n\nvar defaultValidators = {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//must be alphanumeric\n\talphanumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar reg = new RegExp(/^[a-z0-9]+$/i);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};\n\nclass Validate extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else {\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else {\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidate.moduleName = \"validate\";\n\n//load defaults\nValidate.validators = defaultValidators;\n\nvar modules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tAccessorModule: Accessor,\n\tAjaxModule: Ajax,\n\tClipboardModule: Clipboard,\n\tColumnCalcsModule: ColumnCalcs,\n\tDataTreeModule: DataTree,\n\tDownloadModule: Download,\n\tEditModule: Edit$1,\n\tExportModule: Export,\n\tFilterModule: Filter,\n\tFormatModule: Format,\n\tFrozenColumnsModule: FrozenColumns,\n\tFrozenRowsModule: FrozenRows,\n\tGroupRowsModule: GroupRows,\n\tHistoryModule: History,\n\tHtmlTableImportModule: HtmlTableImport,\n\tImportModule: Import,\n\tInteractionModule: Interaction,\n\tKeybindingsModule: Keybindings,\n\tMenuModule: Menu,\n\tMoveColumnsModule: MoveColumns,\n\tMoveRowsModule: MoveRows,\n\tMutatorModule: Mutator,\n\tPageModule: Page,\n\tPersistenceModule: Persistence,\n\tPopupModule: Popup$1,\n\tPrintModule: Print,\n\tReactiveDataModule: ReactiveData,\n\tResizeColumnsModule: ResizeColumns,\n\tResizeRowsModule: ResizeRows,\n\tResizeTableModule: ResizeTable,\n\tResponsiveLayoutModule: ResponsiveLayout,\n\tSelectRowModule: SelectRow,\n\tSortModule: Sort,\n\tSelectRangeModule: SelectRange,\n\tTooltipModule: Tooltip,\n\tValidateModule: Validate\n});\n\nvar defaultOptions = {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\n\tdataSendParams:{},\n\n\tdataReceiveParams:{},\n};\n\nclass OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else {\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}\n\nclass Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\trenderRowCells(row, inFragment) {\n\t\tconst rowFrag = document.createDocumentFragment();\n\t\trow.cells.forEach((cell) => {\n\t\t\trowFrag.appendChild(cell.getElement());\n\t\t});\n\t\trow.element.appendChild(rowFrag);\n\t\t\n\t\tif(!inFragment){\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}\n\nclass VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else {\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else {\n\t\t\tconst rowFrag = document.createDocumentFragment();\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trowFrag.appendChild(cell.getElement());\n\t\t\t});\n\t\t\trow.element.appendChild(rowFrag);\n\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else {\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else {\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\n\t\tthis.initializeScrollWheelWatcher();\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else {\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomHorizontal,\n\t\t\t\"basic\": BasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\n\tinitializeScrollWheelWatcher(){\n\t\tthis.contentsElement.addEventListener(\"wheel\", (e) => {\n\t\t\tvar left;\n\n\t\t\tif(e.deltaX){\n\t\t\t\tleft = this.contentsElement.scrollLeft + e.deltaX;\n\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions,\n\t\trow, sorter;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trow = data[0];\n\t\t\t\n\t\t\tfor(var key in row){\n\t\t\t\tlet col = {\n\t\t\t\t\tfield:key,\n\t\t\t\t\ttitle:key,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet value = row[key];\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcol.sorter = sorter;\n\t\t\t\t\n\t\t\t\tcols.push(col);\n\t\t\t}\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else {\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else {\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else {\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\n\t\t\t\tcolumns = [];\n\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator)[0] : field;\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\n\tgetVisibleColumnsByIndex() {\n\t\treturn this.columnsByIndex.filter((col) => col.visible);\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else {\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else {\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}\n\nclass BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.verticalFillMode = \"fill\";\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\t\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\t\t\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\t\t\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\t\n\trenderRows() {\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true,\n\t\ttableFrag = document.createDocumentFragment(),\n\t\trows = this.rows();\n\t\t\n\t\trows.forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\trow.initialize(false, true);\n\t\t\t\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t\t\n\t\t\ttableFrag.appendChild(row.getElement());\n\t\t});\n\t\t\n\t\telement.appendChild(tableFrag);\n\t\t\n\t\trows.forEach((row) => {\n\t\t\trow.rendered();\n\t\t\t\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.calcHeight(true);\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.setCellHeight();\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n\t\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\t\t\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t\t\n\t\tthis.renderRows();\n\n\t\tif(!this.rows().length){\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\t}\n\t\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\t\t\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\t\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\t\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\t\n}\n\nclass VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else {\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else {\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else {\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset) {\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\trowHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tindex = 0,\n\t\trow,\n\t\trowFragment,\n\t\trenderedRows = [],\n\t\ttotalRowsRendered = 0,\n\t\trowsToRender = 0,\n\t\tfixedHeight = this.table.rowManager.fixedHeight,\n\t\tcontainerHeight = this.elementVertical.clientHeight, \n\t\tavgRowHeight = this.table.options.rowHeight, \n\t\tresized = true;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else {\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\tif(fixedHeight || this.table.options.maxHeight) {\n\t\t\t\tif(avgRowHeight) {\n\t\t\t\t\trowsToRender = (containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight);\n\t\t\t\t}\n\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil(rowsToRender));\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowsToRender = rowsCount;\n\t\t\t}\n\n\t\t\twhile(((rowsToRender == rowsCount || rowsHeight <= containerHeight + this.vDomWindowBuffer) || totalRowsRendered < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1) {\n\t\t\t\trenderedRows = [];\n\t\t\t\trowFragment = document.createDocumentFragment();\n\n\t\t\t\ti = 0;\n\n\t\t\t\twhile ((i < rowsToRender) && this.vDomBottom < rowsCount -1) {\t\n\t\t\t\t\tindex = this.vDomBottom + 1,\n\t\t\t\t\trow = rows[index];\n\n\t\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\t\trow.initialize(false, true);\n\t\t\t\t\tif(!row.heightInitialized && !this.table.options.rowHeight){\n\t\t\t\t\t\trow.clearCellHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\trowFragment.appendChild(row.getElement());\n\t\t\t\t\trenderedRows.push(row);\n\t\t\t\t\tthis.vDomBottom ++;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\tif(!renderedRows.length){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(rowFragment);\n\t\t\t\t\n\t\t\t\t// NOTE: The next 3 loops are separate on purpose\n\t\t\t\t// This is to batch up the dom writes and reads which drastically improves performance \n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trow.rendered();\n\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.calcHeight(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.setCellHeight();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trowHeight = row.getHeight();\n\t\t\t\t\t\n\t\t\t\t\tif(totalRowsRendered < topPad){\n\t\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t\t}else {\n\t\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t\ttotalRowsRendered++;\n\t\t\t\t});\n\n\t\t\t\tresized = this.table.rowManager.adjustTableSize();\n\t\t\t\tcontainerHeight = this.elementVertical.clientHeight;\n\t\t\t\tif(resized && (fixedHeight || this.table.options.maxHeight))\n\t\t\t\t{\n\t\t\t\t\tavgRowHeight = rowsHeight / totalRowsRendered;\n\t\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil((containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / totalRowsRendered);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else {\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\t\t\t\n\t\t\telement.style.paddingTop = this.vDomTopPad+\"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad+\"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}\n\nclass RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\t\t\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\t\t\n\t\tif(typeof placeholder === \"function\"){\n\t\t\tplaceholder = placeholder.call(this.table);\n\t\t}\n\t\t\n\t\tplaceholder = this.chain(\"placeholder\", [placeholder], placeholder, placeholder) || placeholder;\n\t\t\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\t\t\t\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\t\t\t\t\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t\t\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else {\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else {\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\t\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\t\t\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(this.displayRowsCount){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else {\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else {\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else {\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler || !this.activeRowsPipeline[0]){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\t\t\t\t\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\t\t\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\t\t\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else {\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\t\t\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else {\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\t\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\t\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\t\t\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomVertical,\n\t\t\t\"basic\": BasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else {\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\t\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else {\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\t\t\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else {\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\t\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\n\tcheckPlaceholder(){\n\t\tif(this.displayRowsCount){\n\t\t\tthis._clearPlaceholder();\n\t\t}else {\n\t\t\tthis.tableEmpty();\n\t\t}\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\t\n\t\t\tthis.initializePlaceholder();\n\t\t\t\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t\t\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight();\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tlet initialHeight = this.element.clientHeight, minHeight;\n\t\tlet resized = false;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tconst height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = height;\n\t\t\t\tthis.element.style.maxHeight = height;\n\t\t\t} else {\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height =\n\t\t\t\tthis.table.element.clientHeight - otherHeight + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tresized = true;\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else {\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t\treturn resized;\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else {\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tthis.adjustTableSize();\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\t\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(this.scrollLeft);\n\t\t}else {\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else {\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n\nclass FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}\n\nclass InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else {\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else {\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else {\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else {\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\t\n\tinitialize(){}\n\t\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tif(this.table.destroyed){\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\t\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\t\t\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\t\t\t\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\t\t\t\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\t\t\t\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!this.table.destroyed){\n\t\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rowData = this.chain(\"data-loaded\", response, null, response);\n\t\t\t\t\t\n\t\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\t\tthis.clearAlert();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - Table has been destroyed\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\t\t\t\t\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\t\t\t\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\t\n\tmapParams(params, map){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tobjectInvert(obj){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\t\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\t\t\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\t\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\t\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}\n\nclass ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}\n\nclass InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else {\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}\n\nclass DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption, convert){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\n\t\t\t\tif(convert){\n\t\t\t\t\tthis.table.options[newOption] = this.table.options[oldOption];\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}\n\nclass TableRegistry {\n\n\tstatic register(table){\n\t\tTableRegistry.tables.push(table);\n\t}\n\n\tstatic deregister(table){\n\t\tvar index = TableRegistry.tables.indexOf(table);\n\n\t\tif(index > -1){\n\t\t\tTableRegistry.tables.splice(index, 1);\n\t\t}\n\t}\n\n\tstatic lookupTable(query, silent){\n\t\tvar results = [],\n\t\tmatches, match;\n\n\t\tif(typeof query === \"string\"){\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif(matches.length){\n\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\tmatch = TableRegistry.matchElement(matches[i]);\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof Tabulator){\n\t\t\tmatch = TableRegistry.matchElement(query);\n\n\t\t\tif(match){\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t}else if(Array.isArray(query)){\n\t\t\tquery.forEach(function(item){\n\t\t\t\tresults = results.concat(TableRegistry.lookupTable(item));\n\t\t\t});\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tstatic matchElement(element){\n\t\treturn TableRegistry.tables.find(function(table){\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n}\n\nTableRegistry.tables = [];\n\n//resize columns to fit data they contain\nfunction fitData(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nfunction fitDataGeneral(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data the contain and stretch last column to fill table\nfunction fitDataStretch(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else {\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else {\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}\n\n//resize columns to fit\nfunction fitColumns(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else {\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else {\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else {\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else {\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n\nvar defaultModes = {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};\n\nclass Layout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else {\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.widthGrow){\n\t\t\tcolumn.definition.widthGrow = Number(column.definition.widthGrow);\n\t\t}\n\t\tif(column.definition.widthShrink){\n\t\t\tcolumn.definition.widthShrink = Number(column.definition.widthShrink);\n\t\t}\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}\n\nLayout.moduleName = \"layout\";\n\n//load defaults\nLayout.modes = defaultModes;\n\nvar defaultLangs = {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};\n\nclass Localize extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else {\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else {\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else {\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else {\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nLocalize.moduleName = \"localize\";\n\n//load defaults\nLocalize.langs = defaultLangs;\n\nclass Comms extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = TableRegistry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else {\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nComms.moduleName = \"comms\";\n\nvar coreModules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tLayoutModule: Layout,\n\tLocalizeModule: Localize,\n\tCommsModule: Comms\n});\n\nclass ModuleBinder {\n\t\n\tconstructor(tabulator, modules){\n\t\tthis.bindStaticFunctionality(tabulator);\n\t\tthis.bindModules(tabulator, coreModules, true);\n\t\t\n\t\tif(modules){\n\t\t\tthis.bindModules(tabulator, modules);\n\t\t}\n\t}\n\t\n\tbindStaticFunctionality(tabulator){\n\t\ttabulator.moduleBindings = {};\n\t\t\n\t\ttabulator.extendModule = function(name, property, values){\n\t\t\tif(tabulator.moduleBindings[name]){\n\t\t\t\tvar source = tabulator.moduleBindings[name][property];\n\t\t\t\t\n\t\t\t\tif(source){\n\t\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t\t}\n\t\t};\n\t\t\n\t\ttabulator.registerModule = function(modules){\n\t\t\tif(!Array.isArray(modules)){\n\t\t\t\tmodules = [modules];\n\t\t\t}\n\t\t\t\n\t\t\tmodules.forEach((mod) => {\n\t\t\t\ttabulator.registerModuleBinding(mod);\n\t\t\t});\n\t\t};\n\t\t\n\t\ttabulator.registerModuleBinding = function(mod){\n\t\t\ttabulator.moduleBindings[mod.moduleName] = mod;\n\t\t};\n\t\t\n\t\ttabulator.findTable = function(query){\n\t\t\tvar results = TableRegistry.lookupTable(query, true);\n\t\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t\t};\n\t\t\n\t\t//ensure that module are bound to instantiated function\n\t\ttabulator.prototype.bindModules = function(){\n\t\t\tvar orderedStartMods = [],\n\t\t\torderedEndMods = [],\n\t\t\tunOrderedMods = [];\n\t\t\t\n\t\t\tthis.modules = {};\n\t\t\t\n\t\t\tfor(var name in tabulator.moduleBindings){\n\t\t\t\tlet mod = tabulator.moduleBindings[name];\n\t\t\t\tlet module = new mod(this);\n\t\t\t\t\n\t\t\t\tthis.modules[name] = module;\n\t\t\t\t\n\t\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\t\tthis.modulesCore.push(module);\n\t\t\t\t}else {\n\t\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else {\n\t\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\t\n\t\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t\t};\n\t}\n\t\n\tbindModules(tabulator, modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModule(mods);\n\t}\n}\n\nclass Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n\n\t\t\tthis.dispatch(\"alert-show\", type);\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else {\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tthis.dispatch(\"alert-hide\", this.type);\n\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}\n\nclass Tabulator {\n\t\n\tconstructor(element, options){\n\t\t\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tTableRegistry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis.bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionManager(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\t// this.columnManager.initialize();\n\t\t// this.rowManager.initialize();\n\t\tthis.footerManager.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\t\t\n\t\tthis._loadInitialData();\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\tthis.dataLoader.load(this.options.data);\n\t\tthis.columnManager.verticalAlignHeaders();\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tTableRegistry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else {\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else {\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else {\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else {\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else {\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw(true);\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else {\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\n//default setup options\nTabulator.defaultOptions = defaultOptions;\n\n//bind modules and static functionality\nnew ModuleBinder(Tabulator);\n\n//tabulator with all modules installed\n\nclass TabulatorFull extends Tabulator {}\n\n//bind modules and static functionality\nnew ModuleBinder(TabulatorFull, modules);\n\nclass PseudoRow {\n\n\tconstructor (type){\n\t\tthis.type = type;\n\t\tthis.element = this._createElement();\n\t}\n\n\t_createElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-row\");\n\t\treturn el;\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tgetComponent(){\n\t\treturn false;\n\t}\n\n\tgetData(){\n\t\treturn {};\n\t}\n\n\tgetHeight(){\n\t\treturn this.element.outerHeight;\n\t}\n\n\tinitialize(){}\n\n\treinitialize(){}\n\n\tnormalizeHeight(){}\n\n\tgenerateCells(){}\n\n\treinitializeHeight(){}\n\n\tcalcHeight(){}\n\n\tsetCellHeight(){}\n\n\tclearCellHeight(){}\n\n\trendered(){}\n}\n\nexport { Accessor as AccessorModule, Ajax as AjaxModule, CalcComponent, CellComponent, Clipboard as ClipboardModule, ColumnCalcs as ColumnCalcsModule, ColumnComponent, DataTree as DataTreeModule, Download as DownloadModule, Edit$1 as EditModule, Export as ExportModule, Filter as FilterModule, Format as FormatModule, FrozenColumns as FrozenColumnsModule, FrozenRows as FrozenRowsModule, GroupComponent, GroupRows as GroupRowsModule, History as HistoryModule, HtmlTableImport as HtmlTableImportModule, Import as ImportModule, Interaction as InteractionModule, Keybindings as KeybindingsModule, Menu as MenuModule, Module, MoveColumns as MoveColumnsModule, MoveRows as MoveRowsModule, Mutator as MutatorModule, Page as PageModule, Persistence as PersistenceModule, Popup$1 as PopupModule, Print as PrintModule, PseudoRow, ReactiveData as ReactiveDataModule, Renderer, ResizeColumns as ResizeColumnsModule, ResizeRows as ResizeRowsModule, ResizeTable as ResizeTableModule, ResponsiveLayout as ResponsiveLayoutModule, RowComponent, SelectRange as SelectRangeModule, SelectRow as SelectRowModule, Sort as SortModule, Tabulator, TabulatorFull, Tooltip as TooltipModule, Validate as ValidateModule };\n//# sourceMappingURL=tabulator_esm.js.map\n","// table-wrapper.js\r\n// Tabulator-based table wrapper for pdf-home (native JS integration)\r\n\r\n// ==================== 修改开始 ====================\r\n// 1. 从主包导入 Tabulator 核心类\r\n// import { Tabulator } from 'tabulator-tables';\r\n import { Tabulator } from 'tabulator-tables';\r\n// 2. 从各自的独立路径中，逐一导入所有需要的模块\r\n// ==================== 修改结束 ====================\r\n\r\nimport 'tabulator-tables/dist/css/tabulator.min.css';\r\nimport Logger from '../common/utils/logger.js';\r\n\r\nconst logger = new Logger('TableWrapper');\r\n\r\n/**\r\n * TableWrapper - 基于 Tabulator 的表格封装\r\n *\r\n * 说明：\r\n * - 该类封装了 Tabulator 实例并提供一组被 pdf-home 使用的简洁 API。\r\n * - 遵循项目约定：不直接清空宿主 container，仅在内部的 tableWrapper 插槽中更新内容；事件与 DOM 操作应在初始化时注册一次。\r\n *\r\n * @example\r\n * const wrapper = new TableWrapper(document.querySelector('#pdf-table-container'), { columns: [...] });\r\n * wrapper.setData(pdfs);\r\n *\r\n */\r\nexport default class TableWrapper {\r\n  #container;\r\n  #tableWrapper;\r\n  #options;\r\n  #tabulator;\r\n  #localListeners;\r\n  #fallbackMode = false; // 新增：回退模式标志\r\n  #fallbackTable = null; // 新增：回退表格元素\r\n  #fallbackData = []; // 新增：回退模式下的数据存储\r\n\r\n  // Expose read-only accessors for integration code that expects public properties\r\n  // e.g. other modules check `pdfTable.tableWrapper` or `pdfTable.tabulator`\r\n  get tabulator() { return this.#tabulator; }\r\n  get tableWrapper() { return this.#tableWrapper; }\r\n  get container() { return this.#container; }\r\n  get fallbackMode() { return this.#fallbackMode; } // 新增：暴露回退模式状态\r\n\r\n  /**\r\n   * 创建 TableWrapper 实例并在 container 内准备 tableWrapper 插槽。\r\n   * @param {HTMLElement|string} container - 容器元素或选择器字符串（外壳，不能被清空）\r\n   * @param {Object} [options] - 传递给 Tabulator 的配置项（会与默认项合并）\r\n   */\r\n  constructor(container, options = {}) {\r\n    if (typeof container === 'string') {\r\n      this.#container = document.querySelector(container);\r\n    } else {\r\n      this.#container = container;\r\n    }\r\n\r\n    if (!this.#container) throw new Error('Container not found');\r\n\r\n    this.#tableWrapper = this._getOrCreateWrapper();\r\n// 准备一个优雅的HTML字符串作为placeholder\r\n    const defaultPlaceholder = `\r\n      <div style=\"text-align:center;padding:24px;color:#666;\">\r\n        <div style=\"font-size:32px;margin-bottom:8px\">📄</div>\r\n        <div>暂无数据</div>\r\n      </div>`;\r\n\r\n    this.#options = Object.assign({\r\n      // avoid forcing 100% height which can collapse if parent has no explicit height\r\n      height: 'auto',\r\n      layout: 'fitColumns',\r\n      selectable: true,           // 启用选择\r\n      // selectableRows: true,       // 启用行选择\r\n      // selectableRangeMode: \"click\", // 点击选择模式\r\n      // selectableRollingSelection: false, // 禁用滚动选择\r\n      layoutColumnsOnNewData: false,\r\n      placeholder: defaultPlaceholder,\r\n    }, options);\r\n    console.log('TableWrapper options:', JSON.stringify(this.#options));\r\n    this.#tabulator = null;\r\n    // local event listeners for wrapper-level events (data-loaded, etc.)\r\n    this.#localListeners = Object.create(null);\r\n    this._init();\r\n  }\r\n\r\n  /**\r\n   * 查找或创建内部 tableWrapper 插槽。\r\n   * 如果容器中已有 .pdf-table-wrapper，则复用；否则创建一个新的并附加到 container 中。\r\n   * @returns {HTMLElement} tableWrapper 元素\r\n   */\r\n  _getOrCreateWrapper() {\r\n    const existing = this.#container.querySelector('.pdf-table-wrapper');\r\n    if (existing) return existing;\r\n    const wrapper = document.createElement('div');\r\n    wrapper.className = 'pdf-table-wrapper';\r\n    // ensure wrapper has a minimum height so Tabulator can render\r\n    wrapper.style.minHeight = '200px';\r\n    this.#container.appendChild(wrapper);\r\n    return wrapper;\r\n  }\r\n\r\n  /**\r\n   * 初始化 Tabulator 实例并挂载到 tableWrapper 上。\r\n   * 仅在构造时调用一次，且不得在每次渲染时重复创建实例。\r\n   * @private\r\n   */\r\n  _init() {\r\n    try {\r\n      // 检查是否在测试环境中，并且是否有模拟的Tabulator失败\r\n      const isTestEnvironment = typeof global !== 'undefined' && global._forceTabulatorFailure;\r\n      \r\n      if (isTestEnvironment) {\r\n        throw new Error('Forced Tabulator failure for testing');\r\n      }\r\n      \r\n      // Initialize Tabulator instance inside tableWrapper\r\n      // Tabulator.registerModule([\r\n      //   FormatModule,\r\n      //   SelectRowModule,\r\n      //   SortModule,\r\n      //   ResizeTableModule\r\n      // ]);\r\n      this.#tabulator = new Tabulator(this.#tableWrapper, Object.assign({}, this.#options));\r\n      logger.info('Tabulator initialized');\r\n      this.#fallbackMode = false;\r\n    } catch (error) {\r\n      logger.warn('Tabulator initialization failed, falling back to HTML table:', error);\r\n      this.#fallbackMode = true;\r\n      this.#tabulator = null;\r\n      this._createFallbackTable();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建回退HTML表格\r\n   * @private\r\n   */\r\n  _createFallbackTable() {\r\n    // 清空现有内容\r\n    while (this.#tableWrapper.firstChild) {\r\n      this.#tableWrapper.removeChild(this.#tableWrapper.firstChild);\r\n    }\r\n\r\n    // 创建回退表格\r\n    this.#fallbackTable = document.createElement('table');\r\n    this.#fallbackTable.className = 'pdf-table-fallback';\r\n    this.#fallbackTable.style.width = '100%';\r\n    this.#fallbackTable.style.borderCollapse = 'collapse';\r\n    this.#fallbackTable.style.minHeight = '200px';\r\n\r\n    // 创建表头\r\n    const thead = document.createElement('thead');\r\n    const headerRow = document.createElement('tr');\r\n    \r\n    // 添加选择列\r\n    const selectHeader = document.createElement('th');\r\n    selectHeader.style.width = '40px';\r\n    selectHeader.style.padding = '8px';\r\n    selectHeader.style.border = '1px solid #ddd';\r\n    selectHeader.style.textAlign = 'center';\r\n    selectHeader.innerHTML = '<input type=\"checkbox\" class=\"pdf-table-select-all\">';\r\n    headerRow.appendChild(selectHeader);\r\n\r\n    // 添加数据列\r\n    if (this.#options.columns && Array.isArray(this.#options.columns)) {\r\n      this.#options.columns.forEach(column => {\r\n        const th = document.createElement('th');\r\n        th.style.padding = '8px';\r\n        th.style.border = '1px solid #ddd';\r\n        th.style.textAlign = 'left';\r\n        th.textContent = column.title || column.field;\r\n        headerRow.appendChild(th);\r\n      });\r\n    }\r\n\r\n    thead.appendChild(headerRow);\r\n    this.#fallbackTable.appendChild(thead);\r\n\r\n    // 创建表体\r\n    const tbody = document.createElement('tbody');\r\n    this.#fallbackTable.appendChild(tbody);\r\n\r\n    // 添加到容器\r\n    this.#tableWrapper.appendChild(this.#fallbackTable);\r\n\r\n    // 绑定全选事件\r\n    const selectAllCheckbox = this.#fallbackTable.querySelector('.pdf-table-select-all');\r\n    if (selectAllCheckbox) {\r\n      selectAllCheckbox.addEventListener('change', (e) => {\r\n        const checkboxes = this.#fallbackTable.querySelectorAll('tbody input[type=\"checkbox\"]');\r\n        checkboxes.forEach(cb => cb.checked = e.target.checked);\r\n        // 触发行选择事件\r\n        this._callLocalListeners('row-selection-changed', this.getSelectedRows());\r\n      });\r\n    }\r\n\r\n    logger.info('Fallback table created');\r\n  }\r\n\r\n  /**\r\n   * 更新回退表格数据\r\n   * @param {Array} data - 要显示的数据\r\n   * @private\r\n   */\r\n  _updateFallbackTable(data) {\r\n    if (!this.#fallbackTable) return;\r\n\r\n    this.#fallbackData = this.#prepareData(data);\r\n    const tbody = this.#fallbackTable.querySelector('tbody');\r\n    \r\n    // 清空现有数据行\r\n    while (tbody.firstChild) {\r\n      tbody.removeChild(tbody.firstChild);\r\n    }\r\n\r\n    // 如果没有数据，显示空状态\r\n    if (!this.#fallbackData || this.#fallbackData.length === 0) {\r\n      const emptyRow = document.createElement('tr');\r\n      const emptyCell = document.createElement('td');\r\n      emptyCell.colSpan = (this.#options.columns ? this.#options.columns.length + 1 : 1);\r\n      emptyCell.style.padding = '24px';\r\n      emptyCell.style.textAlign = 'center';\r\n      emptyCell.style.color = '#666';\r\n      emptyCell.innerHTML = '<div>暂无数据</div>';\r\n      emptyRow.appendChild(emptyCell);\r\n      tbody.appendChild(emptyRow);\r\n      return;\r\n    }\r\n\r\n    // 添加数据行\r\n    this.#fallbackData.forEach((row, index) => {\r\n      const tr = document.createElement('tr');\r\n      tr.style.borderBottom = '1px solid #eee';\r\n      tr.dataset.rowIndex = index;\r\n\r\n      // 添加选择框\r\n      const selectCell = document.createElement('td');\r\n      selectCell.style.padding = '8px';\r\n      selectCell.style.border = '1px solid #ddd';\r\n      selectCell.style.textAlign = 'center';\r\n      const checkbox = document.createElement('input');\r\n      checkbox.type = 'checkbox';\r\n      checkbox.className = 'pdf-table-row-select';\r\n      checkbox.dataset.rowIndex = index;\r\n      checkbox.addEventListener('change', () => {\r\n        // 触发行选择事件\r\n        this._callLocalListeners('row-selection-changed', this.getSelectedRows());\r\n      });\r\n      selectCell.appendChild(checkbox);\r\n      tr.appendChild(selectCell);\r\n\r\n      // 添加数据列\r\n      if (this.#options.columns && Array.isArray(this.#options.columns)) {\r\n        this.#options.columns.forEach(column => {\r\n          const td = document.createElement('td');\r\n          td.style.padding = '8px';\r\n          td.style.border = '1px solid #ddd';\r\n          td.textContent = row[column.field] || '';\r\n          tr.appendChild(td);\r\n        });\r\n      }\r\n\r\n      tbody.appendChild(tr);\r\n    });\r\n\r\n    logger.info('Fallback table updated with', this.#fallbackData.length, 'rows');\r\n  }\r\n\r\n  /**\r\n   * 设置表格数据（防御性拷贝）。\r\n   * @param {Array<Object>} data - 要渲染的行对象数组，方法内部会拷贝每个对象以防外部修改影响内部状态。\r\n   * @returns {void}\r\n   */\r\n  setData(data) {\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下使用HTML表格\r\n      this._updateFallbackTable(data);\r\n      this._callLocalListeners('data-loaded', this.#prepareData(data));\r\n      return Promise.resolve();\r\n    }\r\n\r\n    // 正常模式下使用Tabulator\r\n    const rows = this.#prepareData(data);\r\n    const result = this.#tabulator.setData(rows);\r\n    \r\n    Promise.resolve(result)\r\n      .then(() => this.#handleDataLoaded(rows))\r\n      .catch(err => this.#handleSetDataError(err, rows));\r\n      \r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 准备数据，进行防御性拷贝\r\n   * @param {Array<Object>} data - 原始数据\r\n   * @returns {Array<Object>} 拷贝后的数据\r\n   */\r\n  #prepareData(data) {\r\n    return Array.isArray(data) ? data.map(r => Object.assign({}, r)) : [];\r\n  }\r\n\r\n  /**\r\n   * 处理数据加载完成后的逻辑\r\n   * @param {Array<Object>} rows - 数据行\r\n   */\r\n  #handleDataLoaded(rows) {\r\n    logger.debug('setData count=', rows.length);\r\n    this._callLocalListeners('data-loaded', rows);\r\n    \r\n    try {\r\n      this.#ensureTabulatorRedraw();\r\n      this.#logDOMDiagnostics();\r\n      this.#handleMissingDOMElements();\r\n      this.#logComputedStyles();\r\n      this.#logTabulatorInstanceInfo();\r\n    } catch (e) {\r\n      logger.warn('Error inspecting tableWrapper DOM', e);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理设置数据错误\r\n   * @param {Error} err - 错误对象\r\n   * @param {Array<Object>} rows - 数据行\r\n   */\r\n  #handleSetDataError(err, rows) {\r\n    logger.warn('Tabulator setData failed', err);\r\n    this._callLocalListeners('data-loaded', rows);\r\n  }\r\n\r\n  /**\r\n   * 确保Tabulator重绘\r\n   */\r\n  #ensureTabulatorRedraw() {\r\n    if (this.#tabulator && typeof this.#tabulator.redraw === 'function') {\r\n      try { this.#tabulator.redraw(true); } catch (e) { /* ignore */ }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 记录DOM诊断信息\r\n   */\r\n  #logDOMDiagnostics() {\r\n    const childCount = this.#tableWrapper ? this.#tableWrapper.childElementCount : 0;\r\n    const innerLen = this.#tableWrapper && this.#tableWrapper.innerHTML ? this.#tableWrapper.innerHTML.length : 0;\r\n    \r\n    // Detect Tabulator element: it may be the wrapper itself (Tabulator adds classes to the container)\r\n    const wrapperIsTabulator = this.#tableWrapper ?\r\n      this.#tableWrapper.classList && this.#tableWrapper.classList.contains('tabulator') : false;\r\n    const tabEl = this.#tableWrapper ?\r\n      (wrapperIsTabulator ? this.#tableWrapper :\r\n        (this.#tableWrapper.querySelector('.tabulator') || this.#tableWrapper.querySelector('.tabulator-table'))) : null;\r\n    const tabExists = !!tabEl;\r\n    \r\n    let rectInfo = 'null';\r\n    if (this.#tableWrapper && typeof this.#tableWrapper.getBoundingClientRect === 'function') {\r\n      const r = this.#tableWrapper.getBoundingClientRect();\r\n      rectInfo = `${Math.round(r.width)}x${Math.round(r.height)}`;\r\n    }\r\n    \r\n    logger.info(`TableWrapper DOM after setData: childCount=${childCount}, innerHTMLLen=${innerLen}, tableWrapper.className=${this.#tableWrapper ? this.#tableWrapper.className : 'null'}, tabExists=${tabExists}, rect=${rectInfo}`);\r\n  }\r\n\r\n  /**\r\n   * 处理缺失的DOM元素\r\n   */\r\n  #handleMissingDOMElements() {\r\n    const wrapperIsTabulator = this.#tableWrapper ?\r\n      this.#tableWrapper.classList && this.#tableWrapper.classList.contains('tabulator') : false;\r\n    const tabEl = this.#tableWrapper ?\r\n      (wrapperIsTabulator ? this.#tableWrapper :\r\n        (this.#tableWrapper.querySelector('.tabulator') || this.#tableWrapper.querySelector('.tabulator-table'))) : null;\r\n    const tabExists = !!tabEl;\r\n\r\n    // If Tabulator did not create DOM (neither wrapper nor child), try forcing a height and redraw as fallback\r\n    if (!tabExists) {\r\n      try {\r\n        if (this.#tableWrapper) this.#tableWrapper.style.height = this.#tableWrapper.style.height || '300px';\r\n        if (this.#tabulator && typeof this.#tabulator.redraw === 'function') this.#tabulator.redraw(true);\r\n        const tabEl2 = this.#tableWrapper.classList && this.#tableWrapper.classList.contains('tabulator') ?\r\n          this.#tableWrapper : (this.#tableWrapper.querySelector('.tabulator') || this.#tableWrapper.querySelector('.tabulator-table'));\r\n        logger.info('Fallback attempt after forcing height, tabExistsNow=' + !!tabEl2 + ', tableWrapper.className=' + (this.#tableWrapper ? this.#tableWrapper.className : 'null'));\r\n      } catch (e) { logger.warn('Fallback redraw failed', e); }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 记录计算样式信息\r\n   */\r\n  #logComputedStyles() {\r\n    try {\r\n      if (typeof window !== 'undefined' && window.getComputedStyle) {\r\n        const cs = (el) => window.getComputedStyle(el);\r\n        const contStyles = cs(this.#container);\r\n        const wrapStyles = cs(this.#tableWrapper);\r\n        logger.info(`Computed styles - container: display=${contStyles.display}, height=${contStyles.height}, overflow=${contStyles.overflow}`);\r\n        logger.info(`Computed styles - wrapper: display=${wrapStyles.display}, height=${wrapStyles.height}, overflow=${wrapStyles.overflow}`);\r\n        \r\n        let p = this.#container;\r\n        let depth = 0;\r\n        while (p && p !== document.body && depth < 6) {\r\n          try {\r\n            const s = cs(p);\r\n            logger.debug(`ancestor:${p.tagName}.${p.className || ''} display=${s.display} height=${s.height}`);\r\n          } catch (e) {}\r\n          p = p.parentElement; depth++;\r\n        }\r\n      }\r\n    } catch (e) { logger.warn('Computed style diagnostics failed', e); }\r\n  }\r\n\r\n  /**\r\n   * 记录Tabulator实例信息\r\n   */\r\n  #logTabulatorInstanceInfo() {\r\n    try {\r\n      const keys = Object.keys(this.#tabulator || {}).slice(0, 40);\r\n      logger.info('Tabulator instance keys (sample):', keys);\r\n\r\n      // Deeper introspection: DOM refs, internal data and columns\r\n      try {\r\n        const tEl = (this.#tabulator && (this.#tabulator.element || this.#tabulator.table || this.#tabulator.tableElement)) || null;\r\n        logger.info('Tabulator DOM reference present:', !!tEl);\r\n        \r\n        let tdataLen = 'n/a';\r\n        try {\r\n          tdataLen = (this.#tabulator && typeof this.#tabulator.getData === 'function') ?\r\n            (Array.isArray(this.#tabulator.getData()) ? this.#tabulator.getData().length : 'non-array') : 'no-getData';\r\n        } catch (e) { tdataLen = 'getData-error'; }\r\n        logger.info('Tabulator internal data length:', tdataLen);\r\n        \r\n        let colsCount = 'n/a';\r\n        try {\r\n          colsCount = (this.#tabulator && typeof this.#tabulator.getColumns === 'function') ?\r\n            (this.#tabulator.getColumns().length) : 'no-getColumns';\r\n        } catch (e) { colsCount = 'getColumns-error'; }\r\n        logger.info('Tabulator columns count:', colsCount);\r\n      } catch (e) { logger.warn('Tabulator deeper introspect failed', e); }\r\n    } catch (e) { logger.warn('Tabulator introspect failed', e); }\r\n  }\r\n\r\n  /**\r\n   * 获取当前被选中的行数据（由 Tabulator 管理）。\r\n   * @returns {Array<Object>} 被选中的行对象数组\r\n   */\r\n  getSelectedRows() {\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下从HTML表格获取选中行\r\n      const selectedRows = [];\r\n      const checkboxes = this.#fallbackTable.querySelectorAll('tbody input[type=\"checkbox\"]:checked');\r\n      checkboxes.forEach(checkbox => {\r\n        const rowIndex = parseInt(checkbox.dataset.rowIndex);\r\n        if (rowIndex >= 0 && rowIndex < this.#fallbackData.length) {\r\n          selectedRows.push(this.#fallbackData[rowIndex]);\r\n        }\r\n      });\r\n      return selectedRows;\r\n    }\r\n\r\n    // 正常模式下使用Tabulator\r\n    return this.#tabulator.getSelectedData() || [];\r\n  }\r\n\r\n  /**\r\n   * 清空表格数据（保留 tableWrapper DOM 结构以避免破坏宿主容器）。\r\n   * @returns {void}\r\n   */\r\n  clear() {\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下清空HTML表格\r\n      this._updateFallbackTable([]);\r\n      return;\r\n    }\r\n\r\n    // 正常模式下使用Tabulator\r\n    this.#tabulator.clearData();\r\n  }\r\n\r\n  /**\r\n   * 销毁 Tabulator 实例并清空内部内容，但不移除 tableWrapper 元素本身（避免破坏宿主容器结构）。\r\n   * @returns {void}\r\n   */\r\n  destroy() {\r\n    if (this.#tabulator) {\r\n      this.#tabulator.destroy();\r\n      this.#tabulator = null;\r\n    }\r\n    \r\n    // 销毁回退表格\r\n    if (this.#fallbackTable) {\r\n      this.#fallbackTable = null;\r\n    }\r\n    \r\n    this.#fallbackData = [];\r\n    \r\n    // keep wrapper element to avoid detaching container\r\n    while (this.#tableWrapper.firstChild) this.#tableWrapper.removeChild(this.#tableWrapper.firstChild);\r\n  }\r\n\r\n  // Additional helpers\r\n\r\n  _callLocalListeners(event, payload) {\r\n    const list = this.#localListeners[event];\r\n    if (Array.isArray(list)) {\r\n      list.slice().forEach(fn => {\r\n        try { fn(payload); } catch (e) { logger.warn(`Listener for ${event} threw`, e); }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Backwards-compatible loadData API\r\n   */\r\n  loadData(data) {\r\n    return Promise.resolve(this.setData(data));\r\n  }\r\n\r\n  /**\r\n   * Render a simple empty state inside the tableWrapper (does not remove the wrapper element)\r\n   */\r\n  displayEmptyState(message) {\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下显示空状态\r\n      this._updateFallbackTable([]);\r\n      return;\r\n    }\r\n\r\n    // 清空数据，让Tabulator显示其内置的placeholder\r\n    try {\r\n      this.#tabulator.clearData();\r\n\r\n      // 如果需要动态修改placeholder内容\r\n      if (message) {\r\n        const customPlaceholder = `\r\n          <div style=\"text-align:center;padding:24px;color:#666;\">\r\n            <div style=\"font-size:32px;margin-bottom:8px\">⏳</div>\r\n            <div>${message}</div>\r\n          </div>`;\r\n        // Tabulator没有直接更新placeholder的API，但我们可以通过清空并重新设置数据来触发\r\n        // 或者，更简单的方式是直接操作placeholder元素（如果能找到它）\r\n        // 最安全的方式还是在初始化时就设置好。\r\n        // 这里我们只做清空数据操作，让默认的placeholder显示出来。\r\n      }\r\n\r\n    } catch (e) {\r\n      logger.warn('Failed to clear data for empty state', e);\r\n    }\r\n  }\r\n\r\n  // Additional helpers\r\n  /**\r\n   * 绑定 Tabulator 事件代理，封装对外订阅接口。\r\n   * @param {string} event - Tabulator 事件名\r\n   * @param {Function} handler - 事件处理函数\r\n   */\r\n  on(event, handler) {\r\n    // Register local listener\r\n    if (!this.#localListeners[event]) this.#localListeners[event] = [];\r\n    this.#localListeners[event].push(handler);\r\n\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下直接绑定到HTML表格元素\r\n      if (this.#fallbackTable) {\r\n        this.#fallbackTable.addEventListener(event, handler);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Also register with Tabulator if available (for Tabulator-specific events)\r\n    try {\r\n      if (this.#tabulator && typeof this.#tabulator.on === 'function') {\r\n        this.#tabulator.on(event, handler);\r\n      }\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 解除绑定 Tabulator 事件代理。\r\n   * @param {string} event - Tabulator 事件名\r\n   * @param {Function} handler - 事件处理函数\r\n   */\r\n  off(event, handler) {\r\n    // Remove from local listeners\r\n    if (this.#localListeners[event]) {\r\n      this.#localListeners[event] = this.#localListeners[event].filter(fn => fn !== handler);\r\n    }\r\n\r\n    if (this.#fallbackMode) {\r\n      // 回退模式下从HTML表格元素解绑\r\n      if (this.#fallbackTable) {\r\n        this.#fallbackTable.removeEventListener(event, handler);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Also remove from Tabulator if available\r\n    try {\r\n      if (this.#tabulator && typeof this.#tabulator.off === 'function') {\r\n        this.#tabulator.off(event, handler);\r\n      }\r\n    } catch (e) {}\r\n  }\r\n\r\n}\r\n\r\nexport function runTabulatorSmokeTest() {\r\n  try {\r\n    const container = document.createElement('div');\r\n    container.style.position = 'fixed';\r\n    container.style.right = '10px';\r\n    container.style.bottom = '10px';\r\n    container.style.width = '320px';\r\n    container.style.height = '200px';\r\n    container.style.zIndex = '9999';\r\n    container.style.background = 'white';\r\n    container.className = 'tabulator-smoke-container';\r\n    document.body.appendChild(container);\r\n\r\n    const t = new Tabulator(container, {\r\n      height: '100%',\r\n      layout: 'fitColumns',\r\n      columns: [{ title: 'A', field: 'a' }],\r\n      data: [{ a: 'test' }]\r\n    });\r\n\r\n    // allow microtask for Tabulator to render\r\n    setTimeout(() => {\r\n      const exists = !!(container.querySelector('.tabulator') || container.querySelector('.tabulator-table'));\r\n      console.info('[TableWrapper][SmokeTest] Tabulator DOM present:', exists);\r\n      try { t.destroy(); } catch (e) {}\r\n      if (container.parentElement) container.parentElement.removeChild(container);\r\n    }, 50);\r\n  } catch (e) {\r\n    console.warn('[TableWrapper][SmokeTest] failed', e);\r\n  }\r\n}\r\n\r\n// Auto-run the non-destructive smoke test once on page load to verify Tabulator runtime\r\nif (typeof window !== 'undefined') {\r\n  try {\r\n    setTimeout(() => {\r\n      if (!window.__tabulatorSmokeRun) {\r\n        window.__tabulatorSmokeRun = true;\r\n        try { runTabulatorSmokeTest(); } catch (e) { console.warn('[TableWrapper] auto smoke test failed', e); }\r\n      }\r\n    }, 250);\r\n  } catch (e) { console.warn('[TableWrapper] schedule smoke test failed', e); }\r\n}\r\n","/**\n * 事件常量（moved）\n */\nexport const APP_EVENTS = {\n  INITIALIZATION: { STARTED: \"app:initialization:started\", COMPLETED: \"app:initialization:completed\", FAILED: \"app:initialization:failed\" }\n};\nexport const SYSTEM_EVENTS = { ERROR: { OCCURRED: \"system:error:occurred\" } };\nexport const WEBSOCKET_EVENTS = { CONNECTION: { ESTABLISHED: \"websocket:connection:established\", CLOSED: \"websocket:connection:closed\", ERROR: \"websocket:connection:error\", FAILED: \"websocket:connection:failed\" }, MESSAGE: { RECEIVED: \"websocket:message:received\", SEND: \"websocket:message:send\", SEND_FAILED: \"websocket:message:send_failed\" }, RECONNECT: { FAILED: \"websocket:reconnect:failed\" } };\nexport const PDF_MANAGEMENT_EVENTS = { LIST: { UPDATED: \"pdf:list:updated\" }, ADD: { REQUESTED: \"pdf:add:requested\", STARTED: \"pdf:add:started\", FAILED: \"pdf:add:failed\", COMPLETED: \"pdf:add:completed\" }, REMOVE: { REQUESTED: \"pdf:remove:requested\", STARTED: \"pdf:remove:started\", FAILED: \"pdf:remove:failed\", COMPLETED: \"pdf:remove:completed\" }, BATCH: { REQUESTED: \"pdf:batch:requested\", STARTED: \"pdf:batch:started\", FAILED: \"pdf:batch:failed\", COMPLETED: \"pdf:batch:completed\" }, DELETE: { REQUESTED: \"pdf:delete:requested\" }, OPEN: { REQUESTED: \"pdf:open:requested\", STARTED: \"pdf:open:started\", FAILED: \"pdf:open:failed\", COMPLETED: \"pdf:open:completed\" }, ERROR: { OCCURRED: \"pdf:error:occurred\" } };\nexport const UI_EVENTS = { ERROR: { SHOW: \"ui:error:show\" }, SUCCESS: { SHOW: \"ui:success:show\" }, SELECTION: { CHANGED: \"ui:selection:changed\" } };\nexport const WEBSOCKET_MESSAGE_EVENTS = { PDF_LIST_UPDATED: \"websocket:message:updated\", PDF_LIST: \"websocket:message:list\", PDF_LIST_RECEIVED: \"websocket:message:received\", SUCCESS: \"websocket:message:success\", ERROR: \"websocket:message:error\", RESPONSE: \"websocket:message:response\", UNKNOWN: \"websocket:message:unknown\" };\nexport const WEBSOCKET_MESSAGE_TYPES = { GET_PDF_LIST: \"get_pdf_list\", ADD_PDF: \"add_pdf\", REMOVE_PDF: \"remove_pdf\", BATCH_REMOVE_PDF: \"batch_remove_pdf\", OPEN_PDF: \"open_pdf\", REQUEST_FILE_SELECTION: \"request_file_selection\", PDF_DETAIL_REQUEST: \"pdf_detail_request\" };\nexport const validateEventName = (eventName) => { if (!eventName || typeof eventName !== \"string\") return false; const parts = eventName.split(\":\"); return parts.length === 3 && parts.every(part => part.length > 0); };\nexport const EVENT_CONSTANTS = { APP: APP_EVENTS, SYSTEM: SYSTEM_EVENTS, WEBSOCKET: WEBSOCKET_EVENTS, PDF_MANAGEMENT: PDF_MANAGEMENT_EVENTS, UI: UI_EVENTS, WEBSOCKET_MESSAGE: WEBSOCKET_MESSAGE_EVENTS, WEBSOCKET_MESSAGE_TYPES: WEBSOCKET_MESSAGE_TYPES };\nexport default EVENT_CONSTANTS;","/**\r\n\r\n * 错误处理模块 (moved)\r\n\r\n */\r\n\r\nimport Logger from \"../utils/logger.js\";\r\n\r\nimport { SYSTEM_EVENTS, UI_EVENTS } from \"../event/event-constants.js\";\r\n\r\n\r\n\r\nexport const ErrorType = { BUSINESS: \"business\", NETWORK: \"network\", SYSTEM: \"system\" };\r\n\r\n\r\n\r\nexport class AppError extends Error { constructor(message, type = ErrorType.SYSTEM, code = null) { super(message); this.name = \"AppError\"; this.type = type; this.code = code; this.timestamp = new Date().toISOString(); } }\r\n\r\n\r\n\r\nexport class ErrorHandler { constructor(eventBus) { this.eventBus = eventBus; this.logger = new Logger(\"ErrorHandler\"); }\r\n\r\n  handleError(error, context = \"\") {\r\n\r\n    const errorInfo = { message: error.message, stack: error.stack, type: error.type || ErrorType.SYSTEM, code: error.code || null, context, timestamp: new Date().toISOString() };\r\n\r\n    this.logger.error(`错误发生在 [${context}]: ${error.message}`, error);\r\n\r\n    this.eventBus.emit(SYSTEM_EVENTS.ERROR.OCCURRED, errorInfo);\r\n\r\n    this.showUserFriendlyError(error);\r\n\r\n  }\r\n\r\n  showUserFriendlyError(error) { \r\n    let userMessage = \"操作失败，请稍后重试\"; \r\n    let errorType = error.type || ErrorType.SYSTEM;\r\n    \r\n    switch (errorType) { \r\n      case ErrorType.BUSINESS: \r\n        userMessage = error.message || \"业务逻辑错误\"; \r\n        break; \r\n      case ErrorType.NETWORK: \r\n        userMessage = \"网络连接失败，请检查网络设置\"; \r\n        break; \r\n      case ErrorType.SYSTEM: \r\n        userMessage = \"系统错误，请联系管理员\"; \r\n        break; \r\n    } \r\n    \r\n    this.eventBus.emit(UI_EVENTS.ERROR.SHOW, { message: userMessage, type: errorType }); \r\n  }\r\n\r\n  createBusinessError(message, code = null) { return new AppError(message, ErrorType.BUSINESS, code); }\r\n\r\n  createNetworkError(message, code = null) { return new AppError(message, ErrorType.NETWORK, code); }\r\n\r\n  createSystemError(message, code = null) { return new AppError(message, ErrorType.SYSTEM, code); }\r\n\r\n}\r\n\r\n","/**\r\n * @file DOM操作工具类，提供一组静态方法来简化和封装常用的DOM操作。\r\n * @module DOMUtils\r\n */\r\n\r\n/**\r\n * @class DOMUtils\r\n * @description 一个包含静态DOM操作辅助方法的工具类。\r\n */\r\nexport class DOMUtils {\r\n  /**\r\n   * 创建一个HTML元素并设置其属性。\r\n   * @param {string} tagName - 元素的HTML标签名。\r\n   * @param {object} [attributes={}] - 一个包含键值对的属性对象。\r\n   * @param {string|Node} [content=null] - 元素的文本内容或一个子Node节点。\r\n   * @returns {HTMLElement} 新创建的HTML元素。\r\n   */\r\n  static createElement(tagName, attributes = {}, content = null) {\r\n    const element = document.createElement(tagName);\r\n    Object.entries(attributes).forEach(([key, value]) => {\r\n      if (key === \"className\") element.className = value;\r\n      else if (key === \"innerHTML\") element.innerHTML = value;\r\n      else element.setAttribute(key, value);\r\n    });\r\n    if (content) {\r\n      if (content instanceof Node) element.appendChild(content);\r\n      else element.textContent = content;\r\n    }\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * 在文档或指定父元素中查找第一个匹配的元素。\r\n   * @param {string} selector - CSS选择器。\r\n   * @param {Document|HTMLElement} [parent=document] - 在其中进行搜索的父元素。\r\n   * @returns {HTMLElement|null} 找到的第一个元素，如果未找到则返回null。\r\n   */\r\n  static findElement(selector, parent = document) {\r\n    return parent.querySelector(selector);\r\n  }\r\n\r\n  /**\r\n   * 在文档或指定父元素中查找所有匹配的元素。\r\n   * @param {string} selector - CSS选择器。\r\n   * @param {Document|HTMLElement} [parent=document] - 在其中进行搜索的父元素。\r\n   * @returns {NodeListOf<HTMLElement>} 包含所有找到元素的NodeList。\r\n   */\r\n  static findAllElements(selector, parent = document) {\r\n    return parent.querySelectorAll(selector);\r\n  }\r\n  \r\n  /**\r\n   * 通过ID快速获取元素。\r\n   * @param {string} id - 元素的ID。\r\n   * @returns {HTMLElement|null} 找到的元素，如果不存在则返回null。\r\n   */\r\n  static getElementById(id) {\r\n    return document.getElementById(id);\r\n  }\r\n\r\n  /**\r\n   * 为一个或多个元素添加CSS类。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>} elements - 单个元素或元素列表。\r\n   * @param {string} className - 要添加的CSS类名。\r\n   */\r\n  static addClass(elements, className) {\r\n    const a = Array.isArray(elements) ? elements : (elements instanceof NodeList ? Array.from(elements) : [elements]);\r\n    a.forEach(el => el?.classList.add(className));\r\n  }\r\n\r\n  /**\r\n   * 从一个或多个元素移除CSS类。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>} elements - 单个元素或元素列表。\r\n   * @param {string} className - 要移除的CSS类名。\r\n   */\r\n  static removeClass(elements, className) {\r\n    const a = Array.isArray(elements) ? elements : (elements instanceof NodeList ? Array.from(elements) : [elements]);\r\n    a.forEach(el => el?.classList.remove(className));\r\n  }\r\n\r\n  /**\r\n   * 切换元素的CSS类。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   * @param {string} className - 要切换的CSS类名。\r\n   * @param {boolean} [force] - 如果为true则添加类，为false则移除类。\r\n   */\r\n  static toggleClass(element, className, force) {\r\n    element?.classList.toggle(className, force);\r\n  }\r\n\r\n  /**\r\n   * 检查元素是否含有指定的CSS类。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   * @param {string} className - 要检查的CSS类名。\r\n   * @returns {boolean} 如果元素含有该类，则返回true。\r\n   */\r\n  static hasClass(element, className) {\r\n    return element?.classList.contains(className) || false;\r\n  }\r\n\r\n  /**\r\n   * 显示一个或多个元素。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>} elements - 单个元素或元素列表。\r\n   */\r\n  static show(elements) {\r\n    const a = Array.isArray(elements) ? elements : (elements instanceof NodeList ? Array.from(elements) : [elements]);\r\n    a.forEach(el => { if(el) el.style.display = \"\"; });\r\n  }\r\n\r\n  /**\r\n   * 隐藏一个或多个元素。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>} elements - 单个元素或元素列表。\r\n   */\r\n  static hide(elements) {\r\n    const a = Array.isArray(elements) ? elements : (elements instanceof NodeList ? Array.from(elements) : [elements]);\r\n    a.forEach(el => { if(el) el.style.display = \"none\"; });\r\n  }\r\n  \r\n  /**\r\n   * 检查元素当前是否可见。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   * @returns {boolean} 如果元素可见，则返回true。\r\n   */\r\n  static isVisible(element) {\r\n    return !!element && element.offsetParent !== null;\r\n  }\r\n\r\n  /**\r\n   * 向指定的父元素追加一个子元素。\r\n   * @param {HTMLElement} parent - 父元素。\r\n   * @param {HTMLElement} child - 要追加的子元素。\r\n   */\r\n  static appendChild(parent, child) {\r\n    parent?.appendChild(child);\r\n  }\r\n\r\n  /**\r\n   * 清空一个元素的所有子节点。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   */\r\n  static empty(element) {\r\n    if (element) {\r\n      element.innerHTML = \"\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置元素的HTML内容。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   * @param {string} html - 要设置的HTML字符串。\r\n   */\r\n  static setHTML(element, html) {\r\n    if (element) {\r\n      element.innerHTML = html;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show an error message to the user. Attempts non-blocking UI first, falls back to alert.\r\n   * @param {string} message\r\n   */\r\n  static showError(message) {\r\n    try {\r\n      const errEl = document.getElementById('global-error');\r\n      if (errEl) {\r\n        errEl.textContent = message;\r\n        errEl.style.display = '';\r\n        return;\r\n      }\r\n    } catch (e) {}\r\n    try { console.error(message); } catch (e) {}\r\n    try { alert(message); } catch (e) {}\r\n  }\r\n\r\n  /**\r\n   * Show a success message to the user. Attempts non-blocking UI first, falls back to alert.\r\n   * @param {string} message\r\n   */\r\n  static showSuccess(message) {\r\n    try {\r\n      const okEl = document.getElementById('global-success');\r\n      if (okEl) {\r\n        okEl.textContent = message;\r\n        okEl.style.display = '';\r\n        return;\r\n      }\r\n    } catch (e) {}\r\n    try { console.info(message); } catch (e) {}\r\n    try { alert(message); } catch (e) {}\r\n  }\r\n  \r\n  /**\r\n   * 获取元素的指定data-*属性值。\r\n   * @param {HTMLElement} element - 目标元素。\r\n   * @param {string} key - data属性的键名 (不含'data-')。\r\n   * @returns {string|null} 属性值。\r\n   */\r\n  static getAttribute(element, key) {\r\n      return element?.getAttribute(key);\r\n  }\r\n  \r\n  /**\r\n   * 从事件目标开始，向上查找第一个匹配选择器的祖先元素。\r\n   * @param {HTMLElement} element - 起始元素。\r\n   * @param {string} selector - CSS选择器。\r\n   * @returns {HTMLElement|null} 找到的祖先元素。\r\n   */\r\n  static closest(element, selector) {\r\n    return element?.closest(selector);\r\n  }\r\n\r\n  /**\r\n   * 为一个或多个元素添加事件监听器。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>|Window|Document} elements - 目标元素或元素列表。\r\n   * @param {string} eventType - 事件类型 (如 'click')。\r\n   * @param {Function} handler - 事件处理函数。\r\n   * @param {object} [options] - addEventListener的选项。\r\n   */\r\n  static addEventListener(elements, eventType, handler, options = {}) {\r\n    const els = (elements instanceof NodeList) ? Array.from(elements) : [elements];\r\n    els.forEach(el => el?.addEventListener(eventType, handler, options));\r\n  }\r\n\r\n  /**\r\n   * 从一个或多个元素移除事件监听器。\r\n   * @param {HTMLElement|NodeListOf<HTMLElement>|Window|Document} elements - 目标元素或元素列表。\r\n   * @param {string} eventType - 事件类型 (如 'click')。\r\n   * @param {Function} handler - 事件处理函数。\r\n   * @param {object} [options] - removeEventListener的选项。\r\n   */\r\n  static removeEventListener(elements, eventType, handler, options = {}) {\r\n    const els = (elements instanceof NodeList) ? Array.from(elements) : [elements];\r\n    els.forEach(el => el?.removeEventListener(eventType, handler, options));\r\n   }\r\n}\r\n\r\nexport default DOMUtils;\r\n","/**\r\n * UI管理器（迁移到 pdf-home）\r\n */\r\nimport { DOMUtils } from \"../common/utils/dom-utils.js\";\r\nimport {\r\n  PDF_MANAGEMENT_EVENTS,\r\n  WEBSOCKET_EVENTS,\r\n  UI_EVENTS,\r\n} from \"../common/event/event-constants.js\";\r\nimport Logger from \"../common/utils/logger.js\";\r\n\r\nexport class UIManager {\r\n  #state;\r\n  #elements;\r\n  #eventBus;\r\n  #logger;\r\n  #unsubscribeFunctions = [];\r\n\r\n  constructor(eventBus) {\r\n    this.#eventBus = eventBus;\r\n    this.#logger = new Logger(\"UIManager\");\r\n    this.#state = {\r\n      pdfs: [],\r\n      loading: false,\r\n      websocketConnected: false,\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  initialize() {\r\n    this.#logger.info(\"Initializing UI Manager...\");\r\n    this.#initializeElements();\r\n    this.#setupEventListeners();\r\n    this.#setupGlobalEventListeners();\r\n    this.#initializePDFTable();\r\n    this.#logger.info(\"UI Manager initialized successfully.\");\r\n  }\r\n\r\n  destroy() {\r\n    this.#logger.info(\"Destroying UIManager and unsubscribing from events.\");\r\n    this.#unsubscribeFunctions.forEach((unsub) => unsub());\r\n    this.#unsubscribeFunctions = [];\r\n    if (this.pdfTable && typeof this.pdfTable.destroy === 'function') {\r\n      this.pdfTable.destroy();\r\n    }\r\n  }\r\n\r\n  #initializeElements() {\r\n    this.#elements = {\r\n      container: DOMUtils.findElement(\".container\"),\r\n      addPdfBtn: DOMUtils.getElementById(\"add-pdf-btn\"),\r\n      batchAddBtn: DOMUtils.getElementById(\"batch-add-btn\"),\r\n      batchDeleteBtn: DOMUtils.getElementById(\"batch-delete-btn\"),\r\n      debugBtn: DOMUtils.getElementById(\"debug-btn\"),\r\n      debugStatus: DOMUtils.getElementById(\"debug-status\"),\r\n      debugContent: DOMUtils.getElementById(\"debug-content\"),\r\n      pdfTableContainer: DOMUtils.getElementById(\"pdf-table-container\"),\r\n      emptyState: DOMUtils.getElementById(\"empty-state\"),\r\n    };\r\n  }\r\n\r\n  #initializePDFTable() {\r\n    if (!this.#elements.pdfTableContainer) return;\r\n\r\n    // Expect PDFHomeApp to inject a table instance (TableWrapper) as this.pdfTable before initialize()\r\n    if (!this.pdfTable) {\r\n      this.#logger.info(\"No injected pdfTable instance found; skipping table initialization. Integration should inject TableWrapper from PDFHomeApp.\");\r\n      return;\r\n    }\r\n\r\n    this.#logger.info(\"Using injected pdfTable instance for UI Manager.\");\r\n    this.#setupTableEventListeners();\r\n\r\n    if (typeof this.pdfTable.initialize === 'function') {\r\n      this.pdfTable.initialize().catch(error => {\r\n        this.#logger.error(\"Failed to initialize injected pdfTable:\", error);\r\n      });\r\n    }\r\n  }\r\n\r\n  #setupTableEventListeners() {\r\n    if (!this.pdfTable) return;\r\n    const handleDataChange = () => {\r\n      this.#logger.debug(\"Table data changed, ensuring UI consistency.\");\r\n      try {\r\n        const { pdfs } = this.#state;\r\n        if (pdfs && pdfs.length > 0) {\r\n          DOMUtils.hide(this.#elements.emptyState);\r\n          DOMUtils.show(this.#elements.pdfTableContainer);\r\n        } else {\r\n          DOMUtils.show(this.#elements.emptyState);\r\n        }\r\n        const internalEmptyStates = DOMUtils.findAllElements('.pdf-table-empty-state', this.#elements.pdfTableContainer);\r\n        Array.from(internalEmptyStates).forEach(el => el.remove());\r\n        // try to expose wrapper element if available\r\n        if (this.pdfTable.tableWrapper) this.pdfTable.tableWrapper.style.display = '';\r\n        if (this.pdfTable.tableWrapper?.parentElement) this.pdfTable.tableWrapper.parentElement.style.display = '';\r\n      } catch (e) {\r\n        this.#logger.warn(\"Could not perform defensive cleanup after table render.\", e);\r\n      }\r\n    };\r\n\r\n    // Support legacy PDFTable.events API or new TableWrapper.on API\r\n    try {\r\n      if (this.pdfTable.events && typeof this.pdfTable.events.on === 'function') {\r\n        this.pdfTable.events.on('data-loaded', handleDataChange);\r\n        this.#unsubscribeFunctions.push(() => this.pdfTable.events.off && this.pdfTable.events.off('data-loaded', handleDataChange));\r\n      } else if (typeof this.pdfTable.on === 'function') {\r\n        this.pdfTable.on('data-loaded', handleDataChange);\r\n        this.#unsubscribeFunctions.push(() => this.pdfTable.off && this.pdfTable.off('data-loaded', handleDataChange));\r\n      }\r\n    } catch (e) {\r\n      this.#logger.warn('Failed to attach to pdfTable data-loaded event', e);\r\n    }\r\n\r\n    const unsubEventBus = this.#eventBus.on('pdf:table:data-changed', handleDataChange);\r\n    if (typeof unsubEventBus === 'function') this.#unsubscribeFunctions.push(unsubEventBus);\r\n    else if (typeof this.#eventBus.off === 'function') this.#unsubscribeFunctions.push(() => this.#eventBus.off('pdf:table:data-changed', handleDataChange));\r\n  }\r\n\r\n  #setupEventListeners() {\r\n    if (this.#elements.addPdfBtn) {\r\n      const listener = () => { this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.ADD.REQUESTED, {}); };\r\n      DOMUtils.addEventListener(this.#elements.addPdfBtn, \"click\", listener);\r\n      this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(this.#elements.addPdfBtn, \"click\", listener));\r\n    }\r\n    if (this.#elements.batchAddBtn) {\r\n      const listener = () => this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.ADD.REQUESTED, { isBatch: true });\r\n      DOMUtils.addEventListener(this.#elements.batchAddBtn, \"click\", listener);\r\n      this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(this.#elements.batchAddBtn, \"click\", listener));\r\n    }\r\n    if (this.#elements.batchDeleteBtn) {\r\n      const listener = () => this.#handleBatchDelete();\r\n      DOMUtils.addEventListener(this.#elements.batchDeleteBtn, \"click\", listener);\r\n      this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(this.#elements.batchDeleteBtn, \"click\", listener));\r\n    }\r\n    if (this.#elements.debugBtn) {\r\n      const listener = () => this.#toggleDebugStatus();\r\n      DOMUtils.addEventListener(this.#elements.debugBtn, \"click\", listener);\r\n      this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(this.#elements.debugBtn, \"click\", listener));\r\n    }\r\n    const handleTableAction = (event) => {\r\n      const btn = event.target && event.target.closest ? event.target.closest('button') : null;\r\n      if (!btn) return;\r\n\r\n      const action = btn.getAttribute('data-action');\r\n      const rowId = btn.getAttribute('data-row-id') || btn.getAttribute('data-rowid');\r\n      const filename = btn.getAttribute('data-filename') || btn.getAttribute('data-filepath') || null;\r\n\r\n      this.#logger.info(`Table action triggered: action=${action}, rowId=${rowId}, filename=${filename}`);\r\n      try { console.info('TABLE_ACTION', { action, rowId, filename }); } catch (e) {}\r\n\r\n      if (action) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        switch (action) {\r\n          case 'open':\r\n            this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.OPEN.REQUESTED, rowId || filename);\r\n            break;\r\n          case 'delete':\r\n          case 'remove':\r\n            if (confirm(\"确定要删除这个PDF文件吗？\")) {\r\n              const payload = rowId || filename;\r\n              this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.REMOVE.REQUESTED, payload);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    };\r\n    if (this.#elements.pdfTableContainer) {\r\n      DOMUtils.addEventListener(this.#elements.pdfTableContainer, 'click', handleTableAction);\r\n      this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(this.#elements.pdfTableContainer, 'click', handleTableAction));\r\n    }\r\n  }\r\n\r\n  #setupGlobalEventListeners() {\r\n    const listeners = [\r\n      this.#eventBus.on(PDF_MANAGEMENT_EVENTS.LIST.UPDATED, (pdfs) => this.#updatePDFList(pdfs)),\r\n      this.#eventBus.on(WEBSOCKET_EVENTS.CONNECTION.ESTABLISHED, () => this.#setWebSocketConnected(true)),\r\n      this.#eventBus.on(WEBSOCKET_EVENTS.CONNECTION.CLOSED, () => this.#setWebSocketConnected(false)),\r\n      this.#eventBus.on(UI_EVENTS.ERROR.SHOW, (errorInfo) => this.showError(errorInfo.message)),\r\n      this.#eventBus.on(UI_EVENTS.SUCCESS.SHOW, (message) => this.showSuccess(message)),\r\n    ];\r\n    this.#unsubscribeFunctions.push(...listeners);\r\n    const handleKeyDown = (event) => {\r\n      if (event.ctrlKey && event.key === \"d\") { event.preventDefault(); this.#toggleDebugStatus(); }\r\n      if (event.ctrlKey && event.key === \"n\") { event.preventDefault(); this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.ADD.REQUESTED); }\r\n    };\r\n    DOMUtils.addEventListener(document, \"keydown\", handleKeyDown);\r\n    this.#unsubscribeFunctions.push(() => DOMUtils.removeEventListener(document, \"keydown\", handleKeyDown));\r\n  }\r\n\r\n  #updatePDFList(pdfs) {\r\n    this.#logger.info(\"Updating PDF list UI\");\r\n    this.#state.pdfs = pdfs;\r\n    this.#render();\r\n  }\r\n\r\n  #setLoading(loading) { this.#state.loading = loading; this.#render(); }\r\n  #setWebSocketConnected(connected) { this.#state.websocketConnected = connected; this.#render(); }\r\n\r\n  #render() { this.#renderPDFList(); this.#updateDebugStatus(); }\r\n\r\n  #renderPDFList() {\r\n    const { pdfs, loading } = this.#state;\r\n    const { emptyState, pdfTableContainer } = this.#elements;\r\n\r\n    // ==================== 修改开始 (3/3) ====================\r\n    // 隐藏外部的、独立的 empty-state div，因为Tabulator现在自己管理空状态了\r\n    DOMUtils.hide(emptyState);\r\n    // 始终显示表格容器\r\n    DOMUtils.show(pdfTableContainer);\r\n\r\n    if (loading) {\r\n      // 我们可以创建一个“加载中”的placeholder，但目前为了简单，\r\n      // 暂时不清空数据，保持旧数据直到新数据加载完成。\r\n      // 或者，如果你想显示加载状态：\r\n      // if (this.pdfTable) { this.pdfTable.setData([]); } // 清空数据会显示placeholder\r\n      this.#logger.info(\"UI is in loading state.\");\r\n    } else {\r\n      if (this.pdfTable) {\r\n        // 不管pdfs是空数组还是有数据，直接交给setData处理\r\n        // TableWrapper内部的Tabulator会根据数据是否为空来决定显示数据行还是placeholder\r\n        const tableData = pdfs.map(pdf => ({ ...pdf, size: pdf.size || 0, modified_time: pdf.modified_time || '', page_count: pdf.page_count || 0, annotations_count: pdf.annotations_count || 0, cards_count: pdf.cards_count || 0, importance: pdf.importance || 'medium' }));\r\n        \r\n        this.pdfTable.setData(tableData).catch(error => { // setData现在是TableWrapper的方法\r\n            this.#logger.error(\"Failed to load data into PDF table:\", error);\r\n        });\r\n      } else {\r\n        this.#logger.warn(\"PDF table instance not found, cannot render PDF list.\");\r\n      }\r\n    }\r\n    // ==================== 修改结束 (3/3) ====================\r\n  }\r\n  // #renderPDFList() {\r\n  //   const { pdfs, loading } = this.#state;\r\n  //   const { emptyState } = this.#elements;\r\n  //   if (loading) {\r\n  //     if (this.pdfTable) { this.pdfTable.displayEmptyState(\"正在加载...\"); }\r\n  //     DOMUtils.hide(emptyState);\r\n  //   } else if (pdfs.length === 0) {\r\n  //     if (this.pdfTable) { this.pdfTable.displayEmptyState(); }\r\n  //     DOMUtils.show(emptyState);\r\n  //   } else {\r\n  //     DOMUtils.hide(emptyState);\r\n  //     if (this.pdfTable) {\r\n  //       const tableData = pdfs.map(pdf => ({ ...pdf, size: pdf.size || 0, modified_time: pdf.modified_time || '', page_count: pdf.page_count || 0, annotations_count: pdf.annotations_count || 0, cards_count: pdf.cards_count || 0, importance: pdf.importance || 'medium' }));\r\n  //       DOMUtils.hide(this.#elements.emptyState);\r\n  //       DOMUtils.show(this.#elements.pdfTableContainer);\r\n  //       this.pdfTable.loadData(tableData).catch(error => { this.#logger.error(\"Failed to load data into PDF table:\", error); });\r\n  //     } else { this.#logger.warn(\"PDF table instance not found, cannot render PDF list.\"); }\r\n  //   }\r\n  // }\r\n\r\n  #handleBatchDelete() {\r\n    // 优先使用 Tabulator 的 API 获取选中的行\r\n    if (this.pdfTable && typeof this.pdfTable.getSelectedRows === 'function') {\r\n      try {\r\n        const selectedRows = this.pdfTable.getSelectedRows();\r\n        if (Array.isArray(selectedRows) && selectedRows.length > 0) {\r\n          if (!confirm(`确定要删除选中的 ${selectedRows.length} 个PDF文件吗？`)) return;\r\n          \r\n          // 收集所有选中的文件\r\n          const selectedFiles = selectedRows.map(row => row.id || row.filename || row.file_id || '').filter(Boolean);\r\n          \r\n          if (selectedFiles.length === 0) {\r\n            this.showError(\"无法获取选中的文件信息\");\r\n            return;\r\n          }\r\n          \r\n          // 作为批量请求发送，避免竞态条件\r\n          this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.BATCH.REQUESTED, {\r\n            files: selectedFiles,\r\n            timestamp: Date.now()\r\n          });\r\n          \r\n          return;\r\n        }\r\n      } catch (e) {\r\n        this.#logger.warn('Failed to read selection from pdfTable API', e);\r\n      }\r\n    }\r\n    \r\n    // 如果 Tabulator API 不可用，回退到 DOM 检测\r\n    let checkboxes = Array.from(DOMUtils.findAllElements(\".pdf-item-checkbox:checked\") || []);\r\n    if (checkboxes.length === 0) {\r\n      checkboxes = Array.from(DOMUtils.findAllElements('.pdf-table-checkbox:checked') || []);\r\n    }\r\n\r\n    // If still none, try to detect Tabulator selected rows in the container\r\n    if (checkboxes.length === 0 && this.#elements.pdfTableContainer) {\r\n      const tabulatorSelected = Array.from(DOMUtils.findAllElements('.tabulator-row.tabulator-selected', this.#elements.pdfTableContainer) || []);\r\n      if (tabulatorSelected.length > 0) {\r\n        tabulatorSelected.forEach(rowEl => {\r\n          let rowId = rowEl.getAttribute('data-row-id') || (rowEl.dataset && (rowEl.dataset.rowId || rowEl.dataset.rowid));\r\n          if (!rowId) {\r\n            const cellWithRowId = rowEl.querySelector('[data-row-id]');\r\n            if (cellWithRowId) rowId = cellWithRowId.getAttribute('data-row-id');\r\n          }\r\n          if (rowId) {\r\n            const fakeCheckbox = document.createElement('input');\r\n            fakeCheckbox.type = 'checkbox';\r\n            fakeCheckbox.dataset.rowId = rowId;\r\n            checkboxes.push(fakeCheckbox);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if (checkboxes.length === 0) { this.showError(\"请先选择要删除的PDF文件\"); return; }\r\n\r\n    if (!confirm(`确定要删除选中的 ${checkboxes.length} 个PDF文件吗？`)) return;\r\n\r\n    // 收集所有选中的文件\r\n    const selectedFiles = [];\r\n    checkboxes.forEach(checkbox => {\r\n      // Prefer explicit filename attribute, fall back to rowId mapping\r\n      let filename = DOMUtils.getAttribute(checkbox, \"data-filename\") || DOMUtils.getAttribute(checkbox, \"data-filepath\") || (checkbox.dataset && checkbox.dataset.filename);\r\n      if (!filename) {\r\n        const rowId = (checkbox.dataset && (checkbox.dataset.rowId || checkbox.dataset.rowid)) || DOMUtils.getAttribute(checkbox, 'data-row-id') || DOMUtils.getAttribute(checkbox, 'data-rowid');\r\n        if (rowId && Array.isArray(this.#state?.pdfs)) {\r\n          const entry = this.#state.pdfs.find(p => String(p.id) === String(rowId) || String(p.filename) === String(rowId));\r\n          filename = entry ? entry.filename : rowId;\r\n        } else {\r\n          filename = rowId;\r\n        }\r\n      }\r\n      if (filename) {\r\n        selectedFiles.push(filename);\r\n      }\r\n    });\r\n\r\n    // 作为批量请求发送，避免竞态条件\r\n    this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.BATCH.REQUESTED, {\r\n      files: selectedFiles,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  #toggleDebugStatus() {\r\n    if (this.#elements.debugStatus) {\r\n      const isVisible = DOMUtils.isVisible(this.#elements.debugStatus);\r\n      if (isVisible) {\r\n        DOMUtils.hide(this.#elements.debugStatus);\r\n      } else {\r\n        DOMUtils.show(this.#elements.debugStatus);\r\n        this.#updateDebugStatus();\r\n      }\r\n    }\r\n  }\r\n\r\n  #updateDebugStatus() {\r\n    if (!this.#elements.debugContent || !DOMUtils.isVisible(this.#elements.debugStatus)) return;\r\n    const { pdfs, loading, websocketConnected } = this.#state;\r\n    DOMUtils.setHTML(this.#elements.debugContent, `...`);\r\n  }\r\n\r\n  showError(message) {\r\n    DOMUtils.showError(message);\r\n  }\r\n\r\n  showSuccess(message) {\r\n    DOMUtils.showSuccess(message);\r\n  }\r\n\r\n}\r\n","/**\r\n\r\n * PDFManager (moved)\r\n\r\n */\r\n\r\nimport {\r\n  PDF_MANAGEMENT_EVENTS,\r\n  WEBSOCKET_MESSAGE_EVENTS,\r\n  WEBSOCKET_EVENTS,\r\n  WEBSOCKET_MESSAGE_TYPES,\r\n} from \"../event/event-constants.js\";\r\n\r\nimport Logger from \"../utils/logger.js\";\r\n\r\n/**\r\n * PDF 管理器，负责注册事件、维护 PDF 列表并与后端通信。\r\n * @class PDFManager\r\n */\r\nexport class PDFManager {\r\n  #pdfs = [];\r\n  #batchTrack = new Map();\r\n\r\n  #eventBus;\r\n  #logger;\r\n  #unsubscribeFunctions = [];\r\n  #lastListRequestTs = 0; // 上次请求完整列表的时间戳（ms）\r\n  #listRequestCooldownMs = 2000; // 防止短时间内重复刷新导致死循环（毫秒）\r\n\r\n/**\r\n   * 创建 PDFManager 实例。\r\n   * @param {Object} eventBus - 应用的事件总线，用于模块间通信。\r\n   */\r\n  constructor(eventBus) {\r\n    this.#eventBus = eventBus;\r\n    this.#logger = new Logger(\"PDFManager\");\r\n  }\r\n\r\n/**\r\n   * 初始化管理器：注册 websocket 与本地事件监听器并请求初始 PDF 列表。\r\n   * @returns {void}\r\n   */\r\n  initialize() {\r\n    this.#setupWebSocketListeners();\r\n    this.#setupEventListeners();\r\n    this.#loadPDFList();\r\n    this.#logger.info(\"PDF Manager initialized.\");\r\n  }\r\n\r\n/**\r\n   * 获取当前缓存的 PDF 列表（返回副本）。\r\n   * @returns {Array<Object>} PDF 元数据数组。\r\n   */\r\n  getPDFs() {\r\n    return Array.isArray(this.#pdfs) ? [...this.#pdfs] : [];\r\n  }\r\n\r\n/**\r\n   * 销毁管理器：取消订阅所有注册的监听器并清理资源。\r\n   * @returns {void}\r\n   */\r\n  destroy() {\r\n    this.#logger.info(\r\n      \"Destroying PDF Manager and unsubscribing from all events.\"\r\n    );\r\n    this.#unsubscribeFunctions.forEach((unsub) => unsub());\r\n    this.#unsubscribeFunctions = [];\r\n  }\r\n\r\n/**\r\n   * 注册与 WebSocket 相关的事件监听器到事件总线（内部方法）。\r\n   * @returns {void}\r\n   */\r\n  #setupWebSocketListeners() {\r\n    const listeners = [\r\n      this.#eventBus.on(\r\n        WEBSOCKET_MESSAGE_EVENTS.PDF_LIST_UPDATED,\r\n        (data) => this.#handlePDFListUpdate(data, \"update\"),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        WEBSOCKET_MESSAGE_EVENTS.PDF_LIST,\r\n        (data) => this.#handlePDFListUpdate(data, \"list\"),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        WEBSOCKET_MESSAGE_EVENTS.SUCCESS,\r\n        (data) => this.#handleSuccessResponse(data),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        WEBSOCKET_MESSAGE_EVENTS.ERROR,\r\n        (data) => this.#handleErrorResponse(data),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        WEBSOCKET_MESSAGE_EVENTS.RESPONSE,\r\n        (data) => this.#handleResponse(data),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        WEBSOCKET_EVENTS.MESSAGE.RECEIVED,\r\n        (message) =>\r\n          this.#logger.debug(\r\n            `Received WebSocket message: ${message.type}`,\r\n            message\r\n          ),\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n    ];\r\n    this.#unsubscribeFunctions.push(...listeners);\r\n  }\r\n\r\n/**\r\n   * 注册与 PDF 相关的本地事件监听器到事件总线（内部方法）。\r\n   * 负责将事件路由到相应的处理函数并在错误时上报。\r\n   * @returns {void}\r\n   */\r\n  #setupEventListeners() {\r\n    const listeners = [\r\n      this.#eventBus.on(\r\n        PDF_MANAGEMENT_EVENTS.ADD.REQUESTED,\r\n        (fileInfo) => {\r\n          try {\r\n            this.addPDF(fileInfo);\r\n          } catch (error) {\r\n            this.#logger.error(\"Error handling ADD.REQUESTED event:\", error);\r\n            this.#eventBus.emit(\r\n              PDF_MANAGEMENT_EVENTS.ERROR.OCCURRED,\r\n              { message: \"Failed to handle add PDF request.\" },\r\n              { actorId: \"PDFManager\" }\r\n            );\r\n          }\r\n        },\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        PDF_MANAGEMENT_EVENTS.REMOVE.REQUESTED,\r\n        (filename) => {\r\n          try {\r\n            this.removePDF(filename);\r\n          } catch (error) {\r\n            this.#logger.error(\"Error handling REMOVE.REQUESTED event:\", error);\r\n            this.#eventBus.emit(\r\n              PDF_MANAGEMENT_EVENTS.ERROR.OCCURRED,\r\n              { message: \"Failed to handle remove PDF request.\" },\r\n              { actorId: \"PDFManager\" }\r\n            );\r\n          }\r\n        },\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        PDF_MANAGEMENT_EVENTS.BATCH.REQUESTED,\r\n        (batchData) => {\r\n          try {\r\n            this.handleBatchRemove(batchData);\r\n          } catch (error) {\r\n            this.#logger.error(\"Error handling BATCH.REQUESTED event:\", error);\r\n            this.#eventBus.emit(\r\n              PDF_MANAGEMENT_EVENTS.ERROR.OCCURRED,\r\n              { message: \"Failed to handle batch remove PDF request.\" },\r\n              { actorId: \"PDFManager\" }\r\n            );\r\n          }\r\n        },\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n      this.#eventBus.on(\r\n        PDF_MANAGEMENT_EVENTS.OPEN.REQUESTED,\r\n        (filename) => {\r\n          try {\r\n            this.openPDF(filename);\r\n          } catch (error) {\r\n            this.#logger.error(\"Error handling OPEN.REQUESTED event:\", error);\r\n            this.#eventBus.emit(\r\n              PDF_MANAGEMENT_EVENTS.ERROR.OCCURRED,\r\n              { message: \"Failed to handle open PDF request.\" },\r\n              { actorId: \"PDFManager\" }\r\n            );\r\n          }\r\n        },\r\n        { subscriberId: \"PDFManager\" }\r\n      ),\r\n    ];\r\n    this.#unsubscribeFunctions.push(...listeners);\r\n  }\r\n\r\n/**\r\n   * 向后端发送请求以获取完整的 PDF 列表。\r\n   * @returns {void}\r\n   */\r\n  #loadPDFList() {\r\n    this.#logger.info(\"Requesting PDF list from server.\");\r\n    this.#eventBus.emit(\r\n      WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n      { type: WEBSOCKET_MESSAGE_TYPES.GET_PDF_LIST },\r\n      { actorId: \"PDFManager\" }\r\n    );\r\n  }\r\n\r\n/**\r\n   * 处理来自后端的 PDF 列表更新：将后端数据映射并更新内部缓存，然后广播更新事件。\r\n   * @param {Object} data - 后端返回的消息对象，期望 data.data.files 为数组。\r\n   * @param {string} source - 来源字符串，供日志记录使用。\r\n   * @returns {void}\r\n   */\r\n  #handlePDFListUpdate(data, source) {\r\n    this.#logger.info(\r\n      `Processing PDF list from '${source}': ${JSON.stringify(\r\n        data,\r\n        null,\r\n        2\r\n      ).substring(0, 100)}[truncated]`\r\n    );\r\n    const files = data?.data?.files || [];\r\n    const newPdfs = files.map((file) => this.#mapBackendToFrontend(file));\r\n    this.#pdfs = Array.isArray(newPdfs) ? newPdfs : [];\r\n    this.#logger.info(`PDF list updated with ${this.#pdfs.length} entries`);\r\n    this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.LIST.UPDATED, this.getPDFs(), { actorId: \"PDFManager\" });\r\n  }\r\n\r\n/**\r\n   * 处理 WEBSOCKET_MESSAGE_EVENTS.SUCCESS 类型的消息，检测是否包含 GET_PDF_LIST 的结果。\r\n   * @param {Object} data - websocket 返回的消息对象。\r\n   * @returns {void}\r\n   */\r\n  #handleSuccessResponse(data) {\r\n    this.#logger.info(\"Handling success response:\", data.original_type);\r\n    if (\r\n      data?.data?.original_type === WEBSOCKET_MESSAGE_TYPES.GET_PDF_LIST &&\r\n      data?.data?.result?.files\r\n    ) {\r\n      this.#handlePDFListUpdate({ data: data.data.result }, \"success_get_list\");\r\n    }\r\n  }\r\n\r\n/**\r\n   * 处理后端返回的错误消息并向 UI 广播错误事件。\r\n   * @param {Object} data - 错误消息对象，可能包含 data.message 或 message。\r\n   * @returns {void}\r\n   */\r\n  #handleErrorResponse(data) {\r\n    const errorMessage =\r\n      data?.data?.message || data?.message || \"Unknown error from server.\";\r\n    this.#logger.error(\"Handling error response from server:\", errorMessage);\r\n    this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.ERROR.OCCURRED, {\r\n      message: errorMessage,\r\n    });\r\n  }\r\n\r\n/**\r\n   * 处理通用的 RESPONSE 消息：包括快速返回的文件数组和批次删除进度追踪。\r\n   * @param {Object} data - websocket 响应负载。\r\n   * @returns {void}\r\n   */\r\n  #handleResponse(data) {\r\n    this.#logger.info(\"Handling response message:\", data);\r\n\r\n    // 兼容：后端返回完整文件数组的快速路径\r\n    if (data?.status === \"success\" && Array.isArray(data?.data?.files)) {\r\n      if (data.data.files.length > 0) {\r\n        this.#handlePDFListUpdate(\r\n          { data: { files: data.data.files } },\r\n          \"response_get_list\"\r\n        );\r\n      } else {\r\n        const addedCount = data?.data?.summary?.added || data?.data?.added || 0;\r\n        if (addedCount > 0) {\r\n          this.#logger.info(\r\n            \"Detected added files in response, requesting full list\"\r\n          );\r\n          this.#loadPDFList();\r\n        } else {\r\n          this.#logger.debug(\r\n            \"Ignoring empty files array in response to avoid clearing UI\"\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    // 处理单文件/批量删除响应：如果后端回显了 batch_request_id，则用于批次计数管理\r\n    try {\r\n      const respData = data?.data || {};\r\n      const batchId =\r\n        respData?.batch_request_id || respData?.batch_request_id_str || null;\r\n      const originalType =\r\n        respData?.original_type ||\r\n        data?.original_type ||\r\n        respData?.type ||\r\n        null;\r\n\r\n      if (batchId && this.#batchTrack.has(batchId)) {\r\n        const entry = this.#batchTrack.get(batchId);\r\n        // 后端可能会以多种方式回显批次处理结果：\r\n        // 1) 按文件逐条回显（包含 batch_index）\r\n        // 2) 聚合回显一次性完成（不包含 batch_index，但包含 files/summary/processed_count）\r\n        // 根据回显内容决定如何更新 pending\r\n        try {\r\n          const batchIndex = respData?.batch_index;\r\n          const batchTotal = respData?.batch_total || entry.files.length;\r\n\r\n          // 聚合完成回显：如果响应中包含 files 数组且长度等于批次数量，或 summary 指示已处理数量等于批次数量\r\n          const filesArray = Array.isArray(respData?.files) ? respData.files : Array.isArray(data?.data?.files) ? data.data.files : null;\r\n          const processedSummary = respData?.summary || respData?.result || {};\r\n          const processedCount = processedSummary?.processed || processedSummary?.deleted || processedSummary?.removed || processedSummary?.added || null;\r\n\r\n          if (batchIndex != null) {\r\n            // 单文件回显，减少1\r\n            entry.pending = Math.max(0, entry.pending - 1);\r\n          } else if (filesArray && filesArray.length === batchTotal) {\r\n            // 后端一次性返回了全部文件 -> 批次全部完成\r\n            entry.pending = 0;\r\n          } else if (typeof processedCount === 'number') {\r\n            // 如果 summary 中包含处理计数，按计数减少（保护性约束）\r\n            const toReduce = Math.min(entry.pending, processedCount);\r\n            entry.pending = Math.max(0, entry.pending - toReduce);\r\n          } else {\r\n            // 回退：默认减少1，兼容较简单的后端回显\r\n            entry.pending = Math.max(0, entry.pending - 1);\r\n          }\r\n\r\n          this.#logger.info(\r\n            `Batch ${batchId} progress: ${entry.pending} remaining`\r\n          );\r\n\r\n          if (entry.pending === 0) {\r\n            this.#batchTrack.delete(batchId);\r\n            this.#logger.info(\r\n              `Batch ${batchId} completed, requesting full PDF list`\r\n            );\r\n            const now = Date.now();\r\n            if (now - this.#lastListRequestTs > this.#listRequestCooldownMs) {\r\n              this.#lastListRequestTs = now;\r\n              this.#loadPDFList();\r\n            } else {\r\n              this.#logger.info('Skipping immediate list reload due to cooldown to avoid refresh loop');\r\n            }\r\n            this.#eventBus.emit(\r\n              PDF_MANAGEMENT_EVENTS.BATCH.COMPLETED,\r\n              { batchRequestId: batchId },\r\n              { actorId: \"PDFManager\" }\r\n            );\r\n          }\r\n        } catch (e) {\r\n          this.#logger.warn('Error updating batch tracking for ' + batchId, e);\r\n        }\r\n      } else {\r\n        // 如果没有 batchId 回显，但响应中包含聚合信息（files 或 processed summary），则主动刷新列表以保持一致性。\r\n        try {\r\n          const filesArrayNoId = Array.isArray(respData?.files) ? respData.files : Array.isArray(data?.data?.files) ? data.data.files : null;\r\n          const processedSummaryNoId = respData?.summary || respData?.result || {};\r\n          const processedCountNoId = processedSummaryNoId?.processed || processedSummaryNoId?.deleted || processedSummaryNoId?.removed || processedSummaryNoId?.added || null;\r\n          if ((filesArrayNoId && filesArrayNoId.length > 0) || (typeof processedCountNoId === 'number' && processedCountNoId > 0)) {\r\n            this.#logger.info('Detected aggregated batch response without batch_id, requesting full PDF list to refresh UI');\r\n            const now = Date.now();\r\n            if (now - this.#lastListRequestTs > this.#listRequestCooldownMs) {\r\n              this.#lastListRequestTs = now;\r\n              this.#loadPDFList();\r\n            } else {\r\n              this.#logger.info('Skipping aggregated-list reload due to cooldown to avoid refresh loop');\r\n            }\r\n          }\r\n        } catch (e) {\r\n          // ignore\r\n        }\r\n      }\r\n    } catch (e) {\r\n      this.#logger.warn(\"Error while processing batch response tracking\", e);\r\n    }\r\n\r\n    // 处理添加类成功提示后刷新列表的逻辑\r\n    if (\r\n      data?.status === \"success\" &&\r\n      (data?.message?.includes(\"添加\") || data?.message?.includes(\"add\"))\r\n    ) {\r\n      this.#logger.info(\"PDF添加成功，重新请求列表\");\r\n      this.#loadPDFList();\r\n    }\r\n  }\r\n\r\n/**\r\n   * 请求打开文件选择器以添加 PDF（通过后端/网络层）。\r\n   * @param {Object} fileInfo - 可选的文件信息/提示，用于引导选择流程。\r\n   * @returns {void}\r\n   */\r\n  addPDF(fileInfo) {\r\n    this.#logger.info(\r\n      `Requesting to add PDF: ${JSON.stringify(fileInfo, null, 2)}`\r\n    );\r\n    this.#eventBus.emit(\r\n      WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n      {\r\n        type: WEBSOCKET_MESSAGE_TYPES.REQUEST_FILE_SELECTION,\r\n        request_id: this._generateRequestId(),\r\n        data: { prompt: \"请选择要添加的PDF文件\" },\r\n      },\r\n      { actorId: \"PDFManager\" }\r\n    );\r\n  }\r\n\r\n/**\r\n   * 生成一个用于请求跟踪的半唯一 ID。\r\n   * @returns {string} 请求 ID 字符串。\r\n   */\r\n  _generateRequestId() {\r\n    return \"req_\" + Date.now() + \"_\" + Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n/**\r\n   * 请求删除指定 PDF（支持 id 或 filename）。\r\n   * 若 identifier 为 id，会尝试从缓存解析对应的 filename 并补全 .pdf 后缀。\r\n   * @param {string|number} identifier - PDF 的 id 或文件名。\r\n   * @returns {void}\r\n   */\r\n  removePDF(identifier) {\r\n    this.#logger.info(`Requesting to remove PDF: ${identifier}`);\r\n    // Resolve filename from loaded list when possible (ensure .pdf suffix)\r\n    const fileEntry = this.#pdfs.find(\r\n      (p) => p.id === identifier || p.filename === identifier\r\n    );\r\n    let filename = fileEntry\r\n      ? fileEntry.filename\r\n      : typeof identifier === \"string\"\r\n      ? identifier\r\n      : undefined;\r\n    if (filename && !filename.endsWith(\".pdf\")) filename = `${filename}.pdf`;\r\n    const data = { file_id: identifier };\r\n    if (filename) data.filename = filename;\r\n    this.#eventBus.emit(\r\n      WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n      {\r\n        type: WEBSOCKET_MESSAGE_TYPES.REMOVE_PDF,\r\n        data,\r\n      },\r\n      { actorId: \"PDFManager\" }\r\n    );\r\n  }\r\n\r\n/**\r\n   * 请求后端打开指定的 PDF 文件（以 file_id 为标识）。\r\n   * @param {string} filename - 要打开的文件标识。\r\n   * @returns {void}\r\n   */\r\n  openPDF(filename) {\r\n    this.#logger.info(`Requesting to open PDF: ${filename}`);\r\n    this.#eventBus.emit(\r\n      WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n      { type: WEBSOCKET_MESSAGE_TYPES.OPEN_PDF, data: { file_id: filename } },\r\n      { actorId: \"PDFManager\" }\r\n    );\r\n  }\r\n\r\n/**\r\n   * 处理批量删除请求：将批次拆分为若干单文件删除请求并附带批次元数据以便跟踪。\r\n   * @param {Object} batchData - 包含 files 数组及可选 timestamp 的对象。\r\n   * @returns {void}\r\n   */\r\n  handleBatchRemove(batchData) {\r\n    const { files = [], timestamp } = batchData;\r\n    this.#logger.info(\r\n      `Handling batch remove request for ${files.length} files, timestamp: ${timestamp}`\r\n    );\r\n\r\n    // 为批量删除生成唯一的请求ID并跟踪剩余计数\r\n    const batchRequestId = this._generateRequestId();\r\n    this.#batchTrack.set(batchRequestId, {\r\n      pending: files.length,\r\n      files: [...files],\r\n    });\r\n\r\n    // 按文件逐条发送删除请求，包含批次元数据，兼容后端单文件删除接口\r\n    files.forEach((file, index) => {\r\n      const fileEntry =\r\n        this.#pdfs.find((p) => p.id === file || p.filename === file) || null;\r\n      let filename = fileEntry\r\n        ? fileEntry.filename\r\n        : typeof file === \"string\"\r\n        ? file\r\n        : undefined;\r\n      if (filename && !filename.endsWith(\".pdf\")) filename = `${filename}.pdf`;\r\n      const data = { file_id: file };\r\n      if (filename) data.filename = filename;\r\n      data.batch_request_id = batchRequestId;\r\n      data.batch_index = index + 1;\r\n      data.batch_total = files.length;\r\n      this.#eventBus.emit(\r\n        WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n        {\r\n          type: WEBSOCKET_MESSAGE_TYPES.REMOVE_PDF,\r\n          data,\r\n        },\r\n        { actorId: \"PDFManager\" }\r\n      );\r\n    });\r\n  }\r\n\r\n/**\r\n   * 将后端的 PDF 对象转换为前端使用的标准结构。\r\n   * @param {Object} backendData - 后端返回的单个 PDF 描述对象。\r\n   * @returns {Object} 标准化后的 PDF 元数据对象。\r\n   */\r\n  #mapBackendToFrontend(backendData) {\r\n    return {\r\n      id: backendData.id || backendData.filename,\r\n      filename: backendData.filename,\r\n      filepath: backendData.filepath || \"\",\r\n      title: backendData.title,\r\n      size: backendData.file_size || backendData.size || 0,\r\n      modified_time: backendData.modified_time,\r\n      page_count: backendData.page_count,\r\n      annotations_count: backendData.annotations_count,\r\n      cards_count: backendData.cards_count,\r\n      importance: backendData.importance || \"medium\",\r\n    };\r\n  }\r\n}\r\n\r\nexport default PDFManager;\r\n","/**\r\n \r\n * WSClient (moved)\r\n \r\n */\r\n\r\nimport Logger from \"../utils/logger.js\";\r\n\r\nimport {\r\n  WEBSOCKET_EVENTS,\r\n  WEBSOCKET_MESSAGE_EVENTS,\r\n  WEBSOCKET_MESSAGE_TYPES,\r\n} from \"../event/event-constants.js\";\r\n\r\nexport class WSClient {\r\n  #url;\r\n  #eventBus;\r\n  #logger;\r\n  #socket = null;\r\n  #isConnectedFlag = false;\r\n  #reconnectAttempts = 0;\r\n  #maxReconnectAttempts = 5;\r\n  #reconnectDelay = 1000;\r\n  #messageQueue = [];\r\n  #pendingRequests = new Map();\r\n  #requestRetries = new Map();\r\n\r\n  constructor(url, eventBus) {\r\n    this.#url = url;\r\n    this.#eventBus = eventBus;\r\n    this.#logger = new Logger(\"WSClient\");\r\n    this.#setupEventListeners();\r\n  }\r\n\r\n  #setupEventListeners() {\r\n    this.#eventBus.on(\r\n      WEBSOCKET_EVENTS.MESSAGE.SEND,\r\n      (message) => {\r\n        this.#logger.info(\r\n          `Received request to send message: ${JSON.stringify(\r\n            message,\r\n            null,\r\n            2\r\n          )}`\r\n        );\r\n        this.send(message);\r\n      },\r\n      { subscriberId: \"WSClient\" }\r\n    );\r\n  }\r\n\r\n  connect() {\r\n    try {\r\n      this.#logger.info(`Connecting to WebSocket server: ${this.#url}`);\r\n      this.#socket = new WebSocket(this.#url);\r\n      this.#attachSocketHandlers();\r\n    } catch (error) {\r\n      this.#logger.error(\"Failed to initiate WebSocket connection.\", error);\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.CONNECTION.FAILED, error, {\r\n        actorId: \"WSClient\",\r\n      });\r\n    }\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.#socket) {\r\n      this.#logger.info(\"Disconnecting WebSocket.\");\r\n      this.#socket.close(1000, \"Client initiated disconnect.\");\r\n      this.#socket = null;\r\n      this.#isConnectedFlag = false;\r\n    }\r\n  }\r\n\r\n  isConnected() {\r\n    return this.#isConnectedFlag && this.#socket?.readyState === WebSocket.OPEN;\r\n  }\r\n\r\n  send({ type, data = {} }) {\r\n    const message = { type, data, timestamp: new Date().toISOString() };\r\n    if (this.isConnected()) {\r\n      try {\r\n        this.#socket.send(JSON.stringify(message));\r\n        this.#logger.debug(`Sent message: ${type}`);\r\n      } catch (error) {\r\n        this.#logger.error(`Failed to send message: ${type}`, error);\r\n        this.#eventBus.emit(\r\n          WEBSOCKET_EVENTS.MESSAGE.SEND_FAILED,\r\n          { type, error },\r\n          { actorId: \"WSClient\" }\r\n        );\r\n      }\r\n    } else {\r\n      this.#messageQueue.push(message);\r\n      this.#logger.debug(`Message queued, connection not available: ${type}`);\r\n    }\r\n  }\r\n\r\n  #attachSocketHandlers() {\r\n    this.#socket.onopen = () => {\r\n      this.#logger.info(\"WebSocket connection established.\");\r\n      this.#isConnectedFlag = true;\r\n      this.#reconnectAttempts = 0;\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.CONNECTION.ESTABLISHED, undefined, {\r\n        actorId: \"WSClient\",\r\n      });\r\n      this.#flushMessageQueue();\r\n    };\r\n\r\n    this.#socket.onmessage = (event) => this.#handleMessage(event.data);\r\n\r\n    this.#socket.onclose = () => {\r\n      this.#logger.warn(\"WebSocket connection closed.\");\r\n      this.#isConnectedFlag = false;\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.CONNECTION.CLOSED, undefined, {\r\n        actorId: \"WSClient\",\r\n      });\r\n      this.#attemptReconnect();\r\n    };\r\n\r\n    this.#socket.onerror = (error) => {\r\n      this.#logger.error(\"WebSocket connection error.\", error);\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.CONNECTION.ERROR, error, {\r\n        actorId: \"WSClient\",\r\n      });\r\n    };\r\n  }\r\n\r\n  #handleMessage(rawData) {\r\n    try {\r\n      const message = JSON.parse(rawData);\r\n      this.#logger.debug(`Received message: ${message.type}`, message);\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.MESSAGE.RECEIVED, message, {\r\n        actorId: \"WSClient\",\r\n      });\r\n      let targetEvent = null;\r\n      switch (message.type) {\r\n        case \"pdf_list_updated\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.PDF_LIST_UPDATED;\r\n          break;\r\n        case \"pdf_list\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.PDF_LIST;\r\n          break;\r\n        case \"pdf_detail_response\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.RESPONSE;\r\n          this._handlePDFDetailResponse(message);\r\n          break;\r\n        case \"success\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.SUCCESS;\r\n          break;\r\n        case \"error\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.ERROR;\r\n          break;\r\n        case \"response\":\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.RESPONSE;\r\n          break;\r\n        default:\r\n          targetEvent = WEBSOCKET_MESSAGE_EVENTS.UNKNOWN;\r\n          this.#logger.warn(`Unknown message type: ${message.type}`);\r\n      }\r\n\r\n      if (targetEvent) {\r\n        this.#logger.debug(`Routing message to event: ${targetEvent}`);\r\n        this.#eventBus.emit(targetEvent, message, { actorId: \"WSClient\" });\r\n      }\r\n    } catch (error) {\r\n      this.#logger.error(\"Failed to parse incoming WebSocket message.\", error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 生成唯一的请求ID\r\n   * @returns {string} 唯一的请求ID\r\n   */\r\n  _generateRequestId() {\r\n    return `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  /**\r\n   * 构建符合标准协议的PDF详情请求消息\r\n   * @param {string} pdfId - PDF文件ID\r\n   * @param {string} requestId - 请求ID\r\n   * @returns {object} 标准格式的消息\r\n   */\r\n  _buildPDFDetailRequestMessage(pdfId, requestId) {\r\n    return {\r\n      type: WEBSOCKET_MESSAGE_TYPES.PDF_DETAIL_REQUEST,\r\n      request_id: requestId,\r\n      timestamp: Date.now(),\r\n      data: {\r\n        pdf_id: pdfId\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 处理PDF详情响应\r\n   * @param {object} message - 响应消息\r\n   * @private\r\n   */\r\n  _handlePDFDetailResponse(message) {\r\n    const { request_id, data, error } = message;\r\n    \r\n    if (this.#pendingRequests.has(request_id)) {\r\n      const { resolve, reject } = this.#pendingRequests.get(request_id);\r\n      this.#pendingRequests.delete(request_id);\r\n      this.#requestRetries.delete(request_id);\r\n      \r\n      if (error) {\r\n        reject(new Error(error.message || 'PDF详情请求失败'));\r\n      } else {\r\n        resolve(data);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 发送PDF详情请求\r\n   * @param {string} pdfId - PDF文件ID\r\n   * @param {number} timeout - 超时时间（毫秒），默认5000\r\n   * @param {number} maxRetries - 最大重试次数，默认3\r\n   * @returns {Promise<object>} PDF详情数据\r\n   */\r\n  async sendPDFDetailRequest(pdfId, timeout = 5000, maxRetries = 3) {\r\n    const requestId = this._generateRequestId();\r\n    const message = this._buildPDFDetailRequestMessage(pdfId, requestId);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      let retryCount = 0;\r\n      \r\n      const executeRequest = () => {\r\n        if (!this.isConnected()) {\r\n          handleError(new Error('WebSocket连接未建立'));\r\n          return;\r\n        }\r\n\r\n        // 设置超时\r\n        const timeoutId = setTimeout(() => {\r\n          handleError(new Error('PDF详情请求超时'));\r\n        }, timeout);\r\n\r\n        // 保存请求信息\r\n        this.#pendingRequests.set(requestId, {\r\n          resolve: (data) => {\r\n            clearTimeout(timeoutId);\r\n            resolve(data);\r\n          },\r\n          reject: (error) => {\r\n            clearTimeout(timeoutId);\r\n            reject(error);\r\n          }\r\n        });\r\n\r\n        // 发送请求\r\n        try {\r\n          this.#socket.send(JSON.stringify(message));\r\n          this.#logger.debug(`PDF详情请求已发送: ${requestId}`, message);\r\n        } catch (error) {\r\n          clearTimeout(timeoutId);\r\n          handleError(error);\r\n        }\r\n      };\r\n\r\n      const handleError = (error) => {\r\n        if (retryCount < maxRetries) {\r\n          retryCount++;\r\n          this.#requestRetries.set(requestId, retryCount);\r\n          this.#logger.warn(`PDF详情请求失败，第${retryCount}次重试: ${error.message}`);\r\n          \r\n          setTimeout(() => {\r\n            executeRequest();\r\n          }, 1000 * retryCount); // 指数退避\r\n        } else {\r\n          this.#pendingRequests.delete(requestId);\r\n          this.#requestRetries.delete(requestId);\r\n          reject(new Error(`PDF详情请求失败，已重试${maxRetries}次: ${error.message}`));\r\n        }\r\n      };\r\n\r\n      executeRequest();\r\n    });\r\n  }\r\n\r\n  #attemptReconnect() {\r\n    if (this.#reconnectAttempts >= this.#maxReconnectAttempts) {\r\n      this.#logger.error(\"Max WebSocket reconnect attempts reached.\");\r\n      this.#eventBus.emit(WEBSOCKET_EVENTS.RECONNECT.FAILED, undefined, {\r\n        actorId: \"WSClient\",\r\n      });\r\n      return;\r\n    }\r\n    this.#reconnectAttempts++;\r\n    this.#logger.info(\r\n      `Attempting to reconnect (${this.#reconnectAttempts}/${\r\n        this.#maxReconnectAttempts\r\n      })...`\r\n    );\r\n    setTimeout(\r\n      () => this.connect(),\r\n      this.#reconnectDelay * this.#reconnectAttempts\r\n    );\r\n  }\r\n\r\n  #flushMessageQueue() {\r\n    this.#logger.info(`Flushing ${this.#messageQueue.length} queued messages.`);\r\n    while (this.#messageQueue.length > 0) {\r\n      const message = this.#messageQueue.shift();\r\n      this.send({ type: message.type, data: message.data });\r\n    }\r\n  }\r\n}\r\n\r\nexport default WSClient;\r\n","/**\r\n * @file 应用主入口，负责模块的初始化、协调和生命周期管理。\r\n * @module PDFHomeApp\r\n */\r\n\r\nimport { EventBus } from \"../common/event/event-bus.js\";\r\nimport TableWrapper from './table-wrapper.js';\r\nimport { APP_EVENTS, PDF_MANAGEMENT_EVENTS, UI_EVENTS, SYSTEM_EVENTS } from \"../common/event/event-constants.js\";\r\nimport Logger, { LogLevel } from \"../common/utils/logger.js\";\r\nimport { ErrorHandler } from \"../common/error/error-handler.js\";\r\nimport { UIManager } from \"./ui-manager.js\";\r\nimport PDFManager from \"../common/pdf/pdf-manager.js\";\r\nimport WSClient from \"../common/ws/ws-client.js\";\r\n\r\n/**\r\n * @class PDFHomeApp\r\n * @description 应用的核心协调器，管理所有模块的生命周期。\r\n */\r\nclass PDFHomeApp {\r\n  #logger;\r\n  #eventBus;\r\n  #errorHandler;\r\n  #websocketManager;\r\n  #pdfManager;\r\n  #uiManager;\r\n  #initialized = false;\r\n\r\n  constructor() {\r\n    this.#logger = new Logger(\"PDFHomeApp\");\r\n    this.#eventBus = new EventBus({\r\n      enableValidation: true,\r\n      logLevel: LogLevel.DEBUG,\r\n    });\r\n    this.#errorHandler = new ErrorHandler(this.#eventBus);\r\n    this.#websocketManager = new WSClient(\"ws://localhost:8765\", this.#eventBus);\r\n    this.#pdfManager = new PDFManager(this.#eventBus);\r\n    this.#uiManager = new UIManager(this.#eventBus);\r\n  }\r\n\r\n  /**\r\n   * 初始化所有应用模块。\r\n   */\r\n  async initialize() {\r\n    try {\r\n      this.#logger.info(\"Initializing PDF Home App...\");\r\n      this.#setupGlobalErrorHandling();\r\n      \r\n      // Initialize table wrapper (Tabulator) BEFORE UIManager so UIManager can attach to it\r\n      const tableContainer = document.querySelector('#pdf-table-container');\r\n      if (tableContainer) {\r\n          this.tableWrapper = new TableWrapper(tableContainer, {\r\n          columns: [\r\n            {\r\n              formatter: \"rowSelection\",\r\n              titleFormatter: \"rowSelection\", \r\n              titleFormatterParams: {\r\n                rowRange: \"active\" // 只显示当前页的全选\r\n              },\r\n              hozAlign: \"center\",\r\n              headerSort: false,\r\n              width: 50, // 增加宽度\r\n              cellClick: function(e, cell) {\r\n                e.stopPropagation(); // 防止事件冒泡\r\n              }\r\n            },\r\n            { title: \"File\", field: \"filename\", widthGrow: 2 },\r\n            { title: \"Title\", field: \"title\", widthGrow: 3 },\r\n            { title: \"Pages\", field: \"page_count\", hozAlign: \"center\", width: 80 },\r\n            { title: \"Cards\", field: \"cards_count\", hozAlign: \"center\", width: 80 },\r\n            // { \r\n            //   title: \"Actions\", \r\n            //   hozAlign: \"center\", \r\n            //   headerSort: false,\r\n            //   formatter: actionButtonsFormatter,\r\n            //   width: 150,\r\n            // }\r\n          ],\r\n          selectable: true,\r\n          // selectableRows: true,\r\n          // selectableCheck: function(row) {\r\n          //   // 可选：添加选择条件检查\r\n          //   return true; // 允许所有行被选择\r\n          // },\r\n          layout: \"fitColumns\",\r\n        });\r\n\r\n\r\n                // ==================== 诊断代码开始 ====================\r\n        \r\n        // 1. 检查 TableWrapper 内部的 Tabulator 实例是否存在\r\n        if (this.tableWrapper && this.tableWrapper.tabulator) {\r\n\r\n          // 2. 直接在原始 Tabulator 实例上绑定事件，绕过我们自己的 .on() 封装\r\n          // this.tableWrapper.tabulator.on(\"rowSelectionChanged\", (data, rows) => {\r\n          //   console.log(\r\n          //     \"%c !!! 诊断: 底层 Tabulator rowSelectionChanged 事件触发了 !!!\",\r\n          //     \"color: green; font-weight: bold;\",\r\n          //     data\r\n          //   );\r\n          // });\r\n          \r\n          // this.tableWrapper.tabulator.on(\"cellClick\", (e, cell) => {\r\n          //    console.log(\r\n          //     \"%c !!! 诊断: 底层 Tabulator cellClick 事件触发了 !!!\",\r\n          //     \"color: blue; font-weight: bold;\",\r\n          //     cell.getValue()\r\n          //   );\r\n          // });\r\n\r\n          this.#logger.info(\"诊断: 已直接在底层 Tabulator 实例上绑定 'rowSelectionChanged' 和 'cellClick' 事件。\");\r\n\r\n        } else {\r\n          this.#logger.error(\"诊断失败: 无法访问到 this.tableWrapper.tabulator！这说明 TableWrapper 初始化可能失败了。\");\r\n        }\r\n        \r\n        // ==================== 诊断代码结束 ====================\r\n\r\n\r\n        // // 我们自己封装的事件监听器暂时保持原样，用于对比\r\n        // this.tableWrapper.on('rowSelectionChanged', (data, rows) => {\r\n        //   this.#logger.info('我们封装的 on() -> rowSelectionChanged 触发了。');\r\n        // });\r\n\r\n\r\n        // Bridge Tabulator events to our event bus\r\n        // Use Tabulator's cellClick event signature: function(e, cell) -> cell.getRow().getData()\r\n        \r\n        // 确保 Tabulator 完全初始化后再绑定事件\r\n        setTimeout(() => {\r\n          if (this.tableWrapper && this.tableWrapper.tabulator) {\r\n            // 绑定选择变化事件\r\n            this.tableWrapper.tabulator.on(\"rowSelectionChanged\", (data, rows) => {\r\n              console.log(\"行选择发生变化:\", data, rows);\r\n              try {\r\n                const selected = Array.isArray(data) ? data.map(r => r.id || r.filename) : [];\r\n                this.#eventBus.emit(UI_EVENTS.SELECTION.CHANGED, selected, { actorId: 'PDFHomeApp' });\r\n              } catch (err) {\r\n                this.#logger.warn('Error handling rowSelectionChanged', err);\r\n                this.#eventBus.emit(SYSTEM_EVENTS.ERROR.OCCURRED, {\r\n                  type: 'table_error',\r\n                  message: err.message,\r\n                  details: { context: 'rowSelectionChanged', error: err }\r\n                });\r\n              }\r\n            });\r\n\r\n            // 绑定行点击事件（用于切换选择状态）\r\n            this.tableWrapper.tabulator.on(\"rowClick\", (e, row) => {\r\n              console.log(\"行被点击:\", row.getData());\r\n              // 切换行的选择状态\r\n              if (row.isSelected()) {\r\n                row.deselect();\r\n              } else {\r\n                row.select();\r\n              }\r\n            });\r\n\r\n            // 绑定单元格点击事件（用于操作按钮）\r\n            this.tableWrapper.tabulator.on(\"cellClick\", (e, cell) => {\r\n              const cellElement = cell.getElement();\r\n              const button = e.target.closest('button[data-action]');\r\n               \r\n              if (button) {\r\n                e.stopPropagation(); // 防止触发行选择\r\n                const action = button.getAttribute('data-action');\r\n                const rowData = cell.getRow().getData();\r\n                 \r\n                if (action === 'open') {\r\n                  this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.OPEN.REQUESTED, rowData.id || rowData.filename);\r\n                } else if (action === 'delete') {\r\n                  if (confirm('确定要删除这个PDF文件吗？')) {\r\n                    this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.REMOVE.REQUESTED, rowData.id || rowData.filename);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n\r\n            this.#logger.info(\"Tabulator 事件绑定完成\");\r\n          }\r\n        }, 100); // 给 Tabulator 一些时间完成初始化\r\n        \r\n        // this.tableWrapper.on('cellClick', (e, cell) => {\r\n        //   try {\r\n        //     // cell may be Tabulator.CellComponent\r\n        //     const rowData = (cell && typeof cell.getRow === 'function') ? cell.getRow().getData() : null;\r\n        //     if (!rowData) return;\r\n        //     const el = e && e.target ? e.target : null;\r\n        //     const actionBtn = el && el.closest ? el.closest('button[data-action]') : null;\r\n        //     if (actionBtn) {\r\n        //       const action = actionBtn.getAttribute('data-action');\r\n        //       const rowId = rowData.id || rowData.filename || '';\r\n        //       if (action === 'open') {\r\n        //         this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.OPEN.REQUESTED, rowId);\r\n        //       } else if (action === 'delete') {\r\n        //         if (confirm('确定要删除这个PDF文件吗？')) {\r\n        //           this.#eventBus.emit(PDF_MANAGEMENT_EVENTS.REMOVE.REQUESTED, rowId);\r\n        //         }\r\n        //       }\r\n        //     }\r\n        //   } catch (err) {\r\n        //     this.#logger.warn('Error handling table cellClick', err);\r\n        //     this.#eventBus.emit(SYSTEM_EVENTS.ERROR.OCCURRED, {\r\n        //       type: 'table_error',\r\n        //       message: err.message,\r\n        //       details: { context: 'table cellClick', error: err }\r\n        //     });\r\n        //   }\r\n        // });\r\n        // rowSelectionChanged\r\n        // this.tableWrapper.on('rowSelectionChanged', (data, rows) => {\r\n        //   try {\r\n        //     const selected = Array.isArray(data) ? data.map(r => r.id || r.filename) : [];\r\n        //     this.#eventBus.emit('ui:selection:changed', selected, { actorId: 'PDFHomeApp' });\r\n        //   } catch (err) {\r\n        //     this.#logger.warn('Error handling rowSelectionChanged', err);\r\n        //     this.#eventBus.emit(SYSTEM_EVENTS.ERROR.OCCURRED, {\r\n        //       type: 'table_error',\r\n        //       message: err.message,\r\n        //       details: { context: 'rowSelectionChanged', error: err }\r\n        //     });\r\n        //   }\r\n        // });\r\n        \r\n\r\n        // Subscribe to pdf list updates from event bus\r\n        this.#eventBus.on(PDF_MANAGEMENT_EVENTS.LIST.UPDATED, (pdfs) => {\r\n          try {\r\n            const mapped = Array.isArray(pdfs) ? pdfs.map(p => ({ ...p })) : [];\r\n            this.#logger.info(`pdf:list:updated received, count=${mapped.length}`);\r\n            if (mapped.length > 0) this.#logger.debug('sample item:', mapped[0]);\r\n            if (this.tableWrapper) {\r\n              this.tableWrapper.setData(mapped);\r\n            } else {\r\n              this.#logger.warn('TableWrapper not initialized when pdf:list:updated received');\r\n            }\r\n          } catch (e) {\r\n            this.#logger.error('Failed to update table wrapper data', e);\r\n          }\r\n        }, { subscriberId: 'PDFHomeApp' });\r\n\r\n        // Provide the table instance to UIManager before it initializes\r\n        this.#uiManager.pdfTable = this.tableWrapper;\r\n      } else {\r\n        this.#logger.warn('Table container #pdf-table-container not found; skipping TableWrapper init');\r\n      }\r\n\r\n      await this.#pdfManager.initialize();\r\n      await this.#websocketManager.connect();\r\n      await this.#uiManager.initialize(); // UIManager now has its own initialization logic\r\n      \r\n      this.#initialized = true;\r\n      this.#logger.info(\"PDF Home App initialized successfully.\");\r\n      this.#eventBus.emit(APP_EVENTS.INITIALIZATION.COMPLETED, undefined, { actorId: 'PDFHomeApp' });\r\n    } catch (error) {\r\n      this.#logger.error(\"Application initialization failed.\", error);\r\n      this.#errorHandler.handleError(error, \"App.initialize\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁应用，清理所有资源。\r\n   */\r\n  destroy() {\r\n    this.#logger.info(\"Destroying PDF Home App...\");\r\n    this.#pdfManager.destroy();\r\n    this.#uiManager.destroy();\r\n    this.#websocketManager.disconnect();\r\n    this.#eventBus.destroy();\r\n    this.#logger.info(\"PDF Home App destroyed.\");\r\n  }\r\n\r\n\r\n  #setupGlobalErrorHandling() {\r\n    window.addEventListener(\"unhandledrejection\", (event) => {\r\n      this.#logger.error(\"Unhandled Promise Rejection:\", event.reason);\r\n      this.#errorHandler.handleError(event.reason, \"UnhandledPromiseRejection\");\r\n    });\r\n\r\n    window.addEventListener(\"error\", (event) => {\r\n      this.#logger.error(\"Global Error:\", event.error);\r\n      this.#errorHandler.handleError(event.error, \"GlobalError\");\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 获取应用的公开状态快照。\r\n   * @returns {object} 应用的当前状态。\r\n   */\r\n  getState() {\r\n    return {\r\n      initialized: this.#initialized,\r\n      websocketConnected: this.#websocketManager.isConnected(),\r\n      pdfCount: this.#pdfManager.getPDFs().length,\r\n    };\r\n  }\r\n\r\n  // Expose EventBus for testing and external integrations\r\n  getEventBus() {\r\n    return this.#eventBus;\r\n  }\r\n}\r\n\r\n// ===== 应用启动 =====\r\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\r\n  const app = new PDFHomeApp();\r\n  const index_logger = new Logger(\"pdf-home/index.js\");\r\n  try {\r\n    await app.initialize();\r\n    window.app = {\r\n        getState: () => app.getState(),\r\n        destroy: () => app.destroy(),\r\n        _internal: app // For advanced debugging\r\n    };\r\n    index_logger.info(\"PDF Home App started. Use window.app.getState() for status.\");\r\n\r\n    // run lightweight integration tests automatically and log result (non-blocking)\r\n    /* Integration tests disabled by default. To run manually, import and call from console or devtools.\r\n    try {\r\n      const { runIntegrationTests } = await import('./integration-tests.js');\r\n      const bus = (typeof app.getEventBus === 'function') ? app.getEventBus() : (app._eventBus || null);\r\n      runIntegrationTests(bus, app).then(result => console.info('Integration tests result:', result)).catch(e => console.warn('Integration tests failed', e));\r\n    } catch (e) {\r\n      // ignore if tests cannot run in current environment\r\n    }\r\n    */\r\n  } catch (error) {\r\n    index_logger.error(\"Failed to start PDF Home App:\", error);\r\n  }\r\n});"],"names":["logger","_classPrivateMethodInitSpec","e","a","_checkPrivateRedeclaration","_classPrivateFieldInitSpec","t","_classPrivateFieldGet","s","_assertClassBrand","_classPrivateFieldSet","r","n","LogLevel","_moduleName","_logLevel","_Logger_brand","Logger","moduleName","initialLogLevel","level","message","_len","args","_key","_log","_len2","_key2","_len3","_key3","_len4","_key4","eventName","action","data","serializedData","_serializeForMessage","levelOrder","prefix","consoleMethod","_len5","_key5","serializedArgs","arg","_serializeArg","_deepSerialize","obj","maxDepth","seen","result","item","keys","key","totalKeys","_safeStringify","replacer","value","eventBus","_logger2","require$$0","EventNameValidator","event","parts","p","_events","_enableValidation","_logger","_nextSubscriberId","_EventBus_brand","EventBus","options","callback","_this$nextSubscriberI","_this$nextSubscriberI2","error","subscriberId","_inferActorId","callbackOrId","subscribers","removedId","id","cb","actorId","err","onceWrapper","lines","l","i","line","m","func","file","lineNo","tabulator_esm","CoreFeature","table","silent","columnsChanged","force","oldOption","newOption","convert","msg","Helpers","el","box","separator","field","structure","length","output","clone","list","objectProto","arrayProto","subject","match","copy","Popup","element","parent","container","touch","x","y","parentOffset","position","offset","containerOffset","origin","parentEl","coords","scrollTop","Module","name","_this","component","handler","priority","adjust","index","lookupIndex","renderInPosition","menuEl","menuContainer","content","type","defaultAccessors","Accessor","column","config","accessor","row","rowComponent","params","colComponent","defaultConfig","generateParamsList","serializeParams","encoded","urlBuilder","url","defaultLoaderPromise","contentType","resolve","reject","response","generateParamsList$1","defaultContentTypeFormatters","form","Ajax","ajaxParams","previousData","ajaxConfig","defaultPasteActions","rows","range","singleCell","bounds","startCell","startRow","rowWidth","dataLength","defaultPasteParsers","clipboard","headerFindSuccess","columns","columnMap","colWidth","startCol","itemLength","col","Clipboard","plain","html","rowData","internal","sel","textRange","parser","valid","blocked","CalcComponent","target","receiver","transform","cells","cell","CellComponent","mutate","Cell","vertAligns","hozAligns","classNames","className","val","containerOnly","changed","ColumnComponent","Column","ifVisible","to","after","toColumn","nextCol","prevCol","updates","width","defaultColumnOptions","def","newCol","defaults","contentElement","titleHolderElement","titleElement","text","title","contents","dataObj","alignment","height","parentHeight","traverse","updateBranches","colDefs","visible","responsiveToggle","childWidth","child","minWidth","maxWidth","cellCount","setTo","definition","RowComponent","Row","inFragment","children","maxHeight","minHeight","updatedData","tempData","newRowData","attrname","findCell","before","toRow","blockRedraw","defaultCalculations","values","calcParams","precision","sum","unique","ColumnCalcs","viewable","fragment","left","groups","group","pos","calcs","paramKey","results","groupObj","subGroups","subGroupResults","subgroup","DataTree","dummyEl","firstCol","childArray","isArray","oldControl","allChildren","subChildren","sub","childData","childRow","childIndex","top","recurse","csv","setFileContents","delimiter","fileContents","headers","json","pdf","header","body","autoTableParams","rowGroupStyles","rowCalcStyles","jsPDFParams","parseRow","styles","doc","xlsx","self","sheetName","workbook","tableFeatures","compression","writeOptions","generateSheet","merges","worksheet","b","j","sheet","s2ab","buf","view","jsonLines","defaultDownloaders","Download","mimeType","filename","active","interceptCallback","downloadFunc","buildLink","mime","groupHeader","newTab","blob","maskInput","mask","maskLetter","maskNumber","maskWildcard","fillSymbols","symbol","char","input","onRendered","success","cancel","editorParams","cellValue","onChange","textarea","vertNav","scrollHeight","heightNow","number","blurFunc","date","inputFormat","DT","convertDate","newDatetime","luxDate","time","luxTime","datetime","luxDateTime","Edit","editor","initialValue","cellEl","clickStop","listEl","attribs","valueKeys","valueCheck","character","iteration","responseValues","placeholder","term","inputValues","_ref","option","sorter","as","bs","a1","b1","L","rx","rd","emptyAlign","filterFunc","matches","label","startVis","blur","select","autocomplete","star","maxStars","size","stars","starsHolder","starChange","buildStar","starHolder","nextStar","changeValue","progress","max","min","percent","handle","bar","mouseDrag","mouseDragWidth","updateValue","style","calcVal","tickCross","tristate","indetermValue","indetermState","trueValueSet","falseValueSet","setValue","checkedValue","defaultEditors","Edit$1","newRow","nextCell","prevRow","nextRow","prevCell","block","forceEdit","topEdge","bottomEdge","rowEl","leftEdge","rightEdge","check","allowEdit","rendered","editFinished","cellEditor","editIndex","ExportRow","indent","ExportColumn","depth","Export","colVisProp","colData","groupData","subGroup","subGroupData","visProp","headerDepth","exportRows","parseColumnGroup","exportCols","headerEl","bodyEl","rowFormatter","setup","cellStyle","cellWrapper","formatComponent","holder","from","props","lookup","fromStyle","prop","defaultFilters","filterVal","rowVal","filterParams","keywords","keyword","Filter","all","filterType","filterChangeCheck","fieldVal","colVal","reinitialize","filterElement","editorElement","typingTimer","searchTrigger","onRenderedCallback","headerPos","filter","filters","ajax","filterList","searchType","activeRows","rowList","activeRowComponents","subFilter","plaintext","formatterParams","html$1","textarea$1","money","floatVal","sign","integer","decimal","rgx","decimalSym","thousandSym","negativeSign","link","urlPrefix","download","labelTraverse","path","image","src","tickCross$1","empty","truthy","tick","cross","datetime$1","outputFormat","invalid","datetimediff","suffix","unit","humanize","star$1","starActive","starInactive","traffic","colors","color","percentValue","progress$1","legendAlign","legend","legendColor","barEl","barContainer","legendEl","holderEl","buttonTick","buttonCross","rownum","responsiveCollapse","toggleList","isOpen","collapseEl","rowSelection","checkbox","defaultFormatters","Format","formatter","mockCell","entityMap","FrozenColumns","allCells","leftParents","leftMargin","rightMargin","visibleRows","otherRows","FrozenRows","frozenRows","rowType","GroupComponent","Group","groupManager","generator","oldGroup","elementsOnly","arrow","toggleElement","groupID","groupKey","toIndex","count","prev","includeChildren","GroupRows","groupBy","startOpen","langValue","lang","cols","lookupFunc","prevValue","groupRows","groupValues","toGroup","fromGroup","groupComponents","groupList","groupListData","oldGroups","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","samePath","groupPath","groupId","onlyGroupHeaders","defaultUndoers","defaultRedoers","History","oldRow","HtmlTableImport","defaultOptions","attributes","optionsArr","optionsList","attrib","exists","csvImporter","inQuote","nextChar","json$1","arrayImporter","defaultImporters","Import","importFormat","importer","extension","extensions","reader","parsedData","Interaction","types","added","noTouch","watchers","componentObj","defaultBindings","defaultActions","rowManager","newPos","scrollMax","Keybindings","bindings","mergedBindings","binding","bindingList","symbolsList","symbols","code","Menu","icon","headerMenuEl","menu","parentPopup","popup","itemEl","disabled","MoveColumns","colEl","startXMove","nextColWidth","prevColWidth","nextColWidthLast","prevColWidthLast","diff","moveToCol","headerElement","headersElement","movingCells","columnHolder","scrollLeft","xPos","scrollPos","MoveRows","startYMove","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","moveToRow","pageX","pageY","rowHolder","yPos","connectionTables","query","dropEvent","sender","fromRow","fromTable","toTable","defaultMutators","Mutator","mutator","links","linkCell","pageSize","currentRow","currentPage","totalRows","totalPages","showingEl","valueEl","ofEl","totalEl","rowsEl","pages","defaultPageCounters","Page","displayRows","testElRow","testElCell","dir","margin","button","pageSizes","counter","pageCounter","hidden","pageSelectLabel","paginationCounterHolder","mode","rowCount","page","leftSize","rightSize","actualRowPageSize","start","end","actualStartRow","actualRows","footer","defaultReaders","cookie","cookiePos","defaultWriters","expireDate","Persistence","testKey","retrievedData","sorters","headerFilters","layout","newValue","current","oldCols","newCols","mergeAllNew","definitions","excludedKeys","defStore","colDef","Popup$1","headerPopupEl","renderedCallback","contentsEl","Print","scrollX","scrollY","footerEl","tableEl","headerContent","footerContent","ReactiveData","version","newRows","oldRows","childField","origFuncs","update","ResizeColumns","frozenOffset","variableHeight","nearestColumn","handleDown","oldWidth","handleEl","mouseMove","startDiff","moveDiff","blockedBefore","blockedAfter","mouseUp","ResizeRows","prevHandle","prevHandleDown","ResizeTable","tableStyle","entry","nodeHeight","nodeWidth","entries","ResponsiveLayout","colCount","working","mockCellComponent","titleData","valueData","node_content","titleHighlight","SelectRow","prevSelected","selectable","endSelect","lastClickedRowIdx","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","changes","rowMatch","change","rowInfo","selectedRow","selected","deselected","number$1","aRow","bRow","alignEmptyValues","thousand","string","locale","datetime$2","format","date$1","time$1","boolean","el1","el2","array","calc","c","d","alphanum","defaultSorters","Sort","sortList","arrowEl","newSortList","sortListActual","rowComponents","sortObj","sortEl","sorterCount","sortItem","el1Comp","el2Comp","RangeComponent","Range","rangeManager","rowsCount","isRowHeader","_vDomTop","_vDomBottom","_vDomLeft","_vDomRight","bottom","right","topLeftCell","bottomRightCell","structured","arr","clearValue","notify","SelectRange","ranges","selectedColumns","selectedColumn","rangeIdx","jump","expand","moved","rangeEdge","removed","reverse","emptyStart","emptySide","currentCell","currentValue","rowPos","colPos","isStartingCellEmpty","isLeftOfStartingCellEmpty","jumpCol","targetCells","isRightOfStartingCellEmpty","isTopOfStartingCellEmpty","jumpRow","isBottomOfStartingCellEmpty","tableHolder","rowHeader","rect","withinHorizontalView","withinVerticalView","occupied","activeCell","colIdx","Tooltip","tooltip","defaultValidators","parameters","reg","cellData","Validate","previousValue","cancelled","validator","validators","failedValidators","invalidIndex","modules","OptionsList","msgType","userOptions","warn","Renderer","includingBuffer","rowIndex","BasicHorizontal","rowFrag","VirtualDomHorizontal","buffer","old","colEnd","ex","newWidth","widthDiff","ColumnManager","renderClass","renderers","nextToColumn","topColumn","parentIndex","nextEl","root","fieldRoot","updateRows","fromIndex","totalWidth","fixedWidth","BasicVertical","tableFrag","rowTop","VirtualDomVertical","topRow","topOffset","topDiff","bottomDiff","topFound","bottomRow","forceMove","topPad","rowsHeight","rowHeight","heightOccupied","topPadHeight","rowFragment","renderedRows","totalRowsRendered","rowsToRender","fixedHeight","containerHeight","avgRowHeight","resized","fillableSpace","addedRows","paddingAdjust","initialized","removableRows","RowManager","leftDir","topDir","allIndex","activeIndex","displayIndex","refreshDisplayOnly","chainResult","rowOnly","skipStage","stage","cascadeOrder","chain","scrollbarWidth","initialHeight","otherHeight","FooterManager","InteractionManager","listenerMap","listener","leaveList","linkedKeys","listeners","components","comp","targets","componentMap","classList","elTargets","targetMatches","previousTarget","ComponentFunctionBinder","funcName","DataLoader","replace","requestNo","map","shouldLoad","ExternalEventBus","debug","subscribed","notifiers","callResult","InternalEventBus","fallback","subscriber","confirmed","DeprecationAdvisor","TableRegistry","Tabulator","fitData","forced","fitDataGeneral","fitDataStretch","colsWidth","tableWidth","gap","lastCol","fitColumns","flexWidth","flexGrowUnits","flexColWidth","flexColumns","fixedShrinkColumns","flexShrinkUnits","overflowWidth","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","calcShrink","defaultModes","Layout","dataChanged","defaultLangs","Localize","desiredLocale","traverseLang","trans","fillPath","pathArray","rootPath","Comms","selectors","connections","connection","con","module","coreModules","ModuleBinder","tabulator","property","source","mod","orderedStartMods","orderedEndMods","unOrderedMods","core","mods","Alert","newElement","ua","stack","responses","foundRows","fromColumn","plugin","required","TabulatorFull","PseudoRow","tableWrapper","runTabulatorSmokeTest","_tabulatorTables","_interopRequireDefault","require$$2","_container","_tableWrapper","_options","_tabulator","_localListeners","_fallbackMode","_fallbackTable","_fallbackData","_TableWrapper_brand","TableWrapper","existing","wrapper","global","thead","headerRow","selectHeader","th","tbody","selectAllCheckbox","_prepareData","emptyRow","emptyCell","tr","selectCell","td","_handleDataLoaded","_handleSetDataError","selectedRows","payload","fn","customPlaceholder","_ensureTabulatorRedraw","_logDOMDiagnostics","_handleMissingDOMElements","_logComputedStyles","_logTabulatorInstanceInfo","childCount","innerLen","wrapperIsTabulator","tabExists","rectInfo","tabEl2","cs","contStyles","wrapStyles","tEl","tdataLen","colsCount","eventConstants","APP_EVENTS","SYSTEM_EVENTS","WEBSOCKET_EVENTS","PDF_MANAGEMENT_EVENTS","UI_EVENTS","WEBSOCKET_MESSAGE_EVENTS","WEBSOCKET_MESSAGE_TYPES","validateEventName","part","EVENT_CONSTANTS","errorHandler","_eventConstants","require$$1","ErrorType","AppError","ErrorHandler","context","errorInfo","userMessage","errorType","domUtils","DOMUtils","tagName","selector","elements","errEl","okEl","eventType","uiManager","_domUtils","_state","_elements","_eventBus","_unsubscribeFunctions","_UIManager_brand","UIManager","_initializeElements","_setupEventListeners","_setupGlobalEventListeners","_initializePDFTable","unsub","_setupTableEventListeners","handleDataChange","_this$pdfTable$tableW","pdfs","internalEmptyStates","unsubEventBus","_handleBatchDelete","_toggleDebugStatus","handleTableAction","btn","rowId","_updatePDFList","_setWebSocketConnected","handleKeyDown","_render","connected","_renderPDFList","_updateDebugStatus","loading","emptyState","pdfTableContainer","tableData","selectedFiles","checkboxes","tabulatorSelected","cellWithRowId","fakeCheckbox","_classPrivateFieldGet2","websocketConnected","pdfManager","_pdfs","_batchTrack","_lastListRequestTs","_listRequestCooldownMs","_PDFManager_brand","PDFManager","_setupWebSocketListeners","_loadPDFList","fileInfo","identifier","fileEntry","batchData","files","timestamp","batchRequestId","_handlePDFListUpdate","_handleSuccessResponse","_handleErrorResponse","_handleResponse","_data$data","newPdfs","_mapBackendToFrontend","_data$data2","_data$data3","_data$data4","errorMessage","_data$data5","_data$message","_data$message2","_data$data6","_data$data7","respData","batchId","originalType","_data$data8","batchIndex","batchTotal","filesArray","processedSummary","processedCount","toReduce","now","_data$data9","filesArrayNoId","processedSummaryNoId","processedCountNoId","backendData","wsClient","_url","_socket","_isConnectedFlag","_reconnectAttempts","_maxReconnectAttempts","_reconnectDelay","_messageQueue","_pendingRequests","_requestRetries","_WSClient_brand","WSClient","_attachSocketHandlers","pdfId","requestId","request_id","timeout","maxRetries","retryCount","executeRequest","handleError","timeoutId","_flushMessageQueue","_handleMessage","_attemptReconnect","rawData","targetEvent","_this$reconnectAttemp","_eventBus2","_interopRequireWildcard","require$$3","_errorHandler2","require$$4","_uiManager2","require$$5","_pdfManager2","require$$6","_wsClient","require$$7","o","f","_errorHandler","_websocketManager","_pdfManager","_uiManager","_initialized","_PDFHomeApp_brand","PDFHomeApp","_setupGlobalErrorHandling","tableContainer","cellElement","mapped","app","index_logger"],"mappings":"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","x_google_ignoreList":[2]}